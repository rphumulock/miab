webpackJsonp([0],{

/***/ 812:
/* no static exports found */
/* all exports used */
/*!*****************************************************!*\
  !*** ./src/app/modules/gameloop/gameloop.module.ts ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Required Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar common_1 = __webpack_require__(/*! @angular/common */ 21);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\nvar forms_1 = __webpack_require__(/*! @angular/forms */ 31);\r\nvar http_1 = __webpack_require__(/*! @angular/http */ 817);\r\n// App Imports\r\nvar menus_1 = __webpack_require__(/*! ../../core/menus */ 17);\r\nvar gameloop_component_1 = __webpack_require__(/*! ./gameloop.component */ 843);\r\nvar ngmodal_module_1 = __webpack_require__(/*! ../../shared/ngmodalservice/ngmodal.module */ 297);\r\nvar twemoji_service_1 = __webpack_require__(/*! ./twemoji/twemoji.service */ 819);\r\nvar emoji_resolve_guard_1 = __webpack_require__(/*! ./twemoji/emoji-resolve.guard */ 815);\r\n//import { ViewManagerService } from './drawinglibrary';\r\n// App Imports - Testing\r\nvar text_component_1 = __webpack_require__(/*! ./textframe/text.component */ 845);\r\nvar drawingframe_1 = __webpack_require__(/*! ./drawingframe */ 836);\r\nvar noview_component_1 = __webpack_require__(/*! ./noview/noview.component */ 844);\r\nvar noview_service_1 = __webpack_require__(/*! ./noview/noview.service */ 818);\r\nvar shared_1 = __webpack_require__(/*! ../../shared */ 9);\r\nvar routes = [\r\n    {\r\n        path: '',\r\n        component: gameloop_component_1.RootGameLoopComponent,\r\n        canActivate: [shared_1.IsMobileDeviceGuard],\r\n        children: [\r\n            {\r\n                path: '',\r\n                children: [\r\n                    {\r\n                        path: 'noview',\r\n                        component: noview_component_1.NoViewComponent\r\n                    },\r\n                    {\r\n                        path: 'drawing',\r\n                        component: drawingframe_1.TestDrawingBootstrapComponent,\r\n                        canActivate: [menus_1.DisableSiteMenus],\r\n                        resolve: {\r\n                            emoji: emoji_resolve_guard_1.EmojiResolveGuard\r\n                        }\r\n                    },\r\n                    {\r\n                        path: 'text',\r\n                        component: text_component_1.TestTextFrameComponent,\r\n                        canActivate: [menus_1.DisableSiteMenus]\r\n                    },\r\n                    {\r\n                        path: '',\r\n                        redirectTo: 'text',\r\n                        pathMatch: 'full'\r\n                    },\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n];\r\n// App Services\r\nvar GameLoopFeatureModule = (function () {\r\n    function GameLoopFeatureModule() {\r\n    }\r\n    return GameLoopFeatureModule;\r\n}());\r\nGameLoopFeatureModule = __decorate([\r\n    core_1.NgModule({\r\n        imports: [\r\n            common_1.CommonModule,\r\n            forms_1.FormsModule,\r\n            forms_1.ReactiveFormsModule,\r\n            ngmodal_module_1.NgModalServiceModule,\r\n            http_1.HttpModule,\r\n            router_1.RouterModule.forChild(routes)\r\n        ],\r\n        /**\r\n         * To share modules, components, directives or pipes, you\r\n         * must explicity re-export them from a feature module if other\r\n         * modules are expected to have access and use them\r\n         *\r\n         * You can also list export modules without this module needing it\r\n         * nor importing it.\r\n         */\r\n        exports: [],\r\n        /**\r\n         * Declare out reusable component template\r\n         */\r\n        declarations: [\r\n            gameloop_component_1.RootGameLoopComponent,\r\n            noview_component_1.NoViewComponent,\r\n            text_component_1.TestTextFrameComponent,\r\n            drawingframe_1.TestBaseDrawingComponent,\r\n            drawingframe_1.TestDrawingBootstrapComponent,\r\n            drawingframe_1.TestMobileDrawingComponent,\r\n            drawingframe_1.TestFullViewDrawingComponent\r\n        ],\r\n        /**\r\n         * Add it as an entry template so Angular compiler does not remove\r\n         * its references.\r\n         * https://angular.io/docs/ts/latest/cookbook/ngmodule-faq.html#!#q-entry-component-defined\r\n         */\r\n        entryComponents: [],\r\n        /**\r\n         * The root module and the feature module share the same execution context.\r\n         * They share the same dependency injector,\r\n         * which means the services in one module are available to all.\r\n         *\r\n         * Do not specify app-wide singleton providers in a shared module.\r\n         * A lazy-loaded module that imports that shared module makes its own copy of the service.\r\n         *\r\n         * This current design works for us because we only import this module once\r\n         * in the root module\r\n         *\r\n         * https://angular.io/docs/ts/latest/guide/ngmodule.html#!#core-for-root\r\n         */\r\n        providers: [\r\n            twemoji_service_1.TwemojiService, emoji_resolve_guard_1.EmojiResolveGuard,\r\n            noview_service_1.NoViewService\r\n        ]\r\n    })\r\n], GameLoopFeatureModule);\r\nexports.GameLoopFeatureModule = GameLoopFeatureModule;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEyLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGdhbWVsb29wLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZXF1aXJlZCBJbXBvcnRzXG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFJvdXRlck1vZHVsZSwgUm91dGVzIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7XG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZVxufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBIdHRwTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbi8qKlxuICogUmVxdWlyZWQgaW4gbW9kdWxlcyB0aGF0IGFyZSBsYXp5IGxvYWRlZCBmb3Igc28gdGhlIE5nYk1vZGFsU2VydmljZVxuICogd2lsbCB1c2UgdGhlIGFwcHJvcHJpYXRlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciBhbmQgSW5qZWN0b3JzXG4gKiBcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uZy1ib290c3RyYXAvbmctYm9vdHN0cmFwL2lzc3Vlcy85NDdcbiAqIFxuICogSWYgZmFjaW5nIHNpbWlsYXIgaXNzdWVzIGluIG90aGVyIGxhenkgbG9hZGVkIGR5bmFtaWMgbW9kdWxlc1xuICogc2VlIHRoZSBleGFtcGxlLCBzb2x1dGlvbiBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTQzMjRcbiAqL1xuaW1wb3J0IHsgTmdiTW9kdWxlIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBEaXNhYmxlU2l0ZU1lbnVzIH0gZnJvbSAnLi4vLi4vY29yZS9tZW51cyc7XG5pbXBvcnQgeyBSb290R2FtZUxvb3BDb21wb25lbnQgfSBmcm9tICcuL2dhbWVsb29wLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBOZ01vZGFsU2VydmljZU1vZHVsZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9uZ21vZGFsc2VydmljZS9uZ21vZGFsLm1vZHVsZSc7XG5pbXBvcnQgeyBUd2Vtb2ppU2VydmljZSB9IGZyb20gJy4vdHdlbW9qaS90d2Vtb2ppLnNlcnZpY2UnO1xuaW1wb3J0IHsgRW1vamlSZXNvbHZlR3VhcmQgfSBmcm9tICcuL3R3ZW1vamkvZW1vamktcmVzb2x2ZS5ndWFyZCc7XG5cbi8vaW1wb3J0IHsgVmlld01hbmFnZXJTZXJ2aWNlIH0gZnJvbSAnLi9kcmF3aW5nbGlicmFyeSc7XG5cbi8vIEFwcCBJbXBvcnRzIC0gVGVzdGluZ1xuaW1wb3J0IHsgVGVzdFRleHRGcmFtZUNvbXBvbmVudCB9IGZyb20gJy4vdGV4dGZyYW1lL3RleHQuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgVGVzdEJhc2VEcmF3aW5nQ29tcG9uZW50LFxuICAgIFRlc3REcmF3aW5nQm9vdHN0cmFwQ29tcG9uZW50LFxuICAgIFRlc3RNb2JpbGVEcmF3aW5nQ29tcG9uZW50LFxuICAgIFRlc3RGdWxsVmlld0RyYXdpbmdDb21wb25lbnRcbn0gZnJvbSAnLi9kcmF3aW5nZnJhbWUnO1xuaW1wb3J0IHsgTm9WaWV3Q29tcG9uZW50IH0gZnJvbSAnLi9ub3ZpZXcvbm92aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBOb1ZpZXdTZXJ2aWNlIH0gZnJvbSAnLi9ub3ZpZXcvbm92aWV3LnNlcnZpY2UnO1xuaW1wb3J0IHsgSXNNb2JpbGVEZXZpY2VHdWFyZCB9IGZyb20gJy4uLy4uL3NoYXJlZCc7XG5cbmNvbnN0IHJvdXRlczogUm91dGVzID0gW1xuICAgIHtcbiAgICAgICAgcGF0aDogJycsXG4gICAgICAgIGNvbXBvbmVudDogUm9vdEdhbWVMb29wQ29tcG9uZW50LFxuICAgICAgICBjYW5BY3RpdmF0ZTogW0lzTW9iaWxlRGV2aWNlR3VhcmRdLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhdGg6ICcnLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICdub3ZpZXcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBOb1ZpZXdDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2RyYXdpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUZXN0RHJhd2luZ0Jvb3RzdHJhcENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkFjdGl2YXRlOiBbRGlzYWJsZVNpdGVNZW51c10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1vamk6IEVtb2ppUmVzb2x2ZUd1YXJkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogVGVzdFRleHRGcmFtZUNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkFjdGl2YXRlOiBbRGlzYWJsZVNpdGVNZW51c11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTWF0Y2g6ICdmdWxsJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbl07XG5cbi8vIEFwcCBTZXJ2aWNlc1xuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIE5nTW9kYWxTZXJ2aWNlTW9kdWxlLFxuICAgICAgICBIdHRwTW9kdWxlLFxuICAgICAgICBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQocm91dGVzKVxuICAgIF0sXG4gICAgLyoqXG4gICAgICogVG8gc2hhcmUgbW9kdWxlcywgY29tcG9uZW50cywgZGlyZWN0aXZlcyBvciBwaXBlcywgeW91IFxuICAgICAqIG11c3QgZXhwbGljaXR5IHJlLWV4cG9ydCB0aGVtIGZyb20gYSBmZWF0dXJlIG1vZHVsZSBpZiBvdGhlclxuICAgICAqIG1vZHVsZXMgYXJlIGV4cGVjdGVkIHRvIGhhdmUgYWNjZXNzIGFuZCB1c2UgdGhlbVxuICAgICAqIFxuICAgICAqIFlvdSBjYW4gYWxzbyBsaXN0IGV4cG9ydCBtb2R1bGVzIHdpdGhvdXQgdGhpcyBtb2R1bGUgbmVlZGluZyBpdFxuICAgICAqIG5vciBpbXBvcnRpbmcgaXQuXG4gICAgICovXG4gICAgZXhwb3J0czogW1xuICAgIF0sXG4gICAgLyoqXG4gICAgICogRGVjbGFyZSBvdXQgcmV1c2FibGUgY29tcG9uZW50IHRlbXBsYXRlXG4gICAgICovXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIFJvb3RHYW1lTG9vcENvbXBvbmVudCxcbiAgICAgICAgTm9WaWV3Q29tcG9uZW50LFxuICAgICAgICBUZXN0VGV4dEZyYW1lQ29tcG9uZW50LFxuICAgICAgICBUZXN0QmFzZURyYXdpbmdDb21wb25lbnQsXG4gICAgICAgIFRlc3REcmF3aW5nQm9vdHN0cmFwQ29tcG9uZW50LFxuICAgICAgICBUZXN0TW9iaWxlRHJhd2luZ0NvbXBvbmVudCxcbiAgICAgICAgVGVzdEZ1bGxWaWV3RHJhd2luZ0NvbXBvbmVudFxuICAgIF0sXG4gICAgLyoqXG4gICAgICogQWRkIGl0IGFzIGFuIGVudHJ5IHRlbXBsYXRlIHNvIEFuZ3VsYXIgY29tcGlsZXIgZG9lcyBub3QgcmVtb3ZlXG4gICAgICogaXRzIHJlZmVyZW5jZXMuIFxuICAgICAqIGh0dHBzOi8vYW5ndWxhci5pby9kb2NzL3RzL2xhdGVzdC9jb29rYm9vay9uZ21vZHVsZS1mYXEuaHRtbCMhI3EtZW50cnktY29tcG9uZW50LWRlZmluZWRcbiAgICAgKi9cbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICBdLFxuICAgIC8qKlxuICAgICAqIFRoZSByb290IG1vZHVsZSBhbmQgdGhlIGZlYXR1cmUgbW9kdWxlIHNoYXJlIHRoZSBzYW1lIGV4ZWN1dGlvbiBjb250ZXh0LiBcbiAgICAgKiBUaGV5IHNoYXJlIHRoZSBzYW1lIGRlcGVuZGVuY3kgaW5qZWN0b3IsIFxuICAgICAqIHdoaWNoIG1lYW5zIHRoZSBzZXJ2aWNlcyBpbiBvbmUgbW9kdWxlIGFyZSBhdmFpbGFibGUgdG8gYWxsLlxuICAgICAqIFxuICAgICAqIERvIG5vdCBzcGVjaWZ5IGFwcC13aWRlIHNpbmdsZXRvbiBwcm92aWRlcnMgaW4gYSBzaGFyZWQgbW9kdWxlLiBcbiAgICAgKiBBIGxhenktbG9hZGVkIG1vZHVsZSB0aGF0IGltcG9ydHMgdGhhdCBzaGFyZWQgbW9kdWxlIG1ha2VzIGl0cyBvd24gY29weSBvZiB0aGUgc2VydmljZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGN1cnJlbnQgZGVzaWduIHdvcmtzIGZvciB1cyBiZWNhdXNlIHdlIG9ubHkgaW1wb3J0IHRoaXMgbW9kdWxlIG9uY2VcbiAgICAgKiBpbiB0aGUgcm9vdCBtb2R1bGVcbiAgICAgKiBcbiAgICAgKiBodHRwczovL2FuZ3VsYXIuaW8vZG9jcy90cy9sYXRlc3QvZ3VpZGUvbmdtb2R1bGUuaHRtbCMhI2NvcmUtZm9yLXJvb3RcbiAgICAgKi9cbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgVHdlbW9qaVNlcnZpY2UsIEVtb2ppUmVzb2x2ZUd1YXJkLFxuICAgICAgICBOb1ZpZXdTZXJ2aWNlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBHYW1lTG9vcEZlYXR1cmVNb2R1bGUgeyB9XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXItcm91dGVyLWxvYWRlci9zcmMhLi9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvZ2FtZWxvb3AubW9kdWxlLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBeURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXhEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///812\n");

/***/ }),

/***/ 814:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/app/modules/gameloop/drawinglibrary/index.ts ***!
  \**********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(/*! ./dragevents.service */ 839));\r\n__export(__webpack_require__(/*! ./imgqueue.service */ 840));\r\n__export(__webpack_require__(/*! ./resizeeditor.service */ 841));\r\n__export(__webpack_require__(/*! ./touchevents.service */ 842));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE0LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdsaWJyYXJ5XFxpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCAqIGZyb20gJy4vZHJhZ2V2ZW50cy5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vaW1ncXVldWUuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9yZXNpemVlZGl0b3Iuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL3RvdWNoZXZlbnRzLnNlcnZpY2UnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdsaWJyYXJ5L2luZGV4LnRzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///814\n");

/***/ }),

/***/ 815:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/app/modules/gameloop/twemoji/emoji-resolve.guard.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\n// App Imports\r\nvar collection_emoji_1 = __webpack_require__(/*! ./collection.emoji */ 846);\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar twemoji_service_1 = __webpack_require__(/*! ./twemoji.service */ 819);\r\nvar detectBrowser = __webpack_require__(/*! ../../../shared/resources/detectbrowser.js */ 822);\r\nvar EmojiResolveGuard = (function () {\r\n    function EmojiResolveGuard(logger, router, twemojiService) {\r\n        this.logger = logger;\r\n        this.router = router;\r\n        this.twemojiService = twemojiService;\r\n        this.currentIdx = 0;\r\n    }\r\n    EmojiResolveGuard.prototype.resolve = function (route, state) {\r\n        //this.logger.log('emoji resolve guard.');\r\n        return this.getEmojis(41)\r\n            .catch(function (err) {\r\n            //let errMsg = 'Unable to load required resources for route.\\\r\n            //Resetting your game session. :(';\r\n            // responsible for resetting the game and navigating back to main menu\r\n            //this.sessionErrors.notifyError(errMsg, 3000, true);\r\n            // this.router.navigate(['/game']);\r\n            return Promise.reject(err);\r\n        });\r\n    };\r\n    EmojiResolveGuard.prototype.getEmojis = function (count) {\r\n        var _this = this;\r\n        var emojiCollection = collection_emoji_1.collection.split('|');\r\n        var max = this.currentIdx + count;\r\n        var totalCollectionCount = emojiCollection.length;\r\n        emojiCollection = emojiCollection.filter(function (val, index) {\r\n            return index >= _this.currentIdx && index < max;\r\n        });\r\n        var log = {\r\n            'count-requested': count,\r\n            'current-idx': this.currentIdx,\r\n            'next-idx': max,\r\n            'total-length:': totalCollectionCount,\r\n            'subset-length': emojiCollection.length\r\n        };\r\n        //this.logger.object(log);\r\n        if (!emojiCollection || emojiCollection.length === 0) {\r\n            return Promise.reject('no more emojis to load');\r\n        }\r\n        return Promise.all(emojiCollection.map(this.twemojiService.parseIconId))\r\n            .then(function (values) {\r\n            // this.logger.log('finished processing emojis, array length: ' + values.length);\r\n            var validEmojiArr = values.filter(_this.twemojiService.filterInvalid); // removes invalid emojis\r\n            /*\r\n            this.logger.log('removed ' + (values.length - validEmojiArr.length) +\r\n              ' invalid emojis. new count: ' + validEmojiArr.length);\r\n            */\r\n            return validEmojiArr;\r\n        })\r\n            .then(function (validEmojis) {\r\n            return Promise.all(validEmojis.map(_this.twemojiService.returnDataURL));\r\n        })\r\n            .then(function (results) {\r\n            //this.logger.log('returning ' + results.length + ' emojis from request');\r\n            _this.currentIdx = _this.currentIdx + count;\r\n            return results;\r\n        })\r\n            .catch(function (err) {\r\n            _this.logger.error('Error while retreiving emjoii\\'s: ' +\r\n                '\\n start index: ' + (_this.currentIdx - count));\r\n            _this.logger.object(err);\r\n            return Promise.reject(err);\r\n        });\r\n    };\r\n    return EmojiResolveGuard;\r\n}());\r\nEmojiResolveGuard = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService,\r\n        router_1.Router,\r\n        twemoji_service_1.TwemojiService])\r\n], EmojiResolveGuard);\r\nexports.EmojiResolveGuard = EmojiResolveGuard;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE1LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHR3ZW1vamlcXGVtb2ppLXJlc29sdmUuZ3VhcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmVuZG9yIEltcG9ydHNcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIFJlc29sdmUsXG4gIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsXG4gIFJvdXRlclN0YXRlU25hcHNob3QsXG4gIFJvdXRlclxufSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG4vLyBBcHAgSW1wb3J0c1xuaW1wb3J0IHsgY29sbGVjdGlvbiB9IGZyb20gJy4vY29sbGVjdGlvbi5lbW9qaSc7XG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBUd2Vtb2ppU2VydmljZSB9IGZyb20gJy4vdHdlbW9qaS5zZXJ2aWNlJztcbmltcG9ydCB7IEVtb2ppIH0gZnJvbSAnLi4vZHJhd2luZ2xpYnJhcnknO1xuXG5sZXQgZGV0ZWN0QnJvd3NlciA9IHJlcXVpcmUoJy4uLy4uLy4uL3NoYXJlZC9yZXNvdXJjZXMvZGV0ZWN0YnJvd3Nlci5qcycpO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBFbW9qaVJlc29sdmVHdWFyZCBpbXBsZW1lbnRzIFJlc29sdmU8QXJyYXk8c3RyaW5nPj4ge1xuXG4gIHByb3RlY3RlZCBjdXJyZW50SWR4OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGxvZ2dlcjogTG9nZ2luZ1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJvdXRlcjogUm91dGVyLFxuICAgIHByb3RlY3RlZCB0d2Vtb2ppU2VydmljZTogVHdlbW9qaVNlcnZpY2UpIHtcbiAgICB0aGlzLmN1cnJlbnRJZHggPSAwO1xuICB9XG5cbiAgcmVzb2x2ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgLy90aGlzLmxvZ2dlci5sb2coJ2Vtb2ppIHJlc29sdmUgZ3VhcmQuJyk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RW1vamlzKDQxKVxuICAgICAgLmNhdGNoKFxuICAgICAgZXJyID0+IHtcbiAgICAgICAgLy9sZXQgZXJyTXNnID0gJ1VuYWJsZSB0byBsb2FkIHJlcXVpcmVkIHJlc291cmNlcyBmb3Igcm91dGUuXFxcbiAgICAgICAgLy9SZXNldHRpbmcgeW91ciBnYW1lIHNlc3Npb24uIDooJztcbiAgICAgICAgLy8gcmVzcG9uc2libGUgZm9yIHJlc2V0dGluZyB0aGUgZ2FtZSBhbmQgbmF2aWdhdGluZyBiYWNrIHRvIG1haW4gbWVudVxuICAgICAgICAvL3RoaXMuc2Vzc2lvbkVycm9ycy5ub3RpZnlFcnJvcihlcnJNc2csIDMwMDAsIHRydWUpO1xuICAgICAgICAvLyB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy9nYW1lJ10pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuICBwdWJsaWMgZ2V0RW1vamlzKGNvdW50OiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgbGV0IGVtb2ppQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uc3BsaXQoJ3wnKTtcblxuICAgIGxldCBtYXggPSB0aGlzLmN1cnJlbnRJZHggKyBjb3VudDtcblxuICAgIGxldCB0b3RhbENvbGxlY3Rpb25Db3VudCA9IGVtb2ppQ29sbGVjdGlvbi5sZW5ndGg7XG5cbiAgICBlbW9qaUNvbGxlY3Rpb24gPSBlbW9qaUNvbGxlY3Rpb24uZmlsdGVyKCh2YWwsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaW5kZXggPj0gdGhpcy5jdXJyZW50SWR4ICYmIGluZGV4IDwgbWF4O1xuICAgIH0pO1xuXG4gICAgbGV0IGxvZyA9IHtcbiAgICAgICdjb3VudC1yZXF1ZXN0ZWQnOiBjb3VudCxcbiAgICAgICdjdXJyZW50LWlkeCc6IHRoaXMuY3VycmVudElkeCxcbiAgICAgICduZXh0LWlkeCc6IG1heCxcbiAgICAgICd0b3RhbC1sZW5ndGg6JzogdG90YWxDb2xsZWN0aW9uQ291bnQsXG4gICAgICAnc3Vic2V0LWxlbmd0aCc6IGVtb2ppQ29sbGVjdGlvbi5sZW5ndGhcbiAgICB9O1xuXG4gICAgLy90aGlzLmxvZ2dlci5vYmplY3QobG9nKTtcbiAgICBcblxuICAgIGlmICghZW1vamlDb2xsZWN0aW9uIHx8IGVtb2ppQ29sbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnbm8gbW9yZSBlbW9qaXMgdG8gbG9hZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChlbW9qaUNvbGxlY3Rpb24ubWFwKHRoaXMudHdlbW9qaVNlcnZpY2UucGFyc2VJY29uSWQpKVxuICAgICAgLnRoZW4oXG4gICAgICB2YWx1ZXMgPT4ge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coJ2ZpbmlzaGVkIHByb2Nlc3NpbmcgZW1vamlzLCBhcnJheSBsZW5ndGg6ICcgKyB2YWx1ZXMubGVuZ3RoKTtcblxuICAgICAgICBsZXQgdmFsaWRFbW9qaUFyciA9IHZhbHVlcy5maWx0ZXIodGhpcy50d2Vtb2ppU2VydmljZS5maWx0ZXJJbnZhbGlkKTsgLy8gcmVtb3ZlcyBpbnZhbGlkIGVtb2ppc1xuXG4gICAgICAgIC8qXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygncmVtb3ZlZCAnICsgKHZhbHVlcy5sZW5ndGggLSB2YWxpZEVtb2ppQXJyLmxlbmd0aCkgK1xuICAgICAgICAgICcgaW52YWxpZCBlbW9qaXMuIG5ldyBjb3VudDogJyArIHZhbGlkRW1vamlBcnIubGVuZ3RoKTtcbiAgICAgICAgKi9cblxuICAgICAgICByZXR1cm4gdmFsaWRFbW9qaUFycjtcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgIHZhbGlkRW1vamlzID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHZhbGlkRW1vamlzLm1hcCh0aGlzLnR3ZW1vamlTZXJ2aWNlLnJldHVybkRhdGFVUkwpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihcbiAgICAgIHJlc3VsdHMgPT4ge1xuICAgICAgICAvL3RoaXMubG9nZ2VyLmxvZygncmV0dXJuaW5nICcgKyByZXN1bHRzLmxlbmd0aCArICcgZW1vamlzIGZyb20gcmVxdWVzdCcpO1xuICAgICAgICB0aGlzLmN1cnJlbnRJZHggPSB0aGlzLmN1cnJlbnRJZHggKyBjb3VudDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKFxuICAgICAgZXJyID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHdoaWxlIHJldHJlaXZpbmcgZW1qb2lpXFwnczogJyArXG4gICAgICAgICAgJ1xcbiBzdGFydCBpbmRleDogJyArICh0aGlzLmN1cnJlbnRJZHggLSBjb3VudCkpO1xuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoZXJyKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gIH1cblxuXG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC90d2Vtb2ppL2Vtb2ppLXJlc29sdmUuZ3VhcmQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBOzs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBMUZBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFQQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///815\n");

/***/ }),

/***/ 816:
/* no static exports found */
/* all exports used */
/*!*****************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/base.component.ts ***!
  \*****************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar shared_2 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar drawinglibrary_1 = __webpack_require__(/*! ../drawinglibrary */ 814);\r\nvar emoji_resolve_guard_1 = __webpack_require__(/*! ../twemoji/emoji-resolve.guard */ 815);\r\nvar testabstract_component_1 = __webpack_require__(/*! ./testabstract.component */ 838);\r\nvar DrawingBoard = __webpack_require__(/*! ../canvas/drawingboard.js */ 878);\r\nvar TestBaseDrawingComponent = (function (_super) {\r\n    __extends(TestBaseDrawingComponent, _super);\r\n    function TestBaseDrawingComponent(imgQueue, dragEvents, touchEvents, resizeEditor, changeDetector, route, viewportMgr, emojiService, modalService, logger) {\r\n        var _this = _super.call(this, logger) || this;\r\n        _this.imgQueue = imgQueue;\r\n        _this.dragEvents = dragEvents;\r\n        _this.touchEvents = touchEvents;\r\n        _this.resizeEditor = resizeEditor;\r\n        _this.changeDetector = changeDetector;\r\n        _this.route = route;\r\n        _this.viewportMgr = viewportMgr;\r\n        _this.emojiService = emojiService;\r\n        _this.modalService = modalService;\r\n        _this.logger = logger;\r\n        _this.initialView = {\r\n            isInitial: true,\r\n            isLandscape: false,\r\n            processed: false\r\n        };\r\n        _this.openControls = false;\r\n        _this.monitorOrientation = function (event) {\r\n            _this.isLandscape = event.orientation === shared_2.OrientationState.landscape;\r\n            if (_this.initialView.isInitial) {\r\n                _this.initialView.isLandscape = _this.isLandscape;\r\n                _this.initialView.isInitial = false;\r\n            }\r\n            else if (!_this.initialView.processed) {\r\n                _this.initialView.processed = true;\r\n                if (_this.initialView.isLandscape) {\r\n                    _this.logger.log('requesting change detection!');\r\n                    _this.logger.log('current url: ' + _this.route.snapshot.url);\r\n                    var url = '/activegame/' + _this.route.snapshot.url;\r\n                    //this.router.navigate([url]);\r\n                    window.location.reload();\r\n                }\r\n            }\r\n        };\r\n        _this.preCacheNext = function () {\r\n            // pre-caching next 80 emojis\r\n            _this.emojiService.getEmojis(120)\r\n                .then(function (results) {\r\n                _this.collection = _this.collection.concat(results);\r\n            });\r\n        };\r\n        _this.currentIdx = 0;\r\n        _this.collectionMsg = 'Loading...';\r\n        viewportMgr.change(true).subscribe(_this.monitorOrientation);\r\n        return _this;\r\n    }\r\n    TestBaseDrawingComponent.prototype.toggleControls = function () {\r\n        this.openControls = !this.openControls;\r\n        this.imgQueue.controlsOpen = this.openControls;\r\n    };\r\n    /**\r\n     * Will first call the base classes ngOnInit function which is\r\n     * responsible for retreiving and setting this game turns\r\n     * details.\r\n     *\r\n     * It then proceeds to get the emoji list data provided by the\r\n     * twemoji service accessed via the resolution guard and\r\n     * ActivatedRoute object\r\n     */\r\n    TestBaseDrawingComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.route.data.subscribe(function (data) {\r\n            if (!data) {\r\n                _this.collectionMsg = 'Emoji\\'s unavailable :(';\r\n                _this.setupEmojiList = false;\r\n                _this.nextAvail = false;\r\n                return;\r\n            }\r\n            if (!data.emoji) {\r\n                _this.setupEmojiList = false;\r\n                _this.nextAvail = false;\r\n                return;\r\n            }\r\n            _this.collection = data.emoji;\r\n            _this.displayEmojis(40);\r\n            _this.setupEmojiList = true;\r\n            _this.nextAvail = true;\r\n        });\r\n    };\r\n    TestBaseDrawingComponent.prototype.ngAfterViewInit = function () {\r\n        this.canvasId = 'default-board';\r\n        this.defaultBoard = new DrawingBoard.DrawingBoard.Board(this.canvasId, {\r\n            webStorage: false,\r\n            enlargeYourContainer: true,\r\n            droppable: true,\r\n            errorMessage: 'Your browser does not support canvas!'\r\n        });\r\n        this.imgQueue.initTouchEventListener();\r\n        this.resizeEditor.initTouchEventListener();\r\n        this.touchEvents.initTouchListeners();\r\n        // we disabled pre-caching next set of emojis\r\n        // to help mobile devices\r\n        setTimeout(this.preCacheNext, 600);\r\n    };\r\n    TestBaseDrawingComponent.prototype.backAvail = function () {\r\n        return this.currentIdx - 40 > 0;\r\n    };\r\n    TestBaseDrawingComponent.prototype.nextEmojis = function () {\r\n        var _this = this;\r\n        if (!this.nextAvail) {\r\n            return;\r\n        }\r\n        var nextIndex = this.currentIdx + 40;\r\n        var loadMore = nextIndex >= this.collection.length;\r\n        if (!loadMore) {\r\n            this.displayEmojis(nextIndex);\r\n        }\r\n        else {\r\n            this.setupEmojiList = false; // hide current emoji list\r\n            this.emojiService.getEmojis(80)\r\n                .then(function (results) {\r\n                _this.logger.log('successfully requested more emojis');\r\n                var log = {\r\n                    'prevous-length': _this.collection.length\r\n                };\r\n                _this.collection = _this.collection.concat(results);\r\n                log['new-length'] = _this.collection.length;\r\n                log['next-index'] = nextIndex;\r\n                _this.logger.object(log);\r\n                // incase the new length is still not enough for \r\n                // a whole new set of 40 emojis\r\n                if (nextIndex >= _this.collection.length) {\r\n                    var diff = _this.collection.length - _this.currentIdx;\r\n                    nextIndex = _this.currentIdx + diff;\r\n                    _this.nextAvail = false;\r\n                }\r\n                _this.displayEmojis(nextIndex);\r\n                setTimeout(_this.preCacheNext, 400);\r\n            })\r\n                .catch(function (err) {\r\n                _this.nextAvail = false;\r\n                if (err !== 'no more emojis to load') {\r\n                    _this.logger.error('unable to request next set of emojis');\r\n                    _this.logger.error(err);\r\n                }\r\n                {\r\n                    _this.logger.log(err);\r\n                }\r\n                // show previous emoji list if available\r\n                if (_this.emojis) {\r\n                    _this.setupEmojiList = true;\r\n                }\r\n                else {\r\n                    _this.collectionMsg = 'Unable to get next emoji view.\\n\\\n                        Emojis no longer available';\r\n                    _this.setupEmojiList = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    TestBaseDrawingComponent.prototype.previousEmojis = function () {\r\n        var nextIndex = this.currentIdx - 40;\r\n        if (nextIndex < 40) {\r\n            return;\r\n        }\r\n        this.displayEmojis(nextIndex);\r\n    };\r\n    TestBaseDrawingComponent.prototype.displayEmojis = function (nextIndex) {\r\n        /*\r\n        this.logger.log('display emoji next requested');\r\n        this.logger.object({\r\n            'next-index': nextIndex,\r\n            'current-index': this.currentIdx,\r\n            length: this.collection.length\r\n        });\r\n        */\r\n        var diff;\r\n        if (nextIndex > this.currentIdx) {\r\n            diff = nextIndex - this.currentIdx;\r\n        }\r\n        else {\r\n            diff = this.currentIdx - nextIndex;\r\n            diff *= -1;\r\n        }\r\n        var max = this.currentIdx + diff;\r\n        var min = max - Math.sqrt(Math.pow(diff, 2));\r\n        var inView = this.collection.filter(function (val, index) {\r\n            var valid = index >= min && index < max;\r\n            return valid;\r\n        });\r\n        if (inView) {\r\n            this.currentIdx = nextIndex;\r\n            this.emojis = inView;\r\n            this.setupEmojiList = true; // show current emoji list\r\n            if (diff < 0) {\r\n                this.nextAvail = true;\r\n            }\r\n        }\r\n        else {\r\n            var log_1 = {\r\n                'next-index': nextIndex,\r\n                'diff': diff,\r\n                'max': max,\r\n                'min': min\r\n            };\r\n            this.logger.error('error while calculating and updating emoji next view');\r\n            this.logger.error(log_1);\r\n            this.collectionMsg = 'Unable to get next emoji view.\\nEmojis no longer available';\r\n            this.setupEmojiList = false;\r\n        }\r\n    };\r\n    TestBaseDrawingComponent.prototype.submitFrame = function () {\r\n        this.processSubmitFrame();\r\n    };\r\n    TestBaseDrawingComponent.prototype.doneEditingWrapper = function () {\r\n        if (this.resizeEditor.doneEditingEnabled()) {\r\n            this.toggleControls();\r\n            this.resizeEditor.doneEditing(this.imgQueue);\r\n        }\r\n    };\r\n    TestBaseDrawingComponent.prototype.processSubmitFrame = function () {\r\n        // https://github.com/Leimi/drawingboard.js/blob/master/js/board.js\r\n        //let imagDataUrl = this.defaultBoard.getImg();\r\n        // custom code added to simple undo history stack to allow \r\n        var imagDataUrl = this.logger.object(this.defaultBoard.history.getCurrent());\r\n        this.logger.log('img as dataurl: ' + imagDataUrl);\r\n        /*\r\n        // Already tested and it works...\r\n        return this.submitImage(imagDataUrl)\r\n            .then(\r\n            url => {\r\n                this.logger.log('img upload url: ' + url);\r\n            });\r\n        */\r\n    };\r\n    TestBaseDrawingComponent.prototype.submitImage = function (imgAsDataUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                this.logger.log('submit button pressed!');\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    TestBaseDrawingComponent.prototype.getHistoryStack = function () {\r\n        this.logger.log('history stack: ');\r\n        this.logger.object(this.defaultBoard.history);\r\n        this.logger.object(this.defaultBoard.history.getCurrent());\r\n    };\r\n    return TestBaseDrawingComponent;\r\n}(testabstract_component_1.TestAbstractGameTurnComponent));\r\nTestBaseDrawingComponent = __decorate([\r\n    core_1.Component({\r\n        template: '',\r\n    }),\r\n    __metadata(\"design:paramtypes\", [drawinglibrary_1.ImgQueueService,\r\n        drawinglibrary_1.DragEventsHandler,\r\n        drawinglibrary_1.TouchEventsHandler,\r\n        drawinglibrary_1.ResizeEditorService,\r\n        core_1.ChangeDetectorRef,\r\n        router_1.ActivatedRoute,\r\n        shared_2.ViewPortManagementService,\r\n        emoji_resolve_guard_1.EmojiResolveGuard,\r\n        shared_1.NgModalService,\r\n        shared_1.LoggingService])\r\n], TestBaseDrawingComponent);\r\nexports.TestBaseDrawingComponent = TestBaseDrawingComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE2LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcYmFzZS5jb21wb25lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmVuZG9yIEltcG9ydHNcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIE9uSW5pdCxcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBcbiAgICBMb2dnaW5nU2VydmljZSAsXG4gICAgTmdNb2RhbFNlcnZpY2Vcbn0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCB7XG4gICAgVmlld1BvcnRNYW5hZ2VtZW50U2VydmljZSxcbiAgICBPcmllbnRhdGlvblN0YXRlLFxuICAgIFZpZXdQb3J0RXZlbnQsXG59IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQge1xuICAgIERyYWdFdmVudHNIYW5kbGVyLFxuICAgIFRvdWNoRXZlbnRzSGFuZGxlcixcbiAgICBFbW9qaSxcbiAgICBSZXNpemVFZGl0b3JTZXJ2aWNlLFxuICAgIEltZ1F1ZXVlU2VydmljZVxufSBmcm9tICcuLi9kcmF3aW5nbGlicmFyeSc7XG5pbXBvcnQgeyBFbW9qaVJlc29sdmVHdWFyZCB9IGZyb20gJy4uL3R3ZW1vamkvZW1vamktcmVzb2x2ZS5ndWFyZCc7XG5pbXBvcnQgeyB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBUZXN0QWJzdHJhY3RHYW1lVHVybkNvbXBvbmVudCB9IGZyb20gJy4vdGVzdGFic3RyYWN0LmNvbXBvbmVudCc7XG5cbmxldCBEcmF3aW5nQm9hcmQgPSByZXF1aXJlKCcuLi9jYW52YXMvZHJhd2luZ2JvYXJkLmpzJyk7XG5cbkBDb21wb25lbnQoe1xuICAgIHRlbXBsYXRlOiAnJyxcbn0pXG5leHBvcnQgY2xhc3MgVGVzdEJhc2VEcmF3aW5nQ29tcG9uZW50IGV4dGVuZHMgVGVzdEFic3RyYWN0R2FtZVR1cm5Db21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcblxuICAgIGRlZmF1bHRCb2FyZDogYW55O1xuICAgIGNhbnZhc0lkOiBzdHJpbmc7XG4gICAgc2V0dXBFbW9qaUxpc3Q6IGJvb2xlYW47XG4gICAgZW1vamlzOiBBcnJheTxFbW9qaT47XG4gICAgY29sbGVjdGlvbjogQXJyYXk8RW1vamk+O1xuXG4gICAgY3VycmVudElkeDogbnVtYmVyO1xuICAgIGNvbGxlY3Rpb25Nc2c6IHN0cmluZztcbiAgICBuZXh0QXZhaWw6IGJvb2xlYW47XG4gICAgaXNMYW5kc2NhcGU6IGJvb2xlYW47XG4gICAgaW5pdGlhbFZpZXcgPSB7XG4gICAgICAgIGlzSW5pdGlhbDogdHJ1ZSxcbiAgICAgICAgaXNMYW5kc2NhcGU6IGZhbHNlLFxuICAgICAgICBwcm9jZXNzZWQ6IGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBpbWdRdWV1ZTogSW1nUXVldWVTZXJ2aWNlLFxuICAgICAgICBwdWJsaWMgZHJhZ0V2ZW50czogRHJhZ0V2ZW50c0hhbmRsZXIsXG4gICAgICAgIHB1YmxpYyB0b3VjaEV2ZW50czogVG91Y2hFdmVudHNIYW5kbGVyLFxuICAgICAgICBwdWJsaWMgcmVzaXplRWRpdG9yOiBSZXNpemVFZGl0b3JTZXJ2aWNlLFxuICAgICAgICBwcm90ZWN0ZWQgY2hhbmdlRGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICBwcm90ZWN0ZWQgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBwcm90ZWN0ZWQgdmlld3BvcnRNZ3I6IFZpZXdQb3J0TWFuYWdlbWVudFNlcnZpY2UsXG4gICAgICAgIHByb3RlY3RlZCBlbW9qaVNlcnZpY2U6IEVtb2ppUmVzb2x2ZUd1YXJkLFxuICAgICAgICBwcm90ZWN0ZWQgbW9kYWxTZXJ2aWNlOiBOZ01vZGFsU2VydmljZSxcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogTG9nZ2luZ1NlcnZpY2UpIHtcblxuICAgICAgICBzdXBlcihsb2dnZXIpO1xuICAgICAgICB0aGlzLmN1cnJlbnRJZHggPSAwO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25Nc2cgPSAnTG9hZGluZy4uLic7XG4gICAgICAgIHZpZXdwb3J0TWdyLmNoYW5nZSh0cnVlKS5zdWJzY3JpYmUodGhpcy5tb25pdG9yT3JpZW50YXRpb24pO1xuICAgIH1cblxuICAgIG9wZW5Db250cm9scyA9IGZhbHNlO1xuICAgIHRvZ2dsZUNvbnRyb2xzKCkge1xuICAgICAgICB0aGlzLm9wZW5Db250cm9scyA9ICF0aGlzLm9wZW5Db250cm9scztcbiAgICAgICAgdGhpcy5pbWdRdWV1ZS5jb250cm9sc09wZW4gPSB0aGlzLm9wZW5Db250cm9scztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIGZpcnN0IGNhbGwgdGhlIGJhc2UgY2xhc3NlcyBuZ09uSW5pdCBmdW5jdGlvbiB3aGljaCBpcyBcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgcmV0cmVpdmluZyBhbmQgc2V0dGluZyB0aGlzIGdhbWUgdHVybnMgXG4gICAgICogZGV0YWlscy4gXG4gICAgICogXG4gICAgICogSXQgdGhlbiBwcm9jZWVkcyB0byBnZXQgdGhlIGVtb2ppIGxpc3QgZGF0YSBwcm92aWRlZCBieSB0aGUgXG4gICAgICogdHdlbW9qaSBzZXJ2aWNlIGFjY2Vzc2VkIHZpYSB0aGUgcmVzb2x1dGlvbiBndWFyZCBhbmQgXG4gICAgICogQWN0aXZhdGVkUm91dGUgb2JqZWN0XG4gICAgICovXG4gICAgbmdPbkluaXQoKSB7XG5cbiAgICAgICAgdGhpcy5yb3V0ZS5kYXRhLnN1YnNjcmliZShcbiAgICAgICAgICAgIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uTXNnID0gJ0Vtb2ppXFwncyB1bmF2YWlsYWJsZSA6KCc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBFbW9qaUxpc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0QXZhaWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghZGF0YS5lbW9qaSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dEF2YWlsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb24gPSBkYXRhLmVtb2ppIGFzIEFycmF5PEVtb2ppPjtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUVtb2ppcyg0MCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRBdmFpbCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG5cbiAgICAgICAgdGhpcy5jYW52YXNJZCA9ICdkZWZhdWx0LWJvYXJkJztcbiAgICAgICAgdGhpcy5kZWZhdWx0Qm9hcmQgPSBuZXcgRHJhd2luZ0JvYXJkLkRyYXdpbmdCb2FyZC5Cb2FyZChcbiAgICAgICAgICAgIHRoaXMuY2FudmFzSWQsIHtcbiAgICAgICAgICAgICAgICB3ZWJTdG9yYWdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlbmxhcmdlWW91ckNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkcm9wcGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY2FudmFzISdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW1nUXVldWUuaW5pdFRvdWNoRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICB0aGlzLnJlc2l6ZUVkaXRvci5pbml0VG91Y2hFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMudG91Y2hFdmVudHMuaW5pdFRvdWNoTGlzdGVuZXJzKCk7XG5cblxuICAgICAgICAvLyB3ZSBkaXNhYmxlZCBwcmUtY2FjaGluZyBuZXh0IHNldCBvZiBlbW9qaXNcbiAgICAgICAgLy8gdG8gaGVscCBtb2JpbGUgZGV2aWNlc1xuXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5wcmVDYWNoZU5leHQsIDYwMCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1vbml0b3JPcmllbnRhdGlvbiA9IChldmVudDogVmlld1BvcnRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmlzTGFuZHNjYXBlID0gZXZlbnQub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uU3RhdGUubGFuZHNjYXBlO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxWaWV3LmlzSW5pdGlhbCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlldy5pc0xhbmRzY2FwZSA9IHRoaXMuaXNMYW5kc2NhcGU7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWaWV3LmlzSW5pdGlhbCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmluaXRpYWxWaWV3LnByb2Nlc3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmlldy5wcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhbFZpZXcuaXNMYW5kc2NhcGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3JlcXVlc3RpbmcgY2hhbmdlIGRldGVjdGlvbiEnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2N1cnJlbnQgdXJsOiAnICsgdGhpcy5yb3V0ZS5zbmFwc2hvdC51cmwpO1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSAnL2FjdGl2ZWdhbWUvJyArIHRoaXMucm91dGUuc25hcHNob3QudXJsO1xuICAgICAgICAgICAgICAgIC8vdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0pO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG5cblxuICAgIHByb3RlY3RlZCBwcmVDYWNoZU5leHQgPSAoKSA9PiB7XG4gICAgICAgIC8vIHByZS1jYWNoaW5nIG5leHQgODAgZW1vamlzXG4gICAgICAgIHRoaXMuZW1vamlTZXJ2aWNlLmdldEVtb2ppcygxMjApXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgIHJlc3VsdHMgPT4ge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uLmNvbmNhdChyZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBiYWNrQXZhaWwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJZHggLSA0MCA+IDA7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG5leHRFbW9qaXMoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5leHRBdmFpbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5leHRJbmRleCA9IHRoaXMuY3VycmVudElkeCArIDQwO1xuXG4gICAgICAgIGxldCBsb2FkTW9yZSA9IG5leHRJbmRleCA+PSB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgIGlmICghbG9hZE1vcmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUVtb2ppcyhuZXh0SW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXR1cEVtb2ppTGlzdCA9IGZhbHNlOyAvLyBoaWRlIGN1cnJlbnQgZW1vamkgbGlzdFxuICAgICAgICAgICAgdGhpcy5lbW9qaVNlcnZpY2UuZ2V0RW1vamlzKDgwKVxuICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgIHJlc3VsdHMgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnc3VjY2Vzc2Z1bGx5IHJlcXVlc3RlZCBtb3JlIGVtb2ppcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAncHJldm91cy1sZW5ndGgnOiB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uLmNvbmNhdChyZXN1bHRzKTtcblxuICAgICAgICAgICAgICAgICAgICBsb2dbJ25ldy1sZW5ndGgnXSA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGxvZ1snbmV4dC1pbmRleCddID0gbmV4dEluZGV4O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QobG9nKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpbmNhc2UgdGhlIG5ldyBsZW5ndGggaXMgc3RpbGwgbm90IGVub3VnaCBmb3IgXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgd2hvbGUgbmV3IHNldCBvZiA0MCBlbW9qaXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA+PSB0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IHRoaXMuY29sbGVjdGlvbi5sZW5ndGggLSB0aGlzLmN1cnJlbnRJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSB0aGlzLmN1cnJlbnRJZHggKyBkaWZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0QXZhaWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUVtb2ppcyhuZXh0SW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5wcmVDYWNoZU5leHQsIDQwMCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goXG4gICAgICAgICAgICAgICAgZXJyID0+IHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRBdmFpbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIgIT09ICdubyBtb3JlIGVtb2ppcyB0byBsb2FkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ3VuYWJsZSB0byByZXF1ZXN0IG5leHQgc2V0IG9mIGVtb2ppcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcHJldmlvdXMgZW1vamkgbGlzdCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW1vamlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbk1zZyA9ICdVbmFibGUgdG8gZ2V0IG5leHQgZW1vamkgdmlldy5cXG5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgRW1vamlzIG5vIGxvbmdlciBhdmFpbGFibGUnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcHJldmlvdXNFbW9qaXMoKSB7XG5cbiAgICAgICAgbGV0IG5leHRJbmRleCA9IHRoaXMuY3VycmVudElkeCAtIDQwO1xuXG4gICAgICAgIGlmIChuZXh0SW5kZXggPCA0MCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5RW1vamlzKG5leHRJbmRleCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRpc3BsYXlFbW9qaXMobmV4dEluZGV4OiBudW1iZXIpIHtcblxuICAgICAgICAvKlxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2Rpc3BsYXkgZW1vamkgbmV4dCByZXF1ZXN0ZWQnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KHtcbiAgICAgICAgICAgICduZXh0LWluZGV4JzogbmV4dEluZGV4LFxuICAgICAgICAgICAgJ2N1cnJlbnQtaW5kZXgnOiB0aGlzLmN1cnJlbnRJZHgsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuY29sbGVjdGlvbi5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICAgICovXG5cbiAgICAgICAgbGV0IGRpZmY7XG5cbiAgICAgICAgaWYgKG5leHRJbmRleCA+IHRoaXMuY3VycmVudElkeCkge1xuICAgICAgICAgICAgZGlmZiA9IG5leHRJbmRleCAtIHRoaXMuY3VycmVudElkeDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmYgPSB0aGlzLmN1cnJlbnRJZHggLSBuZXh0SW5kZXg7XG4gICAgICAgICAgICBkaWZmICo9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1heCA9IHRoaXMuY3VycmVudElkeCArIGRpZmY7XG4gICAgICAgIGxldCBtaW4gPSBtYXggLSBNYXRoLnNxcnQoTWF0aC5wb3coZGlmZiwgMikpO1xuXG4gICAgICAgIGxldCBpblZpZXcgPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyKFxuICAgICAgICAgICAgKHZhbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWQgPSBpbmRleCA+PSBtaW4gJiYgaW5kZXggPCBtYXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGluVmlldykge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SWR4ID0gbmV4dEluZGV4O1xuICAgICAgICAgICAgdGhpcy5lbW9qaXMgPSBpblZpZXc7XG4gICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gdHJ1ZTsgLy8gc2hvdyBjdXJyZW50IGVtb2ppIGxpc3RcbiAgICAgICAgICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dEF2YWlsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgbGV0IGxvZyA9IHtcbiAgICAgICAgICAgICAgICAnbmV4dC1pbmRleCc6IG5leHRJbmRleCxcbiAgICAgICAgICAgICAgICAnZGlmZic6IGRpZmYsXG4gICAgICAgICAgICAgICAgJ21heCc6IG1heCxcbiAgICAgICAgICAgICAgICAnbWluJzogbWluXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignZXJyb3Igd2hpbGUgY2FsY3VsYXRpbmcgYW5kIHVwZGF0aW5nIGVtb2ppIG5leHQgdmlldycpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IobG9nKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbk1zZyA9ICdVbmFibGUgdG8gZ2V0IG5leHQgZW1vamkgdmlldy5cXG5FbW9qaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZSc7XG4gICAgICAgICAgICB0aGlzLnNldHVwRW1vamlMaXN0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgc3VibWl0RnJhbWUoKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc1N1Ym1pdEZyYW1lKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRvbmVFZGl0aW5nV3JhcHBlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplRWRpdG9yLmRvbmVFZGl0aW5nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNvbnRyb2xzKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUVkaXRvci5kb25lRWRpdGluZyh0aGlzLmltZ1F1ZXVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwcm9jZXNzU3VibWl0RnJhbWUoKSB7XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0xlaW1pL2RyYXdpbmdib2FyZC5qcy9ibG9iL21hc3Rlci9qcy9ib2FyZC5qc1xuICAgICAgICAvL2xldCBpbWFnRGF0YVVybCA9IHRoaXMuZGVmYXVsdEJvYXJkLmdldEltZygpO1xuICAgICAgICAvLyBjdXN0b20gY29kZSBhZGRlZCB0byBzaW1wbGUgdW5kbyBoaXN0b3J5IHN0YWNrIHRvIGFsbG93IFxuICAgICAgICBsZXQgaW1hZ0RhdGFVcmwgPSB0aGlzLmxvZ2dlci5vYmplY3QodGhpcy5kZWZhdWx0Qm9hcmQuaGlzdG9yeS5nZXRDdXJyZW50KCkpO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaW1nIGFzIGRhdGF1cmw6ICcgKyBpbWFnRGF0YVVybCk7XG4gICAgICAgIC8qXG4gICAgICAgIC8vIEFscmVhZHkgdGVzdGVkIGFuZCBpdCB3b3Jrcy4uLlxuICAgICAgICByZXR1cm4gdGhpcy5zdWJtaXRJbWFnZShpbWFnRGF0YVVybClcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgdXJsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2ltZyB1cGxvYWQgdXJsOiAnICsgdXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAqL1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBzdWJtaXRJbWFnZShpbWdBc0RhdGFVcmw6IGFueSkge1xuXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnc3VibWl0IGJ1dHRvbiBwcmVzc2VkIScpO1xuXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEhpc3RvcnlTdGFjaygpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdoaXN0b3J5IHN0YWNrOiAnKVxuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QodGhpcy5kZWZhdWx0Qm9hcmQuaGlzdG9yeSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdCh0aGlzLmRlZmF1bHRCb2FyZC5oaXN0b3J5LmdldEN1cnJlbnQoKSk7XG4gICAgfVxuXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdmcmFtZS9iYXNlLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBU0E7QUFHQTtBQUNBO0FBSUE7QUFLQTtBQU9BO0FBRUE7QUFFQTtBQUtBO0FBQUE7QUFrQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUErREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBakdBO0FBQ0E7QUFDQTs7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBaUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7Ozs7Ozs7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFFQTs7O0FBRUE7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBclRBO0FBSEE7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUJBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///816\n");

/***/ }),

/***/ 817:
/* exports provided: BrowserXhr, JSONPBackend, JSONPConnection, CookieXSRFStrategy, XHRBackend, XHRConnection, BaseRequestOptions, RequestOptions, BaseResponseOptions, ResponseOptions, ReadyState, RequestMethod, ResponseContentType, ResponseType, Headers, Http, Jsonp, HttpModule, JsonpModule, Connection, ConnectionBackend, XSRFStrategy, Request, Response, QueryEncoder, URLSearchParams, VERSION, ɵg, ɵa, ɵf, ɵb, ɵc, ɵd */
/* all exports used */
/*!**********************************************!*\
  !*** ./~/@angular/http/@angular/http.es5.js ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrowserXhr\", function() { return BrowserXhr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JSONPBackend\", function() { return JSONPBackend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JSONPConnection\", function() { return JSONPConnection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CookieXSRFStrategy\", function() { return CookieXSRFStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XHRBackend\", function() { return XHRBackend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XHRConnection\", function() { return XHRConnection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseRequestOptions\", function() { return BaseRequestOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RequestOptions\", function() { return RequestOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseResponseOptions\", function() { return BaseResponseOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResponseOptions\", function() { return ResponseOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReadyState\", function() { return ReadyState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RequestMethod\", function() { return RequestMethod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResponseContentType\", function() { return ResponseContentType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResponseType\", function() { return ResponseType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Http\", function() { return Http; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Jsonp\", function() { return Jsonp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpModule\", function() { return HttpModule; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JsonpModule\", function() { return JsonpModule; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Connection\", function() { return Connection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConnectionBackend\", function() { return ConnectionBackend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XSRFStrategy\", function() { return XSRFStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryEncoder\", function() { return QueryEncoder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"URLSearchParams\", function() { return URLSearchParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERSION\", function() { return VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵg\", function() { return BrowserJsonp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵa\", function() { return JSONPBackend_; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵf\", function() { return Body; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵb\", function() { return _createDefaultCookieXSRFStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵc\", function() { return httpFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ɵd\", function() { return jsonpFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(/*! tslib */ 52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(/*! @angular/core */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__(/*! rxjs/Observable */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__ = __webpack_require__(/*! @angular/platform-browser */ 68);\n\n/**\n * @license Angular v4.4.6\n * (c) 2010-2017 Google, Inc. https://angular.io/\n * License: MIT\n */\n\n\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A backend for http that uses the `XMLHttpRequest` browser API.\n *\n * Take care not to evaluate this in non-browser contexts.\n *\n * \\@experimental\n */\nvar BrowserXhr = (function () {\n    function BrowserXhr() {\n    }\n    /**\n     * @return {?}\n     */\n    BrowserXhr.prototype.build = function () { return ((new XMLHttpRequest())); };\n    return BrowserXhr;\n}());\nBrowserXhr.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nBrowserXhr.ctorParameters = function () { return []; };\nvar RequestMethod = {};\nRequestMethod.Get = 0;\nRequestMethod.Post = 1;\nRequestMethod.Put = 2;\nRequestMethod.Delete = 3;\nRequestMethod.Options = 4;\nRequestMethod.Head = 5;\nRequestMethod.Patch = 6;\nRequestMethod[RequestMethod.Get] = \"Get\";\nRequestMethod[RequestMethod.Post] = \"Post\";\nRequestMethod[RequestMethod.Put] = \"Put\";\nRequestMethod[RequestMethod.Delete] = \"Delete\";\nRequestMethod[RequestMethod.Options] = \"Options\";\nRequestMethod[RequestMethod.Head] = \"Head\";\nRequestMethod[RequestMethod.Patch] = \"Patch\";\nvar ReadyState = {};\nReadyState.Unsent = 0;\nReadyState.Open = 1;\nReadyState.HeadersReceived = 2;\nReadyState.Loading = 3;\nReadyState.Done = 4;\nReadyState.Cancelled = 5;\nReadyState[ReadyState.Unsent] = \"Unsent\";\nReadyState[ReadyState.Open] = \"Open\";\nReadyState[ReadyState.HeadersReceived] = \"HeadersReceived\";\nReadyState[ReadyState.Loading] = \"Loading\";\nReadyState[ReadyState.Done] = \"Done\";\nReadyState[ReadyState.Cancelled] = \"Cancelled\";\nvar ResponseType = {};\nResponseType.Basic = 0;\nResponseType.Cors = 1;\nResponseType.Default = 2;\nResponseType.Error = 3;\nResponseType.Opaque = 4;\nResponseType[ResponseType.Basic] = \"Basic\";\nResponseType[ResponseType.Cors] = \"Cors\";\nResponseType[ResponseType.Default] = \"Default\";\nResponseType[ResponseType.Error] = \"Error\";\nResponseType[ResponseType.Opaque] = \"Opaque\";\nvar ContentType = {};\nContentType.NONE = 0;\nContentType.JSON = 1;\nContentType.FORM = 2;\nContentType.FORM_DATA = 3;\nContentType.TEXT = 4;\nContentType.BLOB = 5;\nContentType.ARRAY_BUFFER = 6;\nContentType[ContentType.NONE] = \"NONE\";\nContentType[ContentType.JSON] = \"JSON\";\nContentType[ContentType.FORM] = \"FORM\";\nContentType[ContentType.FORM_DATA] = \"FORM_DATA\";\nContentType[ContentType.TEXT] = \"TEXT\";\nContentType[ContentType.BLOB] = \"BLOB\";\nContentType[ContentType.ARRAY_BUFFER] = \"ARRAY_BUFFER\";\nvar ResponseContentType = {};\nResponseContentType.Text = 0;\nResponseContentType.Json = 1;\nResponseContentType.ArrayBuffer = 2;\nResponseContentType.Blob = 3;\nResponseContentType[ResponseContentType.Text] = \"Text\";\nResponseContentType[ResponseContentType.Json] = \"Json\";\nResponseContentType[ResponseContentType.ArrayBuffer] = \"ArrayBuffer\";\nResponseContentType[ResponseContentType.Blob] = \"Blob\";\n/**\n * Polyfill for [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers), as\n * specified in the [Fetch Spec](https://fetch.spec.whatwg.org/#headers-class).\n *\n * The only known difference between this `Headers` implementation and the spec is the\n * lack of an `entries` method.\n *\n * ### Example\n *\n * ```\n * import {Headers} from '\\@angular/http';\n *\n * var firstHeaders = new Headers();\n * firstHeaders.append('Content-Type', 'image/jpeg');\n * console.log(firstHeaders.get('Content-Type')) //'image/jpeg'\n *\n * // Create headers from Plain Old JavaScript Object\n * var secondHeaders = new Headers({\n *   'X-My-Custom-Header': 'Angular'\n * });\n * console.log(secondHeaders.get('X-My-Custom-Header')); //'Angular'\n *\n * var thirdHeaders = new Headers(secondHeaders);\n * console.log(thirdHeaders.get('X-My-Custom-Header')); //'Angular'\n * ```\n *\n * \\@experimental\n */\nvar Headers = (function () {\n    /**\n     * @param {?=} headers\n     */\n    function Headers(headers) {\n        var _this = this;\n        /**\n         * \\@internal header names are lower case\n         */\n        this._headers = new Map();\n        /**\n         * \\@internal map lower case names to actual names\n         */\n        this._normalizedNames = new Map();\n        if (!headers) {\n            return;\n        }\n        if (headers instanceof Headers) {\n            headers.forEach(function (values, name) {\n                values.forEach(function (value) { return _this.append(name, value); });\n            });\n            return;\n        }\n        Object.keys(headers).forEach(function (name) {\n            var values = Array.isArray(headers[name]) ? headers[name] : [headers[name]];\n            _this.delete(name);\n            values.forEach(function (value) { return _this.append(name, value); });\n        });\n    }\n    /**\n     * Returns a new Headers instance from the given DOMString of Response Headers\n     * @param {?} headersString\n     * @return {?}\n     */\n    Headers.fromResponseHeaderString = function (headersString) {\n        var /** @type {?} */ headers = new Headers();\n        headersString.split('\\n').forEach(function (line) {\n            var /** @type {?} */ index = line.indexOf(':');\n            if (index > 0) {\n                var /** @type {?} */ name = line.slice(0, index);\n                var /** @type {?} */ value = line.slice(index + 1).trim();\n                headers.set(name, value);\n            }\n        });\n        return headers;\n    };\n    /**\n     * Appends a header to existing list of header values for a given header name.\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    Headers.prototype.append = function (name, value) {\n        var /** @type {?} */ values = this.getAll(name);\n        if (values === null) {\n            this.set(name, value);\n        }\n        else {\n            values.push(value);\n        }\n    };\n    /**\n     * Deletes all header values for the given name.\n     * @param {?} name\n     * @return {?}\n     */\n    Headers.prototype.delete = function (name) {\n        var /** @type {?} */ lcName = name.toLowerCase();\n        this._normalizedNames.delete(lcName);\n        this._headers.delete(lcName);\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    Headers.prototype.forEach = function (fn) {\n        var _this = this;\n        this._headers.forEach(function (values, lcName) { return fn(values, _this._normalizedNames.get(lcName), _this._headers); });\n    };\n    /**\n     * Returns first header that matches given name.\n     * @param {?} name\n     * @return {?}\n     */\n    Headers.prototype.get = function (name) {\n        var /** @type {?} */ values = this.getAll(name);\n        if (values === null) {\n            return null;\n        }\n        return values.length > 0 ? values[0] : null;\n    };\n    /**\n     * Checks for existence of header by given name.\n     * @param {?} name\n     * @return {?}\n     */\n    Headers.prototype.has = function (name) { return this._headers.has(name.toLowerCase()); };\n    /**\n     * Returns the names of the headers\n     * @return {?}\n     */\n    Headers.prototype.keys = function () { return Array.from(this._normalizedNames.values()); };\n    /**\n     * Sets or overrides header value for given name.\n     * @param {?} name\n     * @param {?} value\n     * @return {?}\n     */\n    Headers.prototype.set = function (name, value) {\n        if (Array.isArray(value)) {\n            if (value.length) {\n                this._headers.set(name.toLowerCase(), [value.join(',')]);\n            }\n        }\n        else {\n            this._headers.set(name.toLowerCase(), [value]);\n        }\n        this.mayBeSetNormalizedName(name);\n    };\n    /**\n     * Returns values of all headers.\n     * @return {?}\n     */\n    Headers.prototype.values = function () { return Array.from(this._headers.values()); };\n    /**\n     * @return {?}\n     */\n    Headers.prototype.toJSON = function () {\n        var _this = this;\n        var /** @type {?} */ serialized = {};\n        this._headers.forEach(function (values, name) {\n            var /** @type {?} */ split = [];\n            values.forEach(function (v) { return split.push.apply(split, v.split(',')); });\n            serialized[((_this._normalizedNames.get(name)))] = split;\n        });\n        return serialized;\n    };\n    /**\n     * Returns list of header values for a given name.\n     * @param {?} name\n     * @return {?}\n     */\n    Headers.prototype.getAll = function (name) {\n        return this.has(name) ? this._headers.get(name.toLowerCase()) || null : null;\n    };\n    /**\n     * This method is not implemented.\n     * @return {?}\n     */\n    Headers.prototype.entries = function () { throw new Error('\"entries\" method is not implemented on Headers class'); };\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    Headers.prototype.mayBeSetNormalizedName = function (name) {\n        var /** @type {?} */ lcName = name.toLowerCase();\n        if (!this._normalizedNames.has(lcName)) {\n            this._normalizedNames.set(lcName, name);\n        }\n    };\n    return Headers;\n}());\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Creates a response options object to be optionally provided when instantiating a\n * {\\@link Response}.\n *\n * This class is based on the `ResponseInit` description in the [Fetch\n * Spec](https://fetch.spec.whatwg.org/#responseinit).\n *\n * All values are null by default. Typical defaults can be found in the\n * {\\@link BaseResponseOptions} class, which sub-classes `ResponseOptions`.\n *\n * This class may be used in tests to build {\\@link Response Responses} for\n * mock responses (see {\\@link MockBackend}).\n *\n * ### Example ([live demo](http://plnkr.co/edit/P9Jkk8e8cz6NVzbcxEsD?p=preview))\n *\n * ```typescript\n * import {ResponseOptions, Response} from '\\@angular/http';\n *\n * var options = new ResponseOptions({\n *   body: '{\"name\":\"Jeff\"}'\n * });\n * var res = new Response(options);\n *\n * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n * ```\n *\n * \\@experimental\n */\nvar ResponseOptions = (function () {\n    /**\n     * @param {?=} opts\n     */\n    function ResponseOptions(opts) {\n        if (opts === void 0) { opts = {}; }\n        var body = opts.body, status = opts.status, headers = opts.headers, statusText = opts.statusText, type = opts.type, url = opts.url;\n        this.body = body != null ? body : null;\n        this.status = status != null ? status : null;\n        this.headers = headers != null ? headers : null;\n        this.statusText = statusText != null ? statusText : null;\n        this.type = type != null ? type : null;\n        this.url = url != null ? url : null;\n    }\n    /**\n     * Creates a copy of the `ResponseOptions` instance, using the optional input as values to\n     * override\n     * existing values. This method will not change the values of the instance on which it is being\n     * called.\n     *\n     * This may be useful when sharing a base `ResponseOptions` object inside tests,\n     * where certain properties may change from test to test.\n     *\n     * ### Example ([live demo](http://plnkr.co/edit/1lXquqFfgduTFBWjNoRE?p=preview))\n     *\n     * ```typescript\n     * import {ResponseOptions, Response} from '\\@angular/http';\n     *\n     * var options = new ResponseOptions({\n     *   body: {name: 'Jeff'}\n     * });\n     * var res = new Response(options.merge({\n     *   url: 'https://google.com'\n     * }));\n     * console.log('options.url:', options.url); // null\n     * console.log('res.json():', res.json()); // Object {name: \"Jeff\"}\n     * console.log('res.url:', res.url); // https://google.com\n     * ```\n     * @param {?=} options\n     * @return {?}\n     */\n    ResponseOptions.prototype.merge = function (options) {\n        return new ResponseOptions({\n            body: options && options.body != null ? options.body : this.body,\n            status: options && options.status != null ? options.status : this.status,\n            headers: options && options.headers != null ? options.headers : this.headers,\n            statusText: options && options.statusText != null ? options.statusText : this.statusText,\n            type: options && options.type != null ? options.type : this.type,\n            url: options && options.url != null ? options.url : this.url,\n        });\n    };\n    return ResponseOptions;\n}());\n/**\n * Subclass of {\\@link ResponseOptions}, with default values.\n *\n * Default values:\n *  * status: 200\n *  * headers: empty {\\@link Headers} object\n *\n * This class could be extended and bound to the {\\@link ResponseOptions} class\n * when configuring an {\\@link Injector}, in order to override the default options\n * used by {\\@link Http} to create {\\@link Response Responses}.\n *\n * ### Example ([live demo](http://plnkr.co/edit/qv8DLT?p=preview))\n *\n * ```typescript\n * import {provide} from '\\@angular/core';\n * import {bootstrap} from '\\@angular/platform-browser/browser';\n * import {HTTP_PROVIDERS, Headers, Http, BaseResponseOptions, ResponseOptions} from\n * '\\@angular/http';\n * import {App} from './myapp';\n *\n * class MyOptions extends BaseResponseOptions {\n *   headers:Headers = new Headers({network: 'github'});\n * }\n *\n * bootstrap(App, [HTTP_PROVIDERS, {provide: ResponseOptions, useClass: MyOptions}]);\n * ```\n *\n * The options could also be extended when manually creating a {\\@link Response}\n * object.\n *\n * ### Example ([live demo](http://plnkr.co/edit/VngosOWiaExEtbstDoix?p=preview))\n *\n * ```\n * import {BaseResponseOptions, Response} from '\\@angular/http';\n *\n * var options = new BaseResponseOptions();\n * var res = new Response(options.merge({\n *   body: 'Angular',\n *   headers: new Headers({framework: 'angular'})\n * }));\n * console.log('res.headers.get(\"framework\"):', res.headers.get('framework')); // angular\n * console.log('res.text():', res.text()); // Angular;\n * ```\n *\n * \\@experimental\n */\nvar BaseResponseOptions = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](BaseResponseOptions, _super);\n    function BaseResponseOptions() {\n        return _super.call(this, { status: 200, statusText: 'Ok', type: ResponseType.Default, headers: new Headers() }) || this;\n    }\n    return BaseResponseOptions;\n}(ResponseOptions));\nBaseResponseOptions.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nBaseResponseOptions.ctorParameters = function () { return []; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Abstract class from which real backends are derived.\n *\n * The primary purpose of a `ConnectionBackend` is to create new connections to fulfill a given\n * {\\@link Request}.\n *\n * \\@experimental\n * @abstract\n */\nvar ConnectionBackend = (function () {\n    function ConnectionBackend() {\n    }\n    /**\n     * @abstract\n     * @param {?} request\n     * @return {?}\n     */\n    ConnectionBackend.prototype.createConnection = function (request) { };\n    return ConnectionBackend;\n}());\n/**\n * Abstract class from which real connections are derived.\n *\n * \\@experimental\n * @abstract\n */\nvar Connection = (function () {\n    function Connection() {\n    }\n    return Connection;\n}());\n/**\n * An XSRFStrategy configures XSRF protection (e.g. via headers) on an HTTP request.\n *\n * \\@experimental\n * @abstract\n */\nvar XSRFStrategy = (function () {\n    function XSRFStrategy() {\n    }\n    /**\n     * @abstract\n     * @param {?} req\n     * @return {?}\n     */\n    XSRFStrategy.prototype.configureRequest = function (req) { };\n    return XSRFStrategy;\n}());\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @param {?} method\n * @return {?}\n */\nfunction normalizeMethodName(method) {\n    if (typeof method !== 'string')\n        return method;\n    switch (method.toUpperCase()) {\n        case 'GET':\n            return RequestMethod.Get;\n        case 'POST':\n            return RequestMethod.Post;\n        case 'PUT':\n            return RequestMethod.Put;\n        case 'DELETE':\n            return RequestMethod.Delete;\n        case 'OPTIONS':\n            return RequestMethod.Options;\n        case 'HEAD':\n            return RequestMethod.Head;\n        case 'PATCH':\n            return RequestMethod.Patch;\n    }\n    throw new Error(\"Invalid request method. The method \\\"\" + method + \"\\\" is not supported.\");\n}\nvar isSuccess = function (status) { return (status >= 200 && status < 300); };\n/**\n * @param {?} xhr\n * @return {?}\n */\nfunction getResponseURL(xhr) {\n    if ('responseURL' in xhr) {\n        return xhr.responseURL;\n    }\n    if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n        return xhr.getResponseHeader('X-Request-URL');\n    }\n    return null;\n}\n/**\n * @param {?} input\n * @return {?}\n */\n/**\n * @param {?} input\n * @return {?}\n */\nfunction stringToArrayBuffer(input) {\n    var /** @type {?} */ view = new Uint16Array(input.length);\n    for (var /** @type {?} */ i = 0, /** @type {?} */ strLen = input.length; i < strLen; i++) {\n        view[i] = input.charCodeAt(i);\n    }\n    return view.buffer;\n}\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n * @param {?=} rawParams\n * @return {?}\n */\nfunction paramParser(rawParams) {\n    if (rawParams === void 0) { rawParams = ''; }\n    var /** @type {?} */ map = new Map();\n    if (rawParams.length > 0) {\n        var /** @type {?} */ params = rawParams.split('&');\n        params.forEach(function (param) {\n            var /** @type {?} */ eqIdx = param.indexOf('=');\n            var _a = eqIdx == -1 ? [param, ''] : [param.slice(0, eqIdx), param.slice(eqIdx + 1)], key = _a[0], val = _a[1];\n            var /** @type {?} */ list = map.get(key) || [];\n            list.push(val);\n            map.set(key, list);\n        });\n    }\n    return map;\n}\n/**\n * \\@experimental\n *\n */\nvar QueryEncoder = (function () {\n    function QueryEncoder() {\n    }\n    /**\n     * @param {?} k\n     * @return {?}\n     */\n    QueryEncoder.prototype.encodeKey = function (k) { return standardEncoding(k); };\n    /**\n     * @param {?} v\n     * @return {?}\n     */\n    QueryEncoder.prototype.encodeValue = function (v) { return standardEncoding(v); };\n    return QueryEncoder;\n}());\n/**\n * @param {?} v\n * @return {?}\n */\nfunction standardEncoding(v) {\n    return encodeURIComponent(v)\n        .replace(/%40/gi, '@')\n        .replace(/%3A/gi, ':')\n        .replace(/%24/gi, '$')\n        .replace(/%2C/gi, ',')\n        .replace(/%3B/gi, ';')\n        .replace(/%2B/gi, '+')\n        .replace(/%3D/gi, '=')\n        .replace(/%3F/gi, '?')\n        .replace(/%2F/gi, '/');\n}\n/**\n * Map-like representation of url search parameters, based on\n * [URLSearchParams](https://url.spec.whatwg.org/#urlsearchparams) in the url living standard,\n * with several extensions for merging URLSearchParams objects:\n *   - setAll()\n *   - appendAll()\n *   - replaceAll()\n *\n * This class accepts an optional second parameter of ${\\@link QueryEncoder},\n * which is used to serialize parameters before making a request. By default,\n * `QueryEncoder` encodes keys and values of parameters using `encodeURIComponent`,\n * and then un-encodes certain characters that are allowed to be part of the query\n * according to IETF RFC 3986: https://tools.ietf.org/html/rfc3986.\n *\n * These are the characters that are not encoded: `! $ \\' ( ) * + , ; A 9 - . _ ~ ? /`\n *\n * If the set of allowed query characters is not acceptable for a particular backend,\n * `QueryEncoder` can be subclassed and provided as the 2nd argument to URLSearchParams.\n *\n * ```\n * import {URLSearchParams, QueryEncoder} from '\\@angular/http';\n * class MyQueryEncoder extends QueryEncoder {\n *   encodeKey(k: string): string {\n *     return myEncodingFunction(k);\n *   }\n *\n *   encodeValue(v: string): string {\n *     return myEncodingFunction(v);\n *   }\n * }\n *\n * let params = new URLSearchParams('', new MyQueryEncoder());\n * ```\n * \\@experimental\n */\nvar URLSearchParams = (function () {\n    /**\n     * @param {?=} rawParams\n     * @param {?=} queryEncoder\n     */\n    function URLSearchParams(rawParams, queryEncoder) {\n        if (rawParams === void 0) { rawParams = ''; }\n        if (queryEncoder === void 0) { queryEncoder = new QueryEncoder(); }\n        this.rawParams = rawParams;\n        this.queryEncoder = queryEncoder;\n        this.paramsMap = paramParser(rawParams);\n    }\n    /**\n     * @return {?}\n     */\n    URLSearchParams.prototype.clone = function () {\n        var /** @type {?} */ clone = new URLSearchParams('', this.queryEncoder);\n        clone.appendAll(this);\n        return clone;\n    };\n    /**\n     * @param {?} param\n     * @return {?}\n     */\n    URLSearchParams.prototype.has = function (param) { return this.paramsMap.has(param); };\n    /**\n     * @param {?} param\n     * @return {?}\n     */\n    URLSearchParams.prototype.get = function (param) {\n        var /** @type {?} */ storedParam = this.paramsMap.get(param);\n        return Array.isArray(storedParam) ? storedParam[0] : null;\n    };\n    /**\n     * @param {?} param\n     * @return {?}\n     */\n    URLSearchParams.prototype.getAll = function (param) { return this.paramsMap.get(param) || []; };\n    /**\n     * @param {?} param\n     * @param {?} val\n     * @return {?}\n     */\n    URLSearchParams.prototype.set = function (param, val) {\n        if (val === void 0 || val === null) {\n            this.delete(param);\n            return;\n        }\n        var /** @type {?} */ list = this.paramsMap.get(param) || [];\n        list.length = 0;\n        list.push(val);\n        this.paramsMap.set(param, list);\n    };\n    /**\n     * @param {?} searchParams\n     * @return {?}\n     */\n    URLSearchParams.prototype.setAll = function (searchParams) {\n        var _this = this;\n        searchParams.paramsMap.forEach(function (value, param) {\n            var /** @type {?} */ list = _this.paramsMap.get(param) || [];\n            list.length = 0;\n            list.push(value[0]);\n            _this.paramsMap.set(param, list);\n        });\n    };\n    /**\n     * @param {?} param\n     * @param {?} val\n     * @return {?}\n     */\n    URLSearchParams.prototype.append = function (param, val) {\n        if (val === void 0 || val === null)\n            return;\n        var /** @type {?} */ list = this.paramsMap.get(param) || [];\n        list.push(val);\n        this.paramsMap.set(param, list);\n    };\n    /**\n     * @param {?} searchParams\n     * @return {?}\n     */\n    URLSearchParams.prototype.appendAll = function (searchParams) {\n        var _this = this;\n        searchParams.paramsMap.forEach(function (value, param) {\n            var /** @type {?} */ list = _this.paramsMap.get(param) || [];\n            for (var /** @type {?} */ i = 0; i < value.length; ++i) {\n                list.push(value[i]);\n            }\n            _this.paramsMap.set(param, list);\n        });\n    };\n    /**\n     * @param {?} searchParams\n     * @return {?}\n     */\n    URLSearchParams.prototype.replaceAll = function (searchParams) {\n        var _this = this;\n        searchParams.paramsMap.forEach(function (value, param) {\n            var /** @type {?} */ list = _this.paramsMap.get(param) || [];\n            list.length = 0;\n            for (var /** @type {?} */ i = 0; i < value.length; ++i) {\n                list.push(value[i]);\n            }\n            _this.paramsMap.set(param, list);\n        });\n    };\n    /**\n     * @return {?}\n     */\n    URLSearchParams.prototype.toString = function () {\n        var _this = this;\n        var /** @type {?} */ paramsList = [];\n        this.paramsMap.forEach(function (values, k) {\n            values.forEach(function (v) { return paramsList.push(_this.queryEncoder.encodeKey(k) + '=' + _this.queryEncoder.encodeValue(v)); });\n        });\n        return paramsList.join('&');\n    };\n    /**\n     * @param {?} param\n     * @return {?}\n     */\n    URLSearchParams.prototype.delete = function (param) { this.paramsMap.delete(param); };\n    return URLSearchParams;\n}());\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * HTTP request body used by both {\\@link Request} and {\\@link Response}\n * https://fetch.spec.whatwg.org/#body\n * @abstract\n */\nvar Body = (function () {\n    function Body() {\n    }\n    /**\n     * Attempts to return body as parsed `JSON` object, or raises an exception.\n     * @return {?}\n     */\n    Body.prototype.json = function () {\n        if (typeof this._body === 'string') {\n            return JSON.parse(/** @type {?} */ (this._body));\n        }\n        if (this._body instanceof ArrayBuffer) {\n            return JSON.parse(this.text());\n        }\n        return this._body;\n    };\n    /**\n     * Returns the body as a string, presuming `toString()` can be called on the response body.\n     *\n     * When decoding an `ArrayBuffer`, the optional `encodingHint` parameter determines how the\n     * bytes in the buffer will be interpreted. Valid values are:\n     *\n     * - `legacy` - incorrectly interpret the bytes as UTF-16 (technically, UCS-2). Only characters\n     *   in the Basic Multilingual Plane are supported, surrogate pairs are not handled correctly.\n     *   In addition, the endianness of the 16-bit octet pairs in the `ArrayBuffer` is not taken\n     *   into consideration. This is the default behavior to avoid breaking apps, but should be\n     *   considered deprecated.\n     *\n     * - `iso-8859` - interpret the bytes as ISO-8859 (which can be used for ASCII encoded text).\n     * @param {?=} encodingHint\n     * @return {?}\n     */\n    Body.prototype.text = function (encodingHint) {\n        if (encodingHint === void 0) { encodingHint = 'legacy'; }\n        if (this._body instanceof URLSearchParams) {\n            return this._body.toString();\n        }\n        if (this._body instanceof ArrayBuffer) {\n            switch (encodingHint) {\n                case 'legacy':\n                    return String.fromCharCode.apply(null, new Uint16Array(/** @type {?} */ (this._body)));\n                case 'iso-8859':\n                    return String.fromCharCode.apply(null, new Uint8Array(/** @type {?} */ (this._body)));\n                default:\n                    throw new Error(\"Invalid value for encodingHint: \" + encodingHint);\n            }\n        }\n        if (this._body == null) {\n            return '';\n        }\n        if (typeof this._body === 'object') {\n            return JSON.stringify(this._body, null, 2);\n        }\n        return this._body.toString();\n    };\n    /**\n     * Return the body as an ArrayBuffer\n     * @return {?}\n     */\n    Body.prototype.arrayBuffer = function () {\n        if (this._body instanceof ArrayBuffer) {\n            return (this._body);\n        }\n        return stringToArrayBuffer(this.text());\n    };\n    /**\n     * Returns the request's body as a Blob, assuming that body exists.\n     * @return {?}\n     */\n    Body.prototype.blob = function () {\n        if (this._body instanceof Blob) {\n            return (this._body);\n        }\n        if (this._body instanceof ArrayBuffer) {\n            return new Blob([this._body]);\n        }\n        throw new Error('The request body isn\\'t either a blob or an array buffer');\n    };\n    return Body;\n}());\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Creates `Response` instances from provided values.\n *\n * Though this object isn't\n * usually instantiated by end-users, it is the primary object interacted with when it comes time to\n * add data to a view.\n *\n * ### Example\n *\n * ```\n * http.request('my-friends.txt').subscribe(response => this.friends = response.text());\n * ```\n *\n * The Response's interface is inspired by the Response constructor defined in the [Fetch\n * Spec](https://fetch.spec.whatwg.org/#response-class), but is considered a static value whose body\n * can be accessed many times. There are other differences in the implementation, but this is the\n * most significant.\n *\n * \\@experimental\n */\nvar Response = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Response, _super);\n    /**\n     * @param {?} responseOptions\n     */\n    function Response(responseOptions) {\n        var _this = _super.call(this) || this;\n        _this._body = responseOptions.body;\n        _this.status = responseOptions.status;\n        _this.ok = (_this.status >= 200 && _this.status <= 299);\n        _this.statusText = responseOptions.statusText;\n        _this.headers = responseOptions.headers;\n        _this.type = responseOptions.type;\n        _this.url = responseOptions.url;\n        return _this;\n    }\n    /**\n     * @return {?}\n     */\n    Response.prototype.toString = function () {\n        return \"Response with status: \" + this.status + \" \" + this.statusText + \" for URL: \" + this.url;\n    };\n    return Response;\n}(Body));\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar _nextRequestId = 0;\nvar JSONP_HOME = '__ng_jsonp__';\nvar _jsonpConnections = null;\n/**\n * @return {?}\n */\nfunction _getJsonpConnections() {\n    var /** @type {?} */ w = typeof window == 'object' ? window : {};\n    if (_jsonpConnections === null) {\n        _jsonpConnections = w[JSONP_HOME] = {};\n    }\n    return _jsonpConnections;\n}\nvar BrowserJsonp = (function () {\n    function BrowserJsonp() {\n    }\n    /**\n     * @param {?} url\n     * @return {?}\n     */\n    BrowserJsonp.prototype.build = function (url) {\n        var /** @type {?} */ node = document.createElement('script');\n        node.src = url;\n        return node;\n    };\n    /**\n     * @return {?}\n     */\n    BrowserJsonp.prototype.nextRequestID = function () { return \"__req\" + _nextRequestId++; };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    BrowserJsonp.prototype.requestCallback = function (id) { return JSONP_HOME + \".\" + id + \".finished\"; };\n    /**\n     * @param {?} id\n     * @param {?} connection\n     * @return {?}\n     */\n    BrowserJsonp.prototype.exposeConnection = function (id, connection) {\n        var /** @type {?} */ connections = _getJsonpConnections();\n        connections[id] = connection;\n    };\n    /**\n     * @param {?} id\n     * @return {?}\n     */\n    BrowserJsonp.prototype.removeConnection = function (id) {\n        var /** @type {?} */ connections = _getJsonpConnections();\n        connections[id] = null;\n    };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    BrowserJsonp.prototype.send = function (node) { document.body.appendChild(/** @type {?} */ ((node))); };\n    /**\n     * @param {?} node\n     * @return {?}\n     */\n    BrowserJsonp.prototype.cleanup = function (node) {\n        if (node.parentNode) {\n            node.parentNode.removeChild(/** @type {?} */ ((node)));\n        }\n    };\n    return BrowserJsonp;\n}());\nBrowserJsonp.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nBrowserJsonp.ctorParameters = function () { return []; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar JSONP_ERR_NO_CALLBACK = 'JSONP injected script did not invoke callback.';\nvar JSONP_ERR_WRONG_METHOD = 'JSONP requests must use GET request method.';\n/**\n * Abstract base class for an in-flight JSONP request.\n *\n * \\@experimental\n * @abstract\n */\nvar JSONPConnection = (function () {\n    function JSONPConnection() {\n    }\n    /**\n     * Callback called when the JSONP request completes, to notify the application\n     * of the new data.\n     * @abstract\n     * @param {?=} data\n     * @return {?}\n     */\n    JSONPConnection.prototype.finished = function (data) { };\n    return JSONPConnection;\n}());\nvar JSONPConnection_ = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](JSONPConnection_, _super);\n    /**\n     * @param {?} req\n     * @param {?} _dom\n     * @param {?=} baseResponseOptions\n     */\n    function JSONPConnection_(req, _dom, baseResponseOptions) {\n        var _this = _super.call(this) || this;\n        _this._dom = _dom;\n        _this.baseResponseOptions = baseResponseOptions;\n        _this._finished = false;\n        if (req.method !== RequestMethod.Get) {\n            throw new TypeError(JSONP_ERR_WRONG_METHOD);\n        }\n        _this.request = req;\n        _this.response = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"](function (responseObserver) {\n            _this.readyState = ReadyState.Loading;\n            var id = _this._id = _dom.nextRequestID();\n            _dom.exposeConnection(id, _this);\n            // Workaround Dart\n            // url = url.replace(/=JSONP_CALLBACK(&|$)/, `generated method`);\n            var callback = _dom.requestCallback(_this._id);\n            var url = req.url;\n            if (url.indexOf('=JSONP_CALLBACK&') > -1) {\n                url = url.replace('=JSONP_CALLBACK&', \"=\" + callback + \"&\");\n            }\n            else if (url.lastIndexOf('=JSONP_CALLBACK') === url.length - '=JSONP_CALLBACK'.length) {\n                url = url.substring(0, url.length - '=JSONP_CALLBACK'.length) + (\"=\" + callback);\n            }\n            var script = _this._script = _dom.build(url);\n            var onLoad = function (event) {\n                if (_this.readyState === ReadyState.Cancelled)\n                    return;\n                _this.readyState = ReadyState.Done;\n                _dom.cleanup(script);\n                if (!_this._finished) {\n                    var responseOptions_1 = new ResponseOptions({ body: JSONP_ERR_NO_CALLBACK, type: ResponseType.Error, url: url });\n                    if (baseResponseOptions) {\n                        responseOptions_1 = baseResponseOptions.merge(responseOptions_1);\n                    }\n                    responseObserver.error(new Response(responseOptions_1));\n                    return;\n                }\n                var responseOptions = new ResponseOptions({ body: _this._responseData, url: url });\n                if (_this.baseResponseOptions) {\n                    responseOptions = _this.baseResponseOptions.merge(responseOptions);\n                }\n                responseObserver.next(new Response(responseOptions));\n                responseObserver.complete();\n            };\n            var onError = function (error) {\n                if (_this.readyState === ReadyState.Cancelled)\n                    return;\n                _this.readyState = ReadyState.Done;\n                _dom.cleanup(script);\n                var responseOptions = new ResponseOptions({ body: error.message, type: ResponseType.Error });\n                if (baseResponseOptions) {\n                    responseOptions = baseResponseOptions.merge(responseOptions);\n                }\n                responseObserver.error(new Response(responseOptions));\n            };\n            script.addEventListener('load', onLoad);\n            script.addEventListener('error', onError);\n            _dom.send(script);\n            return function () {\n                _this.readyState = ReadyState.Cancelled;\n                script.removeEventListener('load', onLoad);\n                script.removeEventListener('error', onError);\n                _this._dom.cleanup(script);\n            };\n        });\n        return _this;\n    }\n    /**\n     * @param {?=} data\n     * @return {?}\n     */\n    JSONPConnection_.prototype.finished = function (data) {\n        // Don't leak connections\n        this._finished = true;\n        this._dom.removeConnection(this._id);\n        if (this.readyState === ReadyState.Cancelled)\n            return;\n        this._responseData = data;\n    };\n    return JSONPConnection_;\n}(JSONPConnection));\n/**\n * A {\\@link ConnectionBackend} that uses the JSONP strategy of making requests.\n *\n * \\@experimental\n * @abstract\n */\nvar JSONPBackend = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](JSONPBackend, _super);\n    function JSONPBackend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return JSONPBackend;\n}(ConnectionBackend));\nvar JSONPBackend_ = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](JSONPBackend_, _super);\n    /**\n     * @param {?} _browserJSONP\n     * @param {?} _baseResponseOptions\n     */\n    function JSONPBackend_(_browserJSONP, _baseResponseOptions) {\n        var _this = _super.call(this) || this;\n        _this._browserJSONP = _browserJSONP;\n        _this._baseResponseOptions = _baseResponseOptions;\n        return _this;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    JSONPBackend_.prototype.createConnection = function (request) {\n        return new JSONPConnection_(request, this._browserJSONP, this._baseResponseOptions);\n    };\n    return JSONPBackend_;\n}(JSONPBackend));\nJSONPBackend_.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nJSONPBackend_.ctorParameters = function () { return [\n    { type: BrowserJsonp, },\n    { type: ResponseOptions, },\n]; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar XSSI_PREFIX = /^\\)\\]\\}',?\\n/;\n/**\n * Creates connections using `XMLHttpRequest`. Given a fully-qualified\n * request, an `XHRConnection` will immediately create an `XMLHttpRequest` object and send the\n * request.\n *\n * This class would typically not be created or interacted with directly inside applications, though\n * the {\\@link MockConnection} may be interacted with in tests.\n *\n * \\@experimental\n */\nvar XHRConnection = (function () {\n    /**\n     * @param {?} req\n     * @param {?} browserXHR\n     * @param {?=} baseResponseOptions\n     */\n    function XHRConnection(req, browserXHR, baseResponseOptions) {\n        var _this = this;\n        this.request = req;\n        this.response = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__[\"Observable\"](function (responseObserver) {\n            var _xhr = browserXHR.build();\n            _xhr.open(RequestMethod[req.method].toUpperCase(), req.url);\n            if (req.withCredentials != null) {\n                _xhr.withCredentials = req.withCredentials;\n            }\n            // load event handler\n            var onLoad = function () {\n                // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n                var status = _xhr.status === 1223 ? 204 : _xhr.status;\n                var body = null;\n                // HTTP 204 means no content\n                if (status !== 204) {\n                    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n                    // response/responseType properties were introduced in ResourceLoader Level2 spec\n                    // (supported by IE10)\n                    body = (typeof _xhr.response === 'undefined') ? _xhr.responseText : _xhr.response;\n                    // Implicitly strip a potential XSSI prefix.\n                    if (typeof body === 'string') {\n                        body = body.replace(XSSI_PREFIX, '');\n                    }\n                }\n                // fix status code when it is 0 (0 status is undocumented).\n                // Occurs when accessing file resources or on Android 4.1 stock browser\n                // while retrieving files from application cache.\n                if (status === 0) {\n                    status = body ? 200 : 0;\n                }\n                var headers = Headers.fromResponseHeaderString(_xhr.getAllResponseHeaders());\n                // IE 9 does not provide the way to get URL of response\n                var url = getResponseURL(_xhr) || req.url;\n                var statusText = _xhr.statusText || 'OK';\n                var responseOptions = new ResponseOptions({ body: body, status: status, headers: headers, statusText: statusText, url: url });\n                if (baseResponseOptions != null) {\n                    responseOptions = baseResponseOptions.merge(responseOptions);\n                }\n                var response = new Response(responseOptions);\n                response.ok = isSuccess(status);\n                if (response.ok) {\n                    responseObserver.next(response);\n                    // TODO(gdi2290): defer complete if array buffer until done\n                    responseObserver.complete();\n                    return;\n                }\n                responseObserver.error(response);\n            };\n            // error event handler\n            var onError = function (err) {\n                var responseOptions = new ResponseOptions({\n                    body: err,\n                    type: ResponseType.Error,\n                    status: _xhr.status,\n                    statusText: _xhr.statusText,\n                });\n                if (baseResponseOptions != null) {\n                    responseOptions = baseResponseOptions.merge(responseOptions);\n                }\n                responseObserver.error(new Response(responseOptions));\n            };\n            _this.setDetectedContentType(req, _xhr);\n            if (req.headers == null) {\n                req.headers = new Headers();\n            }\n            if (!req.headers.has('Accept')) {\n                req.headers.append('Accept', 'application/json, text/plain, */*');\n            }\n            req.headers.forEach(function (values, name) { return _xhr.setRequestHeader(name, values.join(',')); });\n            // Select the correct buffer type to store the response\n            if (req.responseType != null && _xhr.responseType != null) {\n                switch (req.responseType) {\n                    case ResponseContentType.ArrayBuffer:\n                        _xhr.responseType = 'arraybuffer';\n                        break;\n                    case ResponseContentType.Json:\n                        _xhr.responseType = 'json';\n                        break;\n                    case ResponseContentType.Text:\n                        _xhr.responseType = 'text';\n                        break;\n                    case ResponseContentType.Blob:\n                        _xhr.responseType = 'blob';\n                        break;\n                    default:\n                        throw new Error('The selected responseType is not supported');\n                }\n            }\n            _xhr.addEventListener('load', onLoad);\n            _xhr.addEventListener('error', onError);\n            _xhr.send(_this.request.getBody());\n            return function () {\n                _xhr.removeEventListener('load', onLoad);\n                _xhr.removeEventListener('error', onError);\n                _xhr.abort();\n            };\n        });\n    }\n    /**\n     * @param {?} req\n     * @param {?} _xhr\n     * @return {?}\n     */\n    XHRConnection.prototype.setDetectedContentType = function (req /** TODO Request */, _xhr /** XMLHttpRequest */) {\n        // Skip if a custom Content-Type header is provided\n        if (req.headers != null && req.headers.get('Content-Type') != null) {\n            return;\n        }\n        // Set the detected content type\n        switch (req.contentType) {\n            case ContentType.NONE:\n                break;\n            case ContentType.JSON:\n                _xhr.setRequestHeader('content-type', 'application/json');\n                break;\n            case ContentType.FORM:\n                _xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n                break;\n            case ContentType.TEXT:\n                _xhr.setRequestHeader('content-type', 'text/plain');\n                break;\n            case ContentType.BLOB:\n                var /** @type {?} */ blob = req.blob();\n                if (blob.type) {\n                    _xhr.setRequestHeader('content-type', blob.type);\n                }\n                break;\n        }\n    };\n    return XHRConnection;\n}());\n/**\n * `XSRFConfiguration` sets up Cross Site Request Forgery (XSRF) protection for the application\n * using a cookie. See https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)\n * for more information on XSRF.\n *\n * Applications can configure custom cookie and header names by binding an instance of this class\n * with different `cookieName` and `headerName` values. See the main HTTP documentation for more\n * details.\n *\n * \\@experimental\n */\nvar CookieXSRFStrategy = (function () {\n    /**\n     * @param {?=} _cookieName\n     * @param {?=} _headerName\n     */\n    function CookieXSRFStrategy(_cookieName, _headerName) {\n        if (_cookieName === void 0) { _cookieName = 'XSRF-TOKEN'; }\n        if (_headerName === void 0) { _headerName = 'X-XSRF-TOKEN'; }\n        this._cookieName = _cookieName;\n        this._headerName = _headerName;\n    }\n    /**\n     * @param {?} req\n     * @return {?}\n     */\n    CookieXSRFStrategy.prototype.configureRequest = function (req) {\n        var /** @type {?} */ xsrfToken = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__[\"ɵgetDOM\"])().getCookie(this._cookieName);\n        if (xsrfToken) {\n            req.headers.set(this._headerName, xsrfToken);\n        }\n    };\n    return CookieXSRFStrategy;\n}());\n/**\n * Creates {\\@link XHRConnection} instances.\n *\n * This class would typically not be used by end users, but could be\n * overridden if a different backend implementation should be used,\n * such as in a node backend.\n *\n * ### Example\n *\n * ```\n * import {Http, MyNodeBackend, HTTP_PROVIDERS, BaseRequestOptions} from '\\@angular/http';\n * \\@Component({\n *   viewProviders: [\n *     HTTP_PROVIDERS,\n *     {provide: Http, useFactory: (backend, options) => {\n *       return new Http(backend, options);\n *     }, deps: [MyNodeBackend, BaseRequestOptions]}]\n * })\n * class MyComponent {\n *   constructor(http:Http) {\n *     http.request('people.json').subscribe(res => this.people = res.json());\n *   }\n * }\n * ```\n * \\@experimental\n */\nvar XHRBackend = (function () {\n    /**\n     * @param {?} _browserXHR\n     * @param {?} _baseResponseOptions\n     * @param {?} _xsrfStrategy\n     */\n    function XHRBackend(_browserXHR, _baseResponseOptions, _xsrfStrategy) {\n        this._browserXHR = _browserXHR;\n        this._baseResponseOptions = _baseResponseOptions;\n        this._xsrfStrategy = _xsrfStrategy;\n    }\n    /**\n     * @param {?} request\n     * @return {?}\n     */\n    XHRBackend.prototype.createConnection = function (request) {\n        this._xsrfStrategy.configureRequest(request);\n        return new XHRConnection(request, this._browserXHR, this._baseResponseOptions);\n    };\n    return XHRBackend;\n}());\nXHRBackend.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nXHRBackend.ctorParameters = function () { return [\n    { type: BrowserXhr, },\n    { type: ResponseOptions, },\n    { type: XSRFStrategy, },\n]; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Creates a request options object to be optionally provided when instantiating a\n * {\\@link Request}.\n *\n * This class is based on the `RequestInit` description in the [Fetch\n * Spec](https://fetch.spec.whatwg.org/#requestinit).\n *\n * All values are null by default. Typical defaults can be found in the {\\@link BaseRequestOptions}\n * class, which sub-classes `RequestOptions`.\n *\n * ```typescript\n * import {RequestOptions, Request, RequestMethod} from '\\@angular/http';\n *\n * const options = new RequestOptions({\n *   method: RequestMethod.Post,\n *   url: 'https://google.com'\n * });\n * const req = new Request(options);\n * console.log('req.method:', RequestMethod[req.method]); // Post\n * console.log('options.url:', options.url); // https://google.com\n * ```\n *\n * \\@experimental\n */\nvar RequestOptions = (function () {\n    /**\n     * @param {?=} opts\n     */\n    function RequestOptions(opts) {\n        if (opts === void 0) { opts = {}; }\n        var method = opts.method, headers = opts.headers, body = opts.body, url = opts.url, search = opts.search, params = opts.params, withCredentials = opts.withCredentials, responseType = opts.responseType;\n        this.method = method != null ? normalizeMethodName(method) : null;\n        this.headers = headers != null ? headers : null;\n        this.body = body != null ? body : null;\n        this.url = url != null ? url : null;\n        this.params = this._mergeSearchParams(params || search);\n        this.withCredentials = withCredentials != null ? withCredentials : null;\n        this.responseType = responseType != null ? responseType : null;\n    }\n    Object.defineProperty(RequestOptions.prototype, \"search\", {\n        /**\n         * @deprecated from 4.0.0. Use params instead.\n         * @return {?}\n         */\n        get: function () { return this.params; },\n        /**\n         * @deprecated from 4.0.0. Use params instead.\n         * @param {?} params\n         * @return {?}\n         */\n        set: function (params) { this.params = params; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Creates a copy of the `RequestOptions` instance, using the optional input as values to override\n     * existing values. This method will not change the values of the instance on which it is being\n     * called.\n     *\n     * Note that `headers` and `search` will override existing values completely if present in\n     * the `options` object. If these values should be merged, it should be done prior to calling\n     * `merge` on the `RequestOptions` instance.\n     *\n     * ```typescript\n     * import {RequestOptions, Request, RequestMethod} from '\\@angular/http';\n     *\n     * const options = new RequestOptions({\n     *   method: RequestMethod.Post\n     * });\n     * const req = new Request(options.merge({\n     *   url: 'https://google.com'\n     * }));\n     * console.log('req.method:', RequestMethod[req.method]); // Post\n     * console.log('options.url:', options.url); // null\n     * console.log('req.url:', req.url); // https://google.com\n     * ```\n     * @param {?=} options\n     * @return {?}\n     */\n    RequestOptions.prototype.merge = function (options) {\n        return new RequestOptions({\n            method: options && options.method != null ? options.method : this.method,\n            headers: options && options.headers != null ? options.headers : new Headers(this.headers),\n            body: options && options.body != null ? options.body : this.body,\n            url: options && options.url != null ? options.url : this.url,\n            params: options && this._mergeSearchParams(options.params || options.search),\n            withCredentials: options && options.withCredentials != null ? options.withCredentials :\n                this.withCredentials,\n            responseType: options && options.responseType != null ? options.responseType :\n                this.responseType\n        });\n    };\n    /**\n     * @param {?=} params\n     * @return {?}\n     */\n    RequestOptions.prototype._mergeSearchParams = function (params) {\n        if (!params)\n            return this.params;\n        if (params instanceof URLSearchParams) {\n            return params.clone();\n        }\n        if (typeof params === 'string') {\n            return new URLSearchParams(params);\n        }\n        return this._parseParams(params);\n    };\n    /**\n     * @param {?=} objParams\n     * @return {?}\n     */\n    RequestOptions.prototype._parseParams = function (objParams) {\n        var _this = this;\n        if (objParams === void 0) { objParams = {}; }\n        var /** @type {?} */ params = new URLSearchParams();\n        Object.keys(objParams).forEach(function (key) {\n            var /** @type {?} */ value = objParams[key];\n            if (Array.isArray(value)) {\n                value.forEach(function (item) { return _this._appendParam(key, item, params); });\n            }\n            else {\n                _this._appendParam(key, value, params);\n            }\n        });\n        return params;\n    };\n    /**\n     * @param {?} key\n     * @param {?} value\n     * @param {?} params\n     * @return {?}\n     */\n    RequestOptions.prototype._appendParam = function (key, value, params) {\n        if (typeof value !== 'string') {\n            value = JSON.stringify(value);\n        }\n        params.append(key, value);\n    };\n    return RequestOptions;\n}());\n/**\n * Subclass of {\\@link RequestOptions}, with default values.\n *\n * Default values:\n *  * method: {\\@link RequestMethod RequestMethod.Get}\n *  * headers: empty {\\@link Headers} object\n *\n * This class could be extended and bound to the {\\@link RequestOptions} class\n * when configuring an {\\@link Injector}, in order to override the default options\n * used by {\\@link Http} to create and send {\\@link Request Requests}.\n *\n * ```typescript\n * import {BaseRequestOptions, RequestOptions} from '\\@angular/http';\n *\n * class MyOptions extends BaseRequestOptions {\n *   search: string = 'coreTeam=true';\n * }\n *\n * {provide: RequestOptions, useClass: MyOptions};\n * ```\n *\n * The options could also be extended when manually creating a {\\@link Request}\n * object.\n *\n * ```\n * import {BaseRequestOptions, Request, RequestMethod} from '\\@angular/http';\n *\n * const options = new BaseRequestOptions();\n * const req = new Request(options.merge({\n *   method: RequestMethod.Post,\n *   url: 'https://google.com'\n * }));\n * console.log('req.method:', RequestMethod[req.method]); // Post\n * console.log('options.url:', options.url); // null\n * console.log('req.url:', req.url); // https://google.com\n * ```\n *\n * \\@experimental\n */\nvar BaseRequestOptions = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](BaseRequestOptions, _super);\n    function BaseRequestOptions() {\n        return _super.call(this, { method: RequestMethod.Get, headers: new Headers() }) || this;\n    }\n    return BaseRequestOptions;\n}(RequestOptions));\nBaseRequestOptions.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nBaseRequestOptions.ctorParameters = function () { return []; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Creates `Request` instances from provided values.\n *\n * The Request's interface is inspired by the Request constructor defined in the [Fetch\n * Spec](https://fetch.spec.whatwg.org/#request-class),\n * but is considered a static value whose body can be accessed many times. There are other\n * differences in the implementation, but this is the most significant.\n *\n * `Request` instances are typically created by higher-level classes, like {\\@link Http} and\n * {\\@link Jsonp}, but it may occasionally be useful to explicitly create `Request` instances.\n * One such example is when creating services that wrap higher-level services, like {\\@link Http},\n * where it may be useful to generate a `Request` with arbitrary headers and search params.\n *\n * ```typescript\n * import {Injectable, Injector} from '\\@angular/core';\n * import {HTTP_PROVIDERS, Http, Request, RequestMethod} from '\\@angular/http';\n *\n * \\@Injectable()\n * class AutoAuthenticator {\n *   constructor(public http:Http) {}\n *   request(url:string) {\n *     return this.http.request(new Request({\n *       method: RequestMethod.Get,\n *       url: url,\n *       search: 'password=123'\n *     }));\n *   }\n * }\n *\n * var injector = Injector.resolveAndCreate([HTTP_PROVIDERS, AutoAuthenticator]);\n * var authenticator = injector.get(AutoAuthenticator);\n * authenticator.request('people.json').subscribe(res => {\n *   //URL should have included '?password=123'\n *   console.log('people', res.json());\n * });\n * ```\n *\n * \\@experimental\n */\nvar Request = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Request, _super);\n    /**\n     * @param {?} requestOptions\n     */\n    function Request(requestOptions) {\n        var _this = _super.call(this) || this;\n        // TODO: assert that url is present\n        var url = requestOptions.url;\n        _this.url = requestOptions.url;\n        var paramsArg = requestOptions.params || requestOptions.search;\n        if (paramsArg) {\n            var params = void 0;\n            if (typeof paramsArg === 'object' && !(paramsArg instanceof URLSearchParams)) {\n                params = urlEncodeParams(paramsArg).toString();\n            }\n            else {\n                params = paramsArg.toString();\n            }\n            if (params.length > 0) {\n                var prefix = '?';\n                if (_this.url.indexOf('?') != -1) {\n                    prefix = (_this.url[_this.url.length - 1] == '&') ? '' : '&';\n                }\n                // TODO: just delete search-query-looking string in url?\n                _this.url = url + prefix + params;\n            }\n        }\n        _this._body = requestOptions.body;\n        _this.method = normalizeMethodName(requestOptions.method);\n        // TODO(jeffbcross): implement behavior\n        // Defaults to 'omit', consistent with browser\n        _this.headers = new Headers(requestOptions.headers);\n        _this.contentType = _this.detectContentType();\n        _this.withCredentials = requestOptions.withCredentials;\n        _this.responseType = requestOptions.responseType;\n        return _this;\n    }\n    /**\n     * Returns the content type enum based on header options.\n     * @return {?}\n     */\n    Request.prototype.detectContentType = function () {\n        switch (this.headers.get('content-type')) {\n            case 'application/json':\n                return ContentType.JSON;\n            case 'application/x-www-form-urlencoded':\n                return ContentType.FORM;\n            case 'multipart/form-data':\n                return ContentType.FORM_DATA;\n            case 'text/plain':\n            case 'text/html':\n                return ContentType.TEXT;\n            case 'application/octet-stream':\n                return this._body instanceof ArrayBuffer$1 ? ContentType.ARRAY_BUFFER : ContentType.BLOB;\n            default:\n                return this.detectContentTypeFromBody();\n        }\n    };\n    /**\n     * Returns the content type of request's body based on its type.\n     * @return {?}\n     */\n    Request.prototype.detectContentTypeFromBody = function () {\n        if (this._body == null) {\n            return ContentType.NONE;\n        }\n        else if (this._body instanceof URLSearchParams) {\n            return ContentType.FORM;\n        }\n        else if (this._body instanceof FormData) {\n            return ContentType.FORM_DATA;\n        }\n        else if (this._body instanceof Blob$1) {\n            return ContentType.BLOB;\n        }\n        else if (this._body instanceof ArrayBuffer$1) {\n            return ContentType.ARRAY_BUFFER;\n        }\n        else if (this._body && typeof this._body === 'object') {\n            return ContentType.JSON;\n        }\n        else {\n            return ContentType.TEXT;\n        }\n    };\n    /**\n     * Returns the request's body according to its type. If body is undefined, return\n     * null.\n     * @return {?}\n     */\n    Request.prototype.getBody = function () {\n        switch (this.contentType) {\n            case ContentType.JSON:\n                return this.text();\n            case ContentType.FORM:\n                return this.text();\n            case ContentType.FORM_DATA:\n                return this._body;\n            case ContentType.TEXT:\n                return this.text();\n            case ContentType.BLOB:\n                return this.blob();\n            case ContentType.ARRAY_BUFFER:\n                return this.arrayBuffer();\n            default:\n                return null;\n        }\n    };\n    return Request;\n}(Body));\n/**\n * @param {?} params\n * @return {?}\n */\nfunction urlEncodeParams(params) {\n    var /** @type {?} */ searchParams = new URLSearchParams();\n    Object.keys(params).forEach(function (key) {\n        var /** @type {?} */ value = params[key];\n        if (value && Array.isArray(value)) {\n            value.forEach(function (element) { return searchParams.append(key, element.toString()); });\n        }\n        else {\n            searchParams.append(key, value.toString());\n        }\n    });\n    return searchParams;\n}\nvar noop = function () { };\nvar w = typeof window == 'object' ? window : noop;\nvar FormData = ((w) /** TODO #9100 */)['FormData'] || noop;\nvar Blob$1 = ((w) /** TODO #9100 */)['Blob'] || noop;\nvar ArrayBuffer$1 = ((w) /** TODO #9100 */)['ArrayBuffer'] || noop;\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @param {?} backend\n * @param {?} request\n * @return {?}\n */\nfunction httpRequest(backend, request) {\n    return backend.createConnection(request).response;\n}\n/**\n * @param {?} defaultOpts\n * @param {?} providedOpts\n * @param {?} method\n * @param {?} url\n * @return {?}\n */\nfunction mergeOptions(defaultOpts, providedOpts, method, url) {\n    var /** @type {?} */ newOptions = defaultOpts;\n    if (providedOpts) {\n        // Hack so Dart can used named parameters\n        return (newOptions.merge(new RequestOptions({\n            method: providedOpts.method || method,\n            url: providedOpts.url || url,\n            search: providedOpts.search,\n            params: providedOpts.params,\n            headers: providedOpts.headers,\n            body: providedOpts.body,\n            withCredentials: providedOpts.withCredentials,\n            responseType: providedOpts.responseType\n        })));\n    }\n    return (newOptions.merge(new RequestOptions({ method: method, url: url })));\n}\n/**\n * Performs http requests using `XMLHttpRequest` as the default backend.\n *\n * `Http` is available as an injectable class, with methods to perform http requests. Calling\n * `request` returns an `Observable` which will emit a single {\\@link Response} when a\n * response is received.\n *\n * ### Example\n *\n * ```typescript\n * import {Http, HTTP_PROVIDERS} from '\\@angular/http';\n * import 'rxjs/add/operator/map'\n * \\@Component({\n *   selector: 'http-app',\n *   viewProviders: [HTTP_PROVIDERS],\n *   templateUrl: 'people.html'\n * })\n * class PeopleComponent {\n *   constructor(http: Http) {\n *     http.get('people.json')\n *       // Call map on the response observable to get the parsed people object\n *       .map(res => res.json())\n *       // Subscribe to the observable to get the parsed people object and attach it to the\n *       // component\n *       .subscribe(people => this.people = people);\n *   }\n * }\n * ```\n *\n *\n * ### Example\n *\n * ```\n * http.get('people.json').subscribe((res:Response) => this.people = res.json());\n * ```\n *\n * The default construct used to perform requests, `XMLHttpRequest`, is abstracted as a \"Backend\" (\n * {\\@link XHRBackend} in this case), which could be mocked with dependency injection by replacing\n * the {\\@link XHRBackend} provider, as in the following example:\n *\n * ### Example\n *\n * ```typescript\n * import {BaseRequestOptions, Http} from '\\@angular/http';\n * import {MockBackend} from '\\@angular/http/testing';\n * var injector = Injector.resolveAndCreate([\n *   BaseRequestOptions,\n *   MockBackend,\n *   {provide: Http, useFactory:\n *       function(backend, defaultOptions) {\n *         return new Http(backend, defaultOptions);\n *       },\n *       deps: [MockBackend, BaseRequestOptions]}\n * ]);\n * var http = injector.get(Http);\n * http.get('request-from-mock-backend.json').subscribe((res:Response) => doSomething(res));\n * ```\n *\n * \\@experimental\n */\nvar Http = (function () {\n    /**\n     * @param {?} _backend\n     * @param {?} _defaultOptions\n     */\n    function Http(_backend, _defaultOptions) {\n        this._backend = _backend;\n        this._defaultOptions = _defaultOptions;\n    }\n    /**\n     * Performs any type of http request. First argument is required, and can either be a url or\n     * a {\\@link Request} instance. If the first argument is a url, an optional {\\@link RequestOptions}\n     * object can be provided as the 2nd argument. The options object will be merged with the values\n     * of {\\@link BaseRequestOptions} before performing the request.\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.request = function (url, options) {\n        var /** @type {?} */ responseObservable;\n        if (typeof url === 'string') {\n            responseObservable = httpRequest(this._backend, new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, /** @type {?} */ (url))));\n        }\n        else if (url instanceof Request) {\n            responseObservable = httpRequest(this._backend, url);\n        }\n        else {\n            throw new Error('First argument must be a url string or Request instance.');\n        }\n        return responseObservable;\n    };\n    /**\n     * Performs a request with `get` http method.\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.get = function (url, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, url)));\n    };\n    /**\n     * Performs a request with `post` http method.\n     * @param {?} url\n     * @param {?} body\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.post = function (url, body, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Post, url)));\n    };\n    /**\n     * Performs a request with `put` http method.\n     * @param {?} url\n     * @param {?} body\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.put = function (url, body, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Put, url)));\n    };\n    /**\n     * Performs a request with `delete` http method.\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.delete = function (url, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Delete, url)));\n    };\n    /**\n     * Performs a request with `patch` http method.\n     * @param {?} url\n     * @param {?} body\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.patch = function (url, body, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions.merge(new RequestOptions({ body: body })), options, RequestMethod.Patch, url)));\n    };\n    /**\n     * Performs a request with `head` http method.\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.head = function (url, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Head, url)));\n    };\n    /**\n     * Performs a request with `options` http method.\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Http.prototype.options = function (url, options) {\n        return this.request(new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Options, url)));\n    };\n    return Http;\n}());\nHttp.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nHttp.ctorParameters = function () { return [\n    { type: ConnectionBackend, },\n    { type: RequestOptions, },\n]; };\n/**\n * \\@experimental\n */\nvar Jsonp = (function (_super) {\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __extends */](Jsonp, _super);\n    /**\n     * @param {?} backend\n     * @param {?} defaultOptions\n     */\n    function Jsonp(backend, defaultOptions) {\n        return _super.call(this, backend, defaultOptions) || this;\n    }\n    /**\n     * Performs any type of http request. First argument is required, and can either be a url or\n     * a {\\@link Request} instance. If the first argument is a url, an optional {\\@link RequestOptions}\n     * object can be provided as the 2nd argument. The options object will be merged with the values\n     * of {\\@link BaseRequestOptions} before performing the request.\n     *\n     * \\@security Regular XHR is the safest alternative to JSONP for most applications, and is\n     * supported by all current browsers. Because JSONP creates a `<script>` element with\n     * contents retrieved from a remote source, attacker-controlled data introduced by an untrusted\n     * source could expose your application to XSS risks. Data exposed by JSONP may also be\n     * readable by malicious third-party websites. In addition, JSONP introduces potential risk for\n     * future security issues (e.g. content sniffing).  For more detail, see the\n     * [Security Guide](http://g.co/ng/security).\n     * @param {?} url\n     * @param {?=} options\n     * @return {?}\n     */\n    Jsonp.prototype.request = function (url, options) {\n        var /** @type {?} */ responseObservable;\n        if (typeof url === 'string') {\n            url =\n                new Request(mergeOptions(this._defaultOptions, options, RequestMethod.Get, /** @type {?} */ (url)));\n        }\n        if (url instanceof Request) {\n            if (url.method !== RequestMethod.Get) {\n                throw new Error('JSONP requests must use GET request method.');\n            }\n            responseObservable = httpRequest(this._backend, url);\n        }\n        else {\n            throw new Error('First argument must be a url string or Request instance.');\n        }\n        return responseObservable;\n    };\n    return Jsonp;\n}(Http));\nJsonp.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Injectable\"] },\n];\n/**\n * @nocollapse\n */\nJsonp.ctorParameters = function () { return [\n    { type: ConnectionBackend, },\n    { type: RequestOptions, },\n]; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * The http module provides services to perform http requests. To get started, see the {@link Http}\n * class.\n */\n/**\n * @return {?}\n */\nfunction _createDefaultCookieXSRFStrategy() {\n    return new CookieXSRFStrategy();\n}\n/**\n * @param {?} xhrBackend\n * @param {?} requestOptions\n * @return {?}\n */\nfunction httpFactory(xhrBackend, requestOptions) {\n    return new Http(xhrBackend, requestOptions);\n}\n/**\n * @param {?} jsonpBackend\n * @param {?} requestOptions\n * @return {?}\n */\nfunction jsonpFactory(jsonpBackend, requestOptions) {\n    return new Jsonp(jsonpBackend, requestOptions);\n}\n/**\n * The module that includes http's providers\n *\n * \\@experimental\n */\nvar HttpModule = (function () {\n    function HttpModule() {\n    }\n    return HttpModule;\n}());\nHttpModule.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"], args: [{\n                providers: [\n                    // TODO(pascal): use factory type annotations once supported in DI\n                    // issue: https://github.com/angular/angular/issues/3183\n                    { provide: Http, useFactory: httpFactory, deps: [XHRBackend, RequestOptions] },\n                    BrowserXhr,\n                    { provide: RequestOptions, useClass: BaseRequestOptions },\n                    { provide: ResponseOptions, useClass: BaseResponseOptions },\n                    XHRBackend,\n                    { provide: XSRFStrategy, useFactory: _createDefaultCookieXSRFStrategy },\n                ],\n            },] },\n];\n/**\n * @nocollapse\n */\nHttpModule.ctorParameters = function () { return []; };\n/**\n * The module that includes jsonp's providers\n *\n * \\@experimental\n */\nvar JsonpModule = (function () {\n    function JsonpModule() {\n    }\n    return JsonpModule;\n}());\nJsonpModule.decorators = [\n    { type: __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"], args: [{\n                providers: [\n                    // TODO(pascal): use factory type annotations once supported in DI\n                    // issue: https://github.com/angular/angular/issues/3183\n                    { provide: Jsonp, useFactory: jsonpFactory, deps: [JSONPBackend, RequestOptions] },\n                    BrowserJsonp,\n                    { provide: RequestOptions, useClass: BaseRequestOptions },\n                    { provide: ResponseOptions, useClass: BaseResponseOptions },\n                    { provide: JSONPBackend, useClass: JSONPBackend_ },\n                ],\n            },] },\n];\n/**\n * @nocollapse\n */\nJsonpModule.ctorParameters = function () { return []; };\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the common package.\n */\n/**\n * \\@stable\n */\nvar VERSION = new __WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Version\"]('4.4.6');\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @module\n * @description\n * Entry point for all public APIs of the http package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n/**\n * Generated bundle index. Do not edit.\n */\n\n//# sourceMappingURL=http.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE3LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxub2RlX21vZHVsZXNcXEBhbmd1bGFyXFxodHRwXFxAYW5ndWxhclxcaHR0cC5lczUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhciB2NC40LjZcbiAqIChjKSAyMDEwLTIwMTcgR29vZ2xlLCBJbmMuIGh0dHBzOi8vYW5ndWxhci5pby9cbiAqIExpY2Vuc2U6IE1JVFxuICovXG5pbXBvcnQgeyBJbmplY3RhYmxlLCBOZ01vZHVsZSwgVmVyc2lvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyDJtWdldERPTSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIGJhY2tlbmQgZm9yIGh0dHAgdGhhdCB1c2VzIHRoZSBgWE1MSHR0cFJlcXVlc3RgIGJyb3dzZXIgQVBJLlxuICpcbiAqIFRha2UgY2FyZSBub3QgdG8gZXZhbHVhdGUgdGhpcyBpbiBub24tYnJvd3NlciBjb250ZXh0cy5cbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIEJyb3dzZXJYaHIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJYaHIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQnJvd3Nlclhoci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoKG5ldyBYTUxIdHRwUmVxdWVzdCgpKSk7IH07XG4gICAgcmV0dXJuIEJyb3dzZXJYaHI7XG59KCkpO1xuQnJvd3Nlclhoci5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQnJvd3Nlclhoci5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9O1xudmFyIFJlcXVlc3RNZXRob2QgPSB7fTtcblJlcXVlc3RNZXRob2QuR2V0ID0gMDtcblJlcXVlc3RNZXRob2QuUG9zdCA9IDE7XG5SZXF1ZXN0TWV0aG9kLlB1dCA9IDI7XG5SZXF1ZXN0TWV0aG9kLkRlbGV0ZSA9IDM7XG5SZXF1ZXN0TWV0aG9kLk9wdGlvbnMgPSA0O1xuUmVxdWVzdE1ldGhvZC5IZWFkID0gNTtcblJlcXVlc3RNZXRob2QuUGF0Y2ggPSA2O1xuUmVxdWVzdE1ldGhvZFtSZXF1ZXN0TWV0aG9kLkdldF0gPSBcIkdldFwiO1xuUmVxdWVzdE1ldGhvZFtSZXF1ZXN0TWV0aG9kLlBvc3RdID0gXCJQb3N0XCI7XG5SZXF1ZXN0TWV0aG9kW1JlcXVlc3RNZXRob2QuUHV0XSA9IFwiUHV0XCI7XG5SZXF1ZXN0TWV0aG9kW1JlcXVlc3RNZXRob2QuRGVsZXRlXSA9IFwiRGVsZXRlXCI7XG5SZXF1ZXN0TWV0aG9kW1JlcXVlc3RNZXRob2QuT3B0aW9uc10gPSBcIk9wdGlvbnNcIjtcblJlcXVlc3RNZXRob2RbUmVxdWVzdE1ldGhvZC5IZWFkXSA9IFwiSGVhZFwiO1xuUmVxdWVzdE1ldGhvZFtSZXF1ZXN0TWV0aG9kLlBhdGNoXSA9IFwiUGF0Y2hcIjtcbnZhciBSZWFkeVN0YXRlID0ge307XG5SZWFkeVN0YXRlLlVuc2VudCA9IDA7XG5SZWFkeVN0YXRlLk9wZW4gPSAxO1xuUmVhZHlTdGF0ZS5IZWFkZXJzUmVjZWl2ZWQgPSAyO1xuUmVhZHlTdGF0ZS5Mb2FkaW5nID0gMztcblJlYWR5U3RhdGUuRG9uZSA9IDQ7XG5SZWFkeVN0YXRlLkNhbmNlbGxlZCA9IDU7XG5SZWFkeVN0YXRlW1JlYWR5U3RhdGUuVW5zZW50XSA9IFwiVW5zZW50XCI7XG5SZWFkeVN0YXRlW1JlYWR5U3RhdGUuT3Blbl0gPSBcIk9wZW5cIjtcblJlYWR5U3RhdGVbUmVhZHlTdGF0ZS5IZWFkZXJzUmVjZWl2ZWRdID0gXCJIZWFkZXJzUmVjZWl2ZWRcIjtcblJlYWR5U3RhdGVbUmVhZHlTdGF0ZS5Mb2FkaW5nXSA9IFwiTG9hZGluZ1wiO1xuUmVhZHlTdGF0ZVtSZWFkeVN0YXRlLkRvbmVdID0gXCJEb25lXCI7XG5SZWFkeVN0YXRlW1JlYWR5U3RhdGUuQ2FuY2VsbGVkXSA9IFwiQ2FuY2VsbGVkXCI7XG52YXIgUmVzcG9uc2VUeXBlID0ge307XG5SZXNwb25zZVR5cGUuQmFzaWMgPSAwO1xuUmVzcG9uc2VUeXBlLkNvcnMgPSAxO1xuUmVzcG9uc2VUeXBlLkRlZmF1bHQgPSAyO1xuUmVzcG9uc2VUeXBlLkVycm9yID0gMztcblJlc3BvbnNlVHlwZS5PcGFxdWUgPSA0O1xuUmVzcG9uc2VUeXBlW1Jlc3BvbnNlVHlwZS5CYXNpY10gPSBcIkJhc2ljXCI7XG5SZXNwb25zZVR5cGVbUmVzcG9uc2VUeXBlLkNvcnNdID0gXCJDb3JzXCI7XG5SZXNwb25zZVR5cGVbUmVzcG9uc2VUeXBlLkRlZmF1bHRdID0gXCJEZWZhdWx0XCI7XG5SZXNwb25zZVR5cGVbUmVzcG9uc2VUeXBlLkVycm9yXSA9IFwiRXJyb3JcIjtcblJlc3BvbnNlVHlwZVtSZXNwb25zZVR5cGUuT3BhcXVlXSA9IFwiT3BhcXVlXCI7XG52YXIgQ29udGVudFR5cGUgPSB7fTtcbkNvbnRlbnRUeXBlLk5PTkUgPSAwO1xuQ29udGVudFR5cGUuSlNPTiA9IDE7XG5Db250ZW50VHlwZS5GT1JNID0gMjtcbkNvbnRlbnRUeXBlLkZPUk1fREFUQSA9IDM7XG5Db250ZW50VHlwZS5URVhUID0gNDtcbkNvbnRlbnRUeXBlLkJMT0IgPSA1O1xuQ29udGVudFR5cGUuQVJSQVlfQlVGRkVSID0gNjtcbkNvbnRlbnRUeXBlW0NvbnRlbnRUeXBlLk5PTkVdID0gXCJOT05FXCI7XG5Db250ZW50VHlwZVtDb250ZW50VHlwZS5KU09OXSA9IFwiSlNPTlwiO1xuQ29udGVudFR5cGVbQ29udGVudFR5cGUuRk9STV0gPSBcIkZPUk1cIjtcbkNvbnRlbnRUeXBlW0NvbnRlbnRUeXBlLkZPUk1fREFUQV0gPSBcIkZPUk1fREFUQVwiO1xuQ29udGVudFR5cGVbQ29udGVudFR5cGUuVEVYVF0gPSBcIlRFWFRcIjtcbkNvbnRlbnRUeXBlW0NvbnRlbnRUeXBlLkJMT0JdID0gXCJCTE9CXCI7XG5Db250ZW50VHlwZVtDb250ZW50VHlwZS5BUlJBWV9CVUZGRVJdID0gXCJBUlJBWV9CVUZGRVJcIjtcbnZhciBSZXNwb25zZUNvbnRlbnRUeXBlID0ge307XG5SZXNwb25zZUNvbnRlbnRUeXBlLlRleHQgPSAwO1xuUmVzcG9uc2VDb250ZW50VHlwZS5Kc29uID0gMTtcblJlc3BvbnNlQ29udGVudFR5cGUuQXJyYXlCdWZmZXIgPSAyO1xuUmVzcG9uc2VDb250ZW50VHlwZS5CbG9iID0gMztcblJlc3BvbnNlQ29udGVudFR5cGVbUmVzcG9uc2VDb250ZW50VHlwZS5UZXh0XSA9IFwiVGV4dFwiO1xuUmVzcG9uc2VDb250ZW50VHlwZVtSZXNwb25zZUNvbnRlbnRUeXBlLkpzb25dID0gXCJKc29uXCI7XG5SZXNwb25zZUNvbnRlbnRUeXBlW1Jlc3BvbnNlQ29udGVudFR5cGUuQXJyYXlCdWZmZXJdID0gXCJBcnJheUJ1ZmZlclwiO1xuUmVzcG9uc2VDb250ZW50VHlwZVtSZXNwb25zZUNvbnRlbnRUeXBlLkJsb2JdID0gXCJCbG9iXCI7XG4vKipcbiAqIFBvbHlmaWxsIGZvciBbSGVhZGVyc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hlYWRlcnMvSGVhZGVycyksIGFzXG4gKiBzcGVjaWZpZWQgaW4gdGhlIFtGZXRjaCBTcGVjXShodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jaGVhZGVycy1jbGFzcykuXG4gKlxuICogVGhlIG9ubHkga25vd24gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgYEhlYWRlcnNgIGltcGxlbWVudGF0aW9uIGFuZCB0aGUgc3BlYyBpcyB0aGVcbiAqIGxhY2sgb2YgYW4gYGVudHJpZXNgIG1ldGhvZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtIZWFkZXJzfSBmcm9tICdcXEBhbmd1bGFyL2h0dHAnO1xuICpcbiAqIHZhciBmaXJzdEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICogZmlyc3RIZWFkZXJzLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2ltYWdlL2pwZWcnKTtcbiAqIGNvbnNvbGUubG9nKGZpcnN0SGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSAvLydpbWFnZS9qcGVnJ1xuICpcbiAqIC8vIENyZWF0ZSBoZWFkZXJzIGZyb20gUGxhaW4gT2xkIEphdmFTY3JpcHQgT2JqZWN0XG4gKiB2YXIgc2Vjb25kSGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAqICAgJ1gtTXktQ3VzdG9tLUhlYWRlcic6ICdBbmd1bGFyJ1xuICogfSk7XG4gKiBjb25zb2xlLmxvZyhzZWNvbmRIZWFkZXJzLmdldCgnWC1NeS1DdXN0b20tSGVhZGVyJykpOyAvLydBbmd1bGFyJ1xuICpcbiAqIHZhciB0aGlyZEhlYWRlcnMgPSBuZXcgSGVhZGVycyhzZWNvbmRIZWFkZXJzKTtcbiAqIGNvbnNvbGUubG9nKHRoaXJkSGVhZGVycy5nZXQoJ1gtTXktQ3VzdG9tLUhlYWRlcicpKTsgLy8nQW5ndWxhcidcbiAqIGBgYFxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgSGVhZGVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gaGVhZGVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWwgaGVhZGVyIG5hbWVzIGFyZSBsb3dlciBjYXNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWFkZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWwgbWFwIGxvd2VyIGNhc2UgbmFtZXMgdG8gYWN0dWFsIG5hbWVzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVkTmFtZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGlmICghaGVhZGVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZXMsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIF90aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IEFycmF5LmlzQXJyYXkoaGVhZGVyc1tuYW1lXSkgPyBoZWFkZXJzW25hbWVdIDogW2hlYWRlcnNbbmFtZV1dO1xuICAgICAgICAgICAgX3RoaXMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgSGVhZGVycyBpbnN0YW5jZSBmcm9tIHRoZSBnaXZlbiBET01TdHJpbmcgb2YgUmVzcG9uc2UgSGVhZGVyc1xuICAgICAqIEBwYXJhbSB7P30gaGVhZGVyc1N0cmluZ1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5mcm9tUmVzcG9uc2VIZWFkZXJTdHJpbmcgPSBmdW5jdGlvbiAoaGVhZGVyc1N0cmluZykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgaGVhZGVyc1N0cmluZy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5kZXggPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuYW1lID0gbGluZS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWUgPSBsaW5lLnNsaWNlKGluZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGhlYWRlciB0byBleGlzdGluZyBsaXN0IG9mIGhlYWRlciB2YWx1ZXMgZm9yIGEgZ2l2ZW4gaGVhZGVyIG5hbWUuXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZhbHVlcyA9IHRoaXMuZ2V0QWxsKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWVzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYWxsIGhlYWRlciB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBuYW1lLlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGNOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVkTmFtZXMuZGVsZXRlKGxjTmFtZSk7XG4gICAgICAgIHRoaXMuX2hlYWRlcnMuZGVsZXRlKGxjTmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2hlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWVzLCBsY05hbWUpIHsgcmV0dXJuIGZuKHZhbHVlcywgX3RoaXMuX25vcm1hbGl6ZWROYW1lcy5nZXQobGNOYW1lKSwgX3RoaXMuX2hlYWRlcnMpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgZmlyc3QgaGVhZGVyIHRoYXQgbWF0Y2hlcyBnaXZlbiBuYW1lLlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWVzID0gdGhpcy5nZXRBbGwobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID4gMCA/IHZhbHVlc1swXSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgZm9yIGV4aXN0ZW5jZSBvZiBoZWFkZXIgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiB0aGlzLl9oZWFkZXJzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpOyB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWVzIG9mIHRoZSBoZWFkZXJzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9ub3JtYWxpemVkTmFtZXMudmFsdWVzKCkpOyB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgb3Igb3ZlcnJpZGVzIGhlYWRlciB2YWx1ZSBmb3IgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGVycy5zZXQobmFtZS50b0xvd2VyQ2FzZSgpLCBbdmFsdWUuam9pbignLCcpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJzLnNldChuYW1lLnRvTG93ZXJDYXNlKCksIFt2YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF5QmVTZXROb3JtYWxpemVkTmFtZShuYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmFsdWVzIG9mIGFsbCBoZWFkZXJzLlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9oZWFkZXJzLnZhbHVlcygpKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc2VyaWFsaXplZCA9IHt9O1xuICAgICAgICB0aGlzLl9oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlcywgbmFtZSkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc3BsaXQgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBzcGxpdC5wdXNoLmFwcGx5KHNwbGl0LCB2LnNwbGl0KCcsJykpOyB9KTtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRbKChfdGhpcy5fbm9ybWFsaXplZE5hbWVzLmdldChuYW1lKSkpXSA9IHNwbGl0O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGxpc3Qgb2YgaGVhZGVyIHZhbHVlcyBmb3IgYSBnaXZlbiBuYW1lLlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5faGVhZGVycy5nZXQobmFtZS50b0xvd2VyQ2FzZSgpKSB8fCBudWxsIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZC5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcignXCJlbnRyaWVzXCIgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiBIZWFkZXJzIGNsYXNzJyk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5tYXlCZVNldE5vcm1hbGl6ZWROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGNOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX25vcm1hbGl6ZWROYW1lcy5oYXMobGNOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fbm9ybWFsaXplZE5hbWVzLnNldChsY05hbWUsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSGVhZGVycztcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYSByZXNwb25zZSBvcHRpb25zIG9iamVjdCB0byBiZSBvcHRpb25hbGx5IHByb3ZpZGVkIHdoZW4gaW5zdGFudGlhdGluZyBhXG4gKiB7XFxAbGluayBSZXNwb25zZX0uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBiYXNlZCBvbiB0aGUgYFJlc3BvbnNlSW5pdGAgZGVzY3JpcHRpb24gaW4gdGhlIFtGZXRjaFxuICogU3BlY10oaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI3Jlc3BvbnNlaW5pdCkuXG4gKlxuICogQWxsIHZhbHVlcyBhcmUgbnVsbCBieSBkZWZhdWx0LiBUeXBpY2FsIGRlZmF1bHRzIGNhbiBiZSBmb3VuZCBpbiB0aGVcbiAqIHtcXEBsaW5rIEJhc2VSZXNwb25zZU9wdGlvbnN9IGNsYXNzLCB3aGljaCBzdWItY2xhc3NlcyBgUmVzcG9uc2VPcHRpb25zYC5cbiAqXG4gKiBUaGlzIGNsYXNzIG1heSBiZSB1c2VkIGluIHRlc3RzIHRvIGJ1aWxkIHtcXEBsaW5rIFJlc3BvbnNlIFJlc3BvbnNlc30gZm9yXG4gKiBtb2NrIHJlc3BvbnNlcyAoc2VlIHtcXEBsaW5rIE1vY2tCYWNrZW5kfSkuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1A5SmtrOGU4Y3o2TlZ6YmN4RXNEP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtSZXNwb25zZU9wdGlvbnMsIFJlc3BvbnNlfSBmcm9tICdcXEBhbmd1bGFyL2h0dHAnO1xuICpcbiAqIHZhciBvcHRpb25zID0gbmV3IFJlc3BvbnNlT3B0aW9ucyh7XG4gKiAgIGJvZHk6ICd7XCJuYW1lXCI6XCJKZWZmXCJ9J1xuICogfSk7XG4gKiB2YXIgcmVzID0gbmV3IFJlc3BvbnNlKG9wdGlvbnMpO1xuICpcbiAqIGNvbnNvbGUubG9nKCdyZXMuanNvbigpOicsIHJlcy5qc29uKCkpOyAvLyBPYmplY3Qge25hbWU6IFwiSmVmZlwifVxuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBSZXNwb25zZU9wdGlvbnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IG9wdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNwb25zZU9wdGlvbnMob3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICB2YXIgYm9keSA9IG9wdHMuYm9keSwgc3RhdHVzID0gb3B0cy5zdGF0dXMsIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMsIHN0YXR1c1RleHQgPSBvcHRzLnN0YXR1c1RleHQsIHR5cGUgPSBvcHRzLnR5cGUsIHVybCA9IG9wdHMudXJsO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5ICE9IG51bGwgPyBib2R5IDogbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXMgIT0gbnVsbCA/IHN0YXR1cyA6IG51bGw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnMgIT0gbnVsbCA/IGhlYWRlcnMgOiBudWxsO1xuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0ICE9IG51bGwgPyBzdGF0dXNUZXh0IDogbnVsbDtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSAhPSBudWxsID8gdHlwZSA6IG51bGw7XG4gICAgICAgIHRoaXMudXJsID0gdXJsICE9IG51bGwgPyB1cmwgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGUgYFJlc3BvbnNlT3B0aW9uc2AgaW5zdGFuY2UsIHVzaW5nIHRoZSBvcHRpb25hbCBpbnB1dCBhcyB2YWx1ZXMgdG9cbiAgICAgKiBvdmVycmlkZVxuICAgICAqIGV4aXN0aW5nIHZhbHVlcy4gVGhpcyBtZXRob2Qgd2lsbCBub3QgY2hhbmdlIHRoZSB2YWx1ZXMgb2YgdGhlIGluc3RhbmNlIG9uIHdoaWNoIGl0IGlzIGJlaW5nXG4gICAgICogY2FsbGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4gc2hhcmluZyBhIGJhc2UgYFJlc3BvbnNlT3B0aW9uc2Agb2JqZWN0IGluc2lkZSB0ZXN0cyxcbiAgICAgKiB3aGVyZSBjZXJ0YWluIHByb3BlcnRpZXMgbWF5IGNoYW5nZSBmcm9tIHRlc3QgdG8gdGVzdC5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC8xbFhxdXFGZmdkdVRGQldqTm9SRT9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7UmVzcG9uc2VPcHRpb25zLCBSZXNwb25zZX0gZnJvbSAnXFxAYW5ndWxhci9odHRwJztcbiAgICAgKlxuICAgICAqIHZhciBvcHRpb25zID0gbmV3IFJlc3BvbnNlT3B0aW9ucyh7XG4gICAgICogICBib2R5OiB7bmFtZTogJ0plZmYnfVxuICAgICAqIH0pO1xuICAgICAqIHZhciByZXMgPSBuZXcgUmVzcG9uc2Uob3B0aW9ucy5tZXJnZSh7XG4gICAgICogICB1cmw6ICdodHRwczovL2dvb2dsZS5jb20nXG4gICAgICogfSkpO1xuICAgICAqIGNvbnNvbGUubG9nKCdvcHRpb25zLnVybDonLCBvcHRpb25zLnVybCk7IC8vIG51bGxcbiAgICAgKiBjb25zb2xlLmxvZygncmVzLmpzb24oKTonLCByZXMuanNvbigpKTsgLy8gT2JqZWN0IHtuYW1lOiBcIkplZmZcIn1cbiAgICAgKiBjb25zb2xlLmxvZygncmVzLnVybDonLCByZXMudXJsKTsgLy8gaHR0cHM6Ly9nb29nbGUuY29tXG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVzcG9uc2VPcHRpb25zLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VPcHRpb25zKHtcbiAgICAgICAgICAgIGJvZHk6IG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5ICE9IG51bGwgPyBvcHRpb25zLmJvZHkgOiB0aGlzLmJvZHksXG4gICAgICAgICAgICBzdGF0dXM6IG9wdGlvbnMgJiYgb3B0aW9ucy5zdGF0dXMgIT0gbnVsbCA/IG9wdGlvbnMuc3RhdHVzIDogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zICYmIG9wdGlvbnMuaGVhZGVycyAhPSBudWxsID8gb3B0aW9ucy5oZWFkZXJzIDogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogb3B0aW9ucyAmJiBvcHRpb25zLnN0YXR1c1RleHQgIT0gbnVsbCA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlICE9IG51bGwgPyBvcHRpb25zLnR5cGUgOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMgJiYgb3B0aW9ucy51cmwgIT0gbnVsbCA/IG9wdGlvbnMudXJsIDogdGhpcy51cmwsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3BvbnNlT3B0aW9ucztcbn0oKSk7XG4vKipcbiAqIFN1YmNsYXNzIG9mIHtcXEBsaW5rIFJlc3BvbnNlT3B0aW9uc30sIHdpdGggZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogRGVmYXVsdCB2YWx1ZXM6XG4gKiAgKiBzdGF0dXM6IDIwMFxuICogICogaGVhZGVyczogZW1wdHkge1xcQGxpbmsgSGVhZGVyc30gb2JqZWN0XG4gKlxuICogVGhpcyBjbGFzcyBjb3VsZCBiZSBleHRlbmRlZCBhbmQgYm91bmQgdG8gdGhlIHtcXEBsaW5rIFJlc3BvbnNlT3B0aW9uc30gY2xhc3NcbiAqIHdoZW4gY29uZmlndXJpbmcgYW4ge1xcQGxpbmsgSW5qZWN0b3J9LCBpbiBvcmRlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zXG4gKiB1c2VkIGJ5IHtcXEBsaW5rIEh0dHB9IHRvIGNyZWF0ZSB7XFxAbGluayBSZXNwb25zZSBSZXNwb25zZXN9LlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9xdjhETFQ/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge3Byb3ZpZGV9IGZyb20gJ1xcQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnXFxAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2Jyb3dzZXInO1xuICogaW1wb3J0IHtIVFRQX1BST1ZJREVSUywgSGVhZGVycywgSHR0cCwgQmFzZVJlc3BvbnNlT3B0aW9ucywgUmVzcG9uc2VPcHRpb25zfSBmcm9tXG4gKiAnXFxAYW5ndWxhci9odHRwJztcbiAqIGltcG9ydCB7QXBwfSBmcm9tICcuL215YXBwJztcbiAqXG4gKiBjbGFzcyBNeU9wdGlvbnMgZXh0ZW5kcyBCYXNlUmVzcG9uc2VPcHRpb25zIHtcbiAqICAgaGVhZGVyczpIZWFkZXJzID0gbmV3IEhlYWRlcnMoe25ldHdvcms6ICdnaXRodWInfSk7XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKEFwcCwgW0hUVFBfUFJPVklERVJTLCB7cHJvdmlkZTogUmVzcG9uc2VPcHRpb25zLCB1c2VDbGFzczogTXlPcHRpb25zfV0pO1xuICogYGBgXG4gKlxuICogVGhlIG9wdGlvbnMgY291bGQgYWxzbyBiZSBleHRlbmRlZCB3aGVuIG1hbnVhbGx5IGNyZWF0aW5nIGEge1xcQGxpbmsgUmVzcG9uc2V9XG4gKiBvYmplY3QuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1ZuZ29zT1dpYUV4RXRic3REb2l4P3A9cHJldmlldykpXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0Jhc2VSZXNwb25zZU9wdGlvbnMsIFJlc3BvbnNlfSBmcm9tICdcXEBhbmd1bGFyL2h0dHAnO1xuICpcbiAqIHZhciBvcHRpb25zID0gbmV3IEJhc2VSZXNwb25zZU9wdGlvbnMoKTtcbiAqIHZhciByZXMgPSBuZXcgUmVzcG9uc2Uob3B0aW9ucy5tZXJnZSh7XG4gKiAgIGJvZHk6ICdBbmd1bGFyJyxcbiAqICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe2ZyYW1ld29yazogJ2FuZ3VsYXInfSlcbiAqIH0pKTtcbiAqIGNvbnNvbGUubG9nKCdyZXMuaGVhZGVycy5nZXQoXCJmcmFtZXdvcmtcIik6JywgcmVzLmhlYWRlcnMuZ2V0KCdmcmFtZXdvcmsnKSk7IC8vIGFuZ3VsYXJcbiAqIGNvbnNvbGUubG9nKCdyZXMudGV4dCgpOicsIHJlcy50ZXh0KCkpOyAvLyBBbmd1bGFyO1xuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBCYXNlUmVzcG9uc2VPcHRpb25zID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCYXNlUmVzcG9uc2VPcHRpb25zLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VSZXNwb25zZU9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7IHN0YXR1czogMjAwLCBzdGF0dXNUZXh0OiAnT2snLCB0eXBlOiBSZXNwb25zZVR5cGUuRGVmYXVsdCwgaGVhZGVyczogbmV3IEhlYWRlcnMoKSB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQmFzZVJlc3BvbnNlT3B0aW9ucztcbn0oUmVzcG9uc2VPcHRpb25zKSk7XG5CYXNlUmVzcG9uc2VPcHRpb25zLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5CYXNlUmVzcG9uc2VPcHRpb25zLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH07XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIGZyb20gd2hpY2ggcmVhbCBiYWNrZW5kcyBhcmUgZGVyaXZlZC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIGEgYENvbm5lY3Rpb25CYWNrZW5kYCBpcyB0byBjcmVhdGUgbmV3IGNvbm5lY3Rpb25zIHRvIGZ1bGZpbGwgYSBnaXZlblxuICoge1xcQGxpbmsgUmVxdWVzdH0uXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIENvbm5lY3Rpb25CYWNrZW5kID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25uZWN0aW9uQmFja2VuZCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSByZXF1ZXN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb25uZWN0aW9uQmFja2VuZC5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7IH07XG4gICAgcmV0dXJuIENvbm5lY3Rpb25CYWNrZW5kO1xufSgpKTtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgZnJvbSB3aGljaCByZWFsIGNvbm5lY3Rpb25zIGFyZSBkZXJpdmVkLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQGFic3RyYWN0XG4gKi9cbnZhciBDb25uZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25uZWN0aW9uKCkge1xuICAgIH1cbiAgICByZXR1cm4gQ29ubmVjdGlvbjtcbn0oKSk7XG4vKipcbiAqIEFuIFhTUkZTdHJhdGVneSBjb25maWd1cmVzIFhTUkYgcHJvdGVjdGlvbiAoZS5nLiB2aWEgaGVhZGVycykgb24gYW4gSFRUUCByZXF1ZXN0LlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQGFic3RyYWN0XG4gKi9cbnZhciBYU1JGU3RyYXRlZ3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhTUkZTdHJhdGVneSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSByZXFcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFhTUkZTdHJhdGVneS5wcm90b3R5cGUuY29uZmlndXJlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXEpIHsgfTtcbiAgICByZXR1cm4gWFNSRlN0cmF0ZWd5O1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBtZXRob2RcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZE5hbWUobWV0aG9kKSB7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgIHN3aXRjaCAobWV0aG9kLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnR0VUJzpcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0TWV0aG9kLkdldDtcbiAgICAgICAgY2FzZSAnUE9TVCc6XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdE1ldGhvZC5Qb3N0O1xuICAgICAgICBjYXNlICdQVVQnOlxuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RNZXRob2QuUHV0O1xuICAgICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RNZXRob2QuRGVsZXRlO1xuICAgICAgICBjYXNlICdPUFRJT05TJzpcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0TWV0aG9kLk9wdGlvbnM7XG4gICAgICAgIGNhc2UgJ0hFQUQnOlxuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RNZXRob2QuSGVhZDtcbiAgICAgICAgY2FzZSAnUEFUQ0gnOlxuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RNZXRob2QuUGF0Y2g7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVxdWVzdCBtZXRob2QuIFRoZSBtZXRob2QgXFxcIlwiICsgbWV0aG9kICsgXCJcXFwiIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xufVxudmFyIGlzU3VjY2VzcyA9IGZ1bmN0aW9uIChzdGF0dXMpIHsgcmV0dXJuIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCk7IH07XG4vKipcbiAqIEBwYXJhbSB7P30geGhyXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRSZXNwb25zZVVSTCh4aHIpIHtcbiAgICBpZiAoJ3Jlc3BvbnNlVVJMJyBpbiB4aHIpIHtcbiAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVVSTDtcbiAgICB9XG4gICAgaWYgKC9eWC1SZXF1ZXN0LVVSTDovbS50ZXN0KHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpIHtcbiAgICAgICAgcmV0dXJuIHhoci5nZXRSZXNwb25zZUhlYWRlcignWC1SZXF1ZXN0LVVSTCcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBpbnB1dFxuICogQHJldHVybiB7P31cbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGlucHV0XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzdHJpbmdUb0FycmF5QnVmZmVyKGlucHV0KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IG5ldyBVaW50MTZBcnJheShpbnB1dC5sZW5ndGgpO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDAsIC8qKiBAdHlwZSB7P30gKi8gc3RyTGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgc3RyTGVuOyBpKyspIHtcbiAgICAgICAgdmlld1tpXSA9IGlucHV0LmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiB2aWV3LmJ1ZmZlcjtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKiBAcGFyYW0gez89fSByYXdQYXJhbXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHBhcmFtUGFyc2VyKHJhd1BhcmFtcykge1xuICAgIGlmIChyYXdQYXJhbXMgPT09IHZvaWQgMCkgeyByYXdQYXJhbXMgPSAnJzsgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIG1hcCA9IG5ldyBNYXAoKTtcbiAgICBpZiAocmF3UGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1zID0gcmF3UGFyYW1zLnNwbGl0KCcmJyk7XG4gICAgICAgIHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZXFJZHggPSBwYXJhbS5pbmRleE9mKCc9Jyk7XG4gICAgICAgICAgICB2YXIgX2EgPSBlcUlkeCA9PSAtMSA/IFtwYXJhbSwgJyddIDogW3BhcmFtLnNsaWNlKDAsIGVxSWR4KSwgcGFyYW0uc2xpY2UoZXFJZHggKyAxKV0sIGtleSA9IF9hWzBdLCB2YWwgPSBfYVsxXTtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGxpc3QgPSBtYXAuZ2V0KGtleSkgfHwgW107XG4gICAgICAgICAgICBsaXN0LnB1c2godmFsKTtcbiAgICAgICAgICAgIG1hcC5zZXQoa2V5LCBsaXN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59XG4vKipcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICpcbiAqL1xudmFyIFF1ZXJ5RW5jb2RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVlcnlFbmNvZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGtcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlS2V5ID0gZnVuY3Rpb24gKGspIHsgcmV0dXJuIHN0YW5kYXJkRW5jb2Rpbmcoayk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBRdWVyeUVuY29kZXIucHJvdG90eXBlLmVuY29kZVZhbHVlID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0YW5kYXJkRW5jb2Rpbmcodik7IH07XG4gICAgcmV0dXJuIFF1ZXJ5RW5jb2Rlcjtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7P30gdlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gc3RhbmRhcmRFbmNvZGluZyh2KSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2KVxuICAgICAgICAucmVwbGFjZSgvJTQwL2dpLCAnQCcpXG4gICAgICAgIC5yZXBsYWNlKC8lM0EvZ2ksICc6JylcbiAgICAgICAgLnJlcGxhY2UoLyUyNC9naSwgJyQnKVxuICAgICAgICAucmVwbGFjZSgvJTJDL2dpLCAnLCcpXG4gICAgICAgIC5yZXBsYWNlKC8lM0IvZ2ksICc7JylcbiAgICAgICAgLnJlcGxhY2UoLyUyQi9naSwgJysnKVxuICAgICAgICAucmVwbGFjZSgvJTNEL2dpLCAnPScpXG4gICAgICAgIC5yZXBsYWNlKC8lM0YvZ2ksICc/JylcbiAgICAgICAgLnJlcGxhY2UoLyUyRi9naSwgJy8nKTtcbn1cbi8qKlxuICogTWFwLWxpa2UgcmVwcmVzZW50YXRpb24gb2YgdXJsIHNlYXJjaCBwYXJhbWV0ZXJzLCBiYXNlZCBvblxuICogW1VSTFNlYXJjaFBhcmFtc10oaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmxzZWFyY2hwYXJhbXMpIGluIHRoZSB1cmwgbGl2aW5nIHN0YW5kYXJkLFxuICogd2l0aCBzZXZlcmFsIGV4dGVuc2lvbnMgZm9yIG1lcmdpbmcgVVJMU2VhcmNoUGFyYW1zIG9iamVjdHM6XG4gKiAgIC0gc2V0QWxsKClcbiAqICAgLSBhcHBlbmRBbGwoKVxuICogICAtIHJlcGxhY2VBbGwoKVxuICpcbiAqIFRoaXMgY2xhc3MgYWNjZXB0cyBhbiBvcHRpb25hbCBzZWNvbmQgcGFyYW1ldGVyIG9mICR7XFxAbGluayBRdWVyeUVuY29kZXJ9LFxuICogd2hpY2ggaXMgdXNlZCB0byBzZXJpYWxpemUgcGFyYW1ldGVycyBiZWZvcmUgbWFraW5nIGEgcmVxdWVzdC4gQnkgZGVmYXVsdCxcbiAqIGBRdWVyeUVuY29kZXJgIGVuY29kZXMga2V5cyBhbmQgdmFsdWVzIG9mIHBhcmFtZXRlcnMgdXNpbmcgYGVuY29kZVVSSUNvbXBvbmVudGAsXG4gKiBhbmQgdGhlbiB1bi1lbmNvZGVzIGNlcnRhaW4gY2hhcmFjdGVycyB0aGF0IGFyZSBhbGxvd2VkIHRvIGJlIHBhcnQgb2YgdGhlIHF1ZXJ5XG4gKiBhY2NvcmRpbmcgdG8gSUVURiBSRkMgMzk4NjogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYuXG4gKlxuICogVGhlc2UgYXJlIHRoZSBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBlbmNvZGVkOiBgISAkIFxcJyAoICkgKiArICwgOyBBIDkgLSAuIF8gfiA/IC9gXG4gKlxuICogSWYgdGhlIHNldCBvZiBhbGxvd2VkIHF1ZXJ5IGNoYXJhY3RlcnMgaXMgbm90IGFjY2VwdGFibGUgZm9yIGEgcGFydGljdWxhciBiYWNrZW5kLFxuICogYFF1ZXJ5RW5jb2RlcmAgY2FuIGJlIHN1YmNsYXNzZWQgYW5kIHByb3ZpZGVkIGFzIHRoZSAybmQgYXJndW1lbnQgdG8gVVJMU2VhcmNoUGFyYW1zLlxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtVUkxTZWFyY2hQYXJhbXMsIFF1ZXJ5RW5jb2Rlcn0gZnJvbSAnXFxAYW5ndWxhci9odHRwJztcbiAqIGNsYXNzIE15UXVlcnlFbmNvZGVyIGV4dGVuZHMgUXVlcnlFbmNvZGVyIHtcbiAqICAgZW5jb2RlS2V5KGs6IHN0cmluZyk6IHN0cmluZyB7XG4gKiAgICAgcmV0dXJuIG15RW5jb2RpbmdGdW5jdGlvbihrKTtcbiAqICAgfVxuICpcbiAqICAgZW5jb2RlVmFsdWUodjogc3RyaW5nKTogc3RyaW5nIHtcbiAqICAgICByZXR1cm4gbXlFbmNvZGluZ0Z1bmN0aW9uKHYpO1xuICogICB9XG4gKiB9XG4gKlxuICogbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoJycsIG5ldyBNeVF1ZXJ5RW5jb2RlcigpKTtcbiAqIGBgYFxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBVUkxTZWFyY2hQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IHJhd1BhcmFtc1xuICAgICAqIEBwYXJhbSB7Pz19IHF1ZXJ5RW5jb2RlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVSTFNlYXJjaFBhcmFtcyhyYXdQYXJhbXMsIHF1ZXJ5RW5jb2Rlcikge1xuICAgICAgICBpZiAocmF3UGFyYW1zID09PSB2b2lkIDApIHsgcmF3UGFyYW1zID0gJyc7IH1cbiAgICAgICAgaWYgKHF1ZXJ5RW5jb2RlciA9PT0gdm9pZCAwKSB7IHF1ZXJ5RW5jb2RlciA9IG5ldyBRdWVyeUVuY29kZXIoKTsgfVxuICAgICAgICB0aGlzLnJhd1BhcmFtcyA9IHJhd1BhcmFtcztcbiAgICAgICAgdGhpcy5xdWVyeUVuY29kZXIgPSBxdWVyeUVuY29kZXI7XG4gICAgICAgIHRoaXMucGFyYW1zTWFwID0gcGFyYW1QYXJzZXIocmF3UGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjbG9uZSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoJycsIHRoaXMucXVlcnlFbmNvZGVyKTtcbiAgICAgICAgY2xvbmUuYXBwZW5kQWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhcmFtXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gdGhpcy5wYXJhbXNNYXAuaGFzKHBhcmFtKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhcmFtXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzdG9yZWRQYXJhbSA9IHRoaXMucGFyYW1zTWFwLmdldChwYXJhbSk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN0b3JlZFBhcmFtKSA/IHN0b3JlZFBhcmFtWzBdIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGFyYW1cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiB0aGlzLnBhcmFtc01hcC5nZXQocGFyYW0pIHx8IFtdOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGFyYW1cbiAgICAgKiBAcGFyYW0gez99IHZhbFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAocGFyYW0sIHZhbCkge1xuICAgICAgICBpZiAodmFsID09PSB2b2lkIDAgfHwgdmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShwYXJhbSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGlzdCA9IHRoaXMucGFyYW1zTWFwLmdldChwYXJhbSkgfHwgW107XG4gICAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgICAgbGlzdC5wdXNoKHZhbCk7XG4gICAgICAgIHRoaXMucGFyYW1zTWFwLnNldChwYXJhbSwgbGlzdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHNlYXJjaFBhcmFtc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5zZXRBbGwgPSBmdW5jdGlvbiAoc2VhcmNoUGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNlYXJjaFBhcmFtcy5wYXJhbXNNYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBsaXN0ID0gX3RoaXMucGFyYW1zTWFwLmdldChwYXJhbSkgfHwgW107XG4gICAgICAgICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBsaXN0LnB1c2godmFsdWVbMF0pO1xuICAgICAgICAgICAgX3RoaXMucGFyYW1zTWFwLnNldChwYXJhbSwgbGlzdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwYXJhbVxuICAgICAqIEBwYXJhbSB7P30gdmFsXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChwYXJhbSwgdmFsKSB7XG4gICAgICAgIGlmICh2YWwgPT09IHZvaWQgMCB8fCB2YWwgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGxpc3QgPSB0aGlzLnBhcmFtc01hcC5nZXQocGFyYW0pIHx8IFtdO1xuICAgICAgICBsaXN0LnB1c2godmFsKTtcbiAgICAgICAgdGhpcy5wYXJhbXNNYXAuc2V0KHBhcmFtLCBsaXN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gc2VhcmNoUGFyYW1zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmFwcGVuZEFsbCA9IGZ1bmN0aW9uIChzZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgc2VhcmNoUGFyYW1zLnBhcmFtc01hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGxpc3QgPSBfdGhpcy5wYXJhbXNNYXAuZ2V0KHBhcmFtKSB8fCBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaCh2YWx1ZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wYXJhbXNNYXAuc2V0KHBhcmFtLCBsaXN0KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHNlYXJjaFBhcmFtc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHNlYXJjaFBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzZWFyY2hQYXJhbXMucGFyYW1zTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGlzdCA9IF90aGlzLnBhcmFtc01hcC5nZXQocGFyYW0pIHx8IFtdO1xuICAgICAgICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHZhbHVlW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnBhcmFtc01hcC5zZXQocGFyYW0sIGxpc3QpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1zTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLnBhcmFtc01hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZXMsIGspIHtcbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBwYXJhbXNMaXN0LnB1c2goX3RoaXMucXVlcnlFbmNvZGVyLmVuY29kZUtleShrKSArICc9JyArIF90aGlzLnF1ZXJ5RW5jb2Rlci5lbmNvZGVWYWx1ZSh2KSk7IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcmFtc0xpc3Quam9pbignJicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwYXJhbVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAocGFyYW0pIHsgdGhpcy5wYXJhbXNNYXAuZGVsZXRlKHBhcmFtKTsgfTtcbiAgICByZXR1cm4gVVJMU2VhcmNoUGFyYW1zO1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSFRUUCByZXF1ZXN0IGJvZHkgdXNlZCBieSBib3RoIHtcXEBsaW5rIFJlcXVlc3R9IGFuZCB7XFxAbGluayBSZXNwb25zZX1cbiAqIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNib2R5XG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEJvZHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIHJldHVybiBib2R5IGFzIHBhcnNlZCBgSlNPTmAgb2JqZWN0LCBvciByYWlzZXMgYW4gZXhjZXB0aW9uLlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQm9keS5wcm90b3R5cGUuanNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9ib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoLyoqIEB0eXBlIHs/fSAqLyAodGhpcy5fYm9keSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMudGV4dCgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvZHkgYXMgYSBzdHJpbmcsIHByZXN1bWluZyBgdG9TdHJpbmcoKWAgY2FuIGJlIGNhbGxlZCBvbiB0aGUgcmVzcG9uc2UgYm9keS5cbiAgICAgKlxuICAgICAqIFdoZW4gZGVjb2RpbmcgYW4gYEFycmF5QnVmZmVyYCwgdGhlIG9wdGlvbmFsIGBlbmNvZGluZ0hpbnRgIHBhcmFtZXRlciBkZXRlcm1pbmVzIGhvdyB0aGVcbiAgICAgKiBieXRlcyBpbiB0aGUgYnVmZmVyIHdpbGwgYmUgaW50ZXJwcmV0ZWQuIFZhbGlkIHZhbHVlcyBhcmU6XG4gICAgICpcbiAgICAgKiAtIGBsZWdhY3lgIC0gaW5jb3JyZWN0bHkgaW50ZXJwcmV0IHRoZSBieXRlcyBhcyBVVEYtMTYgKHRlY2huaWNhbGx5LCBVQ1MtMikuIE9ubHkgY2hhcmFjdGVyc1xuICAgICAqICAgaW4gdGhlIEJhc2ljIE11bHRpbGluZ3VhbCBQbGFuZSBhcmUgc3VwcG9ydGVkLCBzdXJyb2dhdGUgcGFpcnMgYXJlIG5vdCBoYW5kbGVkIGNvcnJlY3RseS5cbiAgICAgKiAgIEluIGFkZGl0aW9uLCB0aGUgZW5kaWFubmVzcyBvZiB0aGUgMTYtYml0IG9jdGV0IHBhaXJzIGluIHRoZSBgQXJyYXlCdWZmZXJgIGlzIG5vdCB0YWtlblxuICAgICAqICAgaW50byBjb25zaWRlcmF0aW9uLiBUaGlzIGlzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIHRvIGF2b2lkIGJyZWFraW5nIGFwcHMsIGJ1dCBzaG91bGQgYmVcbiAgICAgKiAgIGNvbnNpZGVyZWQgZGVwcmVjYXRlZC5cbiAgICAgKlxuICAgICAqIC0gYGlzby04ODU5YCAtIGludGVycHJldCB0aGUgYnl0ZXMgYXMgSVNPLTg4NTkgKHdoaWNoIGNhbiBiZSB1c2VkIGZvciBBU0NJSSBlbmNvZGVkIHRleHQpLlxuICAgICAqIEBwYXJhbSB7Pz19IGVuY29kaW5nSGludFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQm9keS5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uIChlbmNvZGluZ0hpbnQpIHtcbiAgICAgICAgaWYgKGVuY29kaW5nSGludCA9PT0gdm9pZCAwKSB7IGVuY29kaW5nSGludCA9ICdsZWdhY3knOyB9XG4gICAgICAgIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm9keS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZW5jb2RpbmdIaW50KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVnYWN5JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KC8qKiBAdHlwZSB7P30gKi8gKHRoaXMuX2JvZHkpKSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnaXNvLTg4NTknOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheSgvKiogQHR5cGUgez99ICovICh0aGlzLl9ib2R5KSkpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVuY29kaW5nSGludDogXCIgKyBlbmNvZGluZ0hpbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2JvZHkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5fYm9keSwgbnVsbCwgMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHkudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYm9keSBhcyBhbiBBcnJheUJ1ZmZlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQm9keS5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ1RvQXJyYXlCdWZmZXIodGhpcy50ZXh0KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVxdWVzdCdzIGJvZHkgYXMgYSBCbG9iLCBhc3N1bWluZyB0aGF0IGJvZHkgZXhpc3RzLlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQm9keS5wcm90b3R5cGUuYmxvYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JvZHkgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2JvZHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbdGhpcy5fYm9keV0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHJlcXVlc3QgYm9keSBpc25cXCd0IGVpdGhlciBhIGJsb2Igb3IgYW4gYXJyYXkgYnVmZmVyJyk7XG4gICAgfTtcbiAgICByZXR1cm4gQm9keTtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYFJlc3BvbnNlYCBpbnN0YW5jZXMgZnJvbSBwcm92aWRlZCB2YWx1ZXMuXG4gKlxuICogVGhvdWdoIHRoaXMgb2JqZWN0IGlzbid0XG4gKiB1c3VhbGx5IGluc3RhbnRpYXRlZCBieSBlbmQtdXNlcnMsIGl0IGlzIHRoZSBwcmltYXJ5IG9iamVjdCBpbnRlcmFjdGVkIHdpdGggd2hlbiBpdCBjb21lcyB0aW1lIHRvXG4gKiBhZGQgZGF0YSB0byBhIHZpZXcuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGh0dHAucmVxdWVzdCgnbXktZnJpZW5kcy50eHQnKS5zdWJzY3JpYmUocmVzcG9uc2UgPT4gdGhpcy5mcmllbmRzID0gcmVzcG9uc2UudGV4dCgpKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBSZXNwb25zZSdzIGludGVyZmFjZSBpcyBpbnNwaXJlZCBieSB0aGUgUmVzcG9uc2UgY29uc3RydWN0b3IgZGVmaW5lZCBpbiB0aGUgW0ZldGNoXG4gKiBTcGVjXShodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jcmVzcG9uc2UtY2xhc3MpLCBidXQgaXMgY29uc2lkZXJlZCBhIHN0YXRpYyB2YWx1ZSB3aG9zZSBib2R5XG4gKiBjYW4gYmUgYWNjZXNzZWQgbWFueSB0aW1lcy4gVGhlcmUgYXJlIG90aGVyIGRpZmZlcmVuY2VzIGluIHRoZSBpbXBsZW1lbnRhdGlvbiwgYnV0IHRoaXMgaXMgdGhlXG4gKiBtb3N0IHNpZ25pZmljYW50LlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgUmVzcG9uc2UgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlc3BvbnNlLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVzcG9uc2VPcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVzcG9uc2UocmVzcG9uc2VPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9ib2R5ID0gcmVzcG9uc2VPcHRpb25zLmJvZHk7XG4gICAgICAgIF90aGlzLnN0YXR1cyA9IHJlc3BvbnNlT3B0aW9ucy5zdGF0dXM7XG4gICAgICAgIF90aGlzLm9rID0gKF90aGlzLnN0YXR1cyA+PSAyMDAgJiYgX3RoaXMuc3RhdHVzIDw9IDI5OSk7XG4gICAgICAgIF90aGlzLnN0YXR1c1RleHQgPSByZXNwb25zZU9wdGlvbnMuc3RhdHVzVGV4dDtcbiAgICAgICAgX3RoaXMuaGVhZGVycyA9IHJlc3BvbnNlT3B0aW9ucy5oZWFkZXJzO1xuICAgICAgICBfdGhpcy50eXBlID0gcmVzcG9uc2VPcHRpb25zLnR5cGU7XG4gICAgICAgIF90aGlzLnVybCA9IHJlc3BvbnNlT3B0aW9ucy51cmw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXNwb25zZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlJlc3BvbnNlIHdpdGggc3RhdHVzOiBcIiArIHRoaXMuc3RhdHVzICsgXCIgXCIgKyB0aGlzLnN0YXR1c1RleHQgKyBcIiBmb3IgVVJMOiBcIiArIHRoaXMudXJsO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3BvbnNlO1xufShCb2R5KSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgX25leHRSZXF1ZXN0SWQgPSAwO1xudmFyIEpTT05QX0hPTUUgPSAnX19uZ19qc29ucF9fJztcbnZhciBfanNvbnBDb25uZWN0aW9ucyA9IG51bGw7XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9nZXRKc29ucENvbm5lY3Rpb25zKCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHcgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnID8gd2luZG93IDoge307XG4gICAgaWYgKF9qc29ucENvbm5lY3Rpb25zID09PSBudWxsKSB7XG4gICAgICAgIF9qc29ucENvbm5lY3Rpb25zID0gd1tKU09OUF9IT01FXSA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gX2pzb25wQ29ubmVjdGlvbnM7XG59XG52YXIgQnJvd3Nlckpzb25wID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySnNvbnAoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdXJsXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBCcm93c2VySnNvbnAucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIG5vZGUuc3JjID0gdXJsO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQnJvd3Nlckpzb25wLnByb3RvdHlwZS5uZXh0UmVxdWVzdElEID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJfX3JlcVwiICsgX25leHRSZXF1ZXN0SWQrKzsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBCcm93c2VySnNvbnAucHJvdG90eXBlLnJlcXVlc3RDYWxsYmFjayA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gSlNPTlBfSE9NRSArIFwiLlwiICsgaWQgKyBcIi5maW5pc2hlZFwiOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gaWRcbiAgICAgKiBAcGFyYW0gez99IGNvbm5lY3Rpb25cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEJyb3dzZXJKc29ucC5wcm90b3R5cGUuZXhwb3NlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChpZCwgY29ubmVjdGlvbikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb25uZWN0aW9ucyA9IF9nZXRKc29ucENvbm5lY3Rpb25zKCk7XG4gICAgICAgIGNvbm5lY3Rpb25zW2lkXSA9IGNvbm5lY3Rpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGlkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBCcm93c2VySnNvbnAucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29ubmVjdGlvbnMgPSBfZ2V0SnNvbnBDb25uZWN0aW9ucygpO1xuICAgICAgICBjb25uZWN0aW9uc1tpZF0gPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBub2RlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBCcm93c2VySnNvbnAucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobm9kZSkgeyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKC8qKiBAdHlwZSB7P30gKi8gKChub2RlKSkpOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbm9kZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQnJvd3Nlckpzb25wLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKC8qKiBAdHlwZSB7P30gKi8gKChub2RlKSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3Nlckpzb25wO1xufSgpKTtcbkJyb3dzZXJKc29ucC5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQnJvd3Nlckpzb25wLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH07XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgSlNPTlBfRVJSX05PX0NBTExCQUNLID0gJ0pTT05QIGluamVjdGVkIHNjcmlwdCBkaWQgbm90IGludm9rZSBjYWxsYmFjay4nO1xudmFyIEpTT05QX0VSUl9XUk9OR19NRVRIT0QgPSAnSlNPTlAgcmVxdWVzdHMgbXVzdCB1c2UgR0VUIHJlcXVlc3QgbWV0aG9kLic7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGFuIGluLWZsaWdodCBKU09OUCByZXF1ZXN0LlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQGFic3RyYWN0XG4gKi9cbnZhciBKU09OUENvbm5lY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpTT05QQ29ubmVjdGlvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIEpTT05QIHJlcXVlc3QgY29tcGxldGVzLCB0byBub3RpZnkgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogb2YgdGhlIG5ldyBkYXRhLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7Pz19IGRhdGFcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEpTT05QQ29ubmVjdGlvbi5wcm90b3R5cGUuZmluaXNoZWQgPSBmdW5jdGlvbiAoZGF0YSkgeyB9O1xuICAgIHJldHVybiBKU09OUENvbm5lY3Rpb247XG59KCkpO1xudmFyIEpTT05QQ29ubmVjdGlvbl8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEpTT05QQ29ubmVjdGlvbl8sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZXFcbiAgICAgKiBAcGFyYW0gez99IF9kb21cbiAgICAgKiBAcGFyYW0gez89fSBiYXNlUmVzcG9uc2VPcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gSlNPTlBDb25uZWN0aW9uXyhyZXEsIF9kb20sIGJhc2VSZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2RvbSA9IF9kb207XG4gICAgICAgIF90aGlzLmJhc2VSZXNwb25zZU9wdGlvbnMgPSBiYXNlUmVzcG9uc2VPcHRpb25zO1xuICAgICAgICBfdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJlcS5tZXRob2QgIT09IFJlcXVlc3RNZXRob2QuR2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEpTT05QX0VSUl9XUk9OR19NRVRIT0QpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgICAgIF90aGlzLnJlc3BvbnNlID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHJlc3BvbnNlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlYWR5U3RhdGUgPSBSZWFkeVN0YXRlLkxvYWRpbmc7XG4gICAgICAgICAgICB2YXIgaWQgPSBfdGhpcy5faWQgPSBfZG9tLm5leHRSZXF1ZXN0SUQoKTtcbiAgICAgICAgICAgIF9kb20uZXhwb3NlQ29ubmVjdGlvbihpZCwgX3RoaXMpO1xuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBEYXJ0XG4gICAgICAgICAgICAvLyB1cmwgPSB1cmwucmVwbGFjZSgvPUpTT05QX0NBTExCQUNLKCZ8JCkvLCBgZ2VuZXJhdGVkIG1ldGhvZGApO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2RvbS5yZXF1ZXN0Q2FsbGJhY2soX3RoaXMuX2lkKTtcbiAgICAgICAgICAgIHZhciB1cmwgPSByZXEudXJsO1xuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCc9SlNPTlBfQ0FMTEJBQ0smJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCc9SlNPTlBfQ0FMTEJBQ0smJywgXCI9XCIgKyBjYWxsYmFjayArIFwiJlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5sYXN0SW5kZXhPZignPUpTT05QX0NBTExCQUNLJykgPT09IHVybC5sZW5ndGggLSAnPUpTT05QX0NBTExCQUNLJy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAnPUpTT05QX0NBTExCQUNLJy5sZW5ndGgpICsgKFwiPVwiICsgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IF90aGlzLl9zY3JpcHQgPSBfZG9tLmJ1aWxkKHVybCk7XG4gICAgICAgICAgICB2YXIgb25Mb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlYWR5U3RhdGUgPT09IFJlYWR5U3RhdGUuQ2FuY2VsbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgX3RoaXMucmVhZHlTdGF0ZSA9IFJlYWR5U3RhdGUuRG9uZTtcbiAgICAgICAgICAgICAgICBfZG9tLmNsZWFudXAoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VPcHRpb25zXzEgPSBuZXcgUmVzcG9uc2VPcHRpb25zKHsgYm9keTogSlNPTlBfRVJSX05PX0NBTExCQUNLLCB0eXBlOiBSZXNwb25zZVR5cGUuRXJyb3IsIHVybDogdXJsIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZVJlc3BvbnNlT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zXzEgPSBiYXNlUmVzcG9uc2VPcHRpb25zLm1lcmdlKHJlc3BvbnNlT3B0aW9uc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmVycm9yKG5ldyBSZXNwb25zZShyZXNwb25zZU9wdGlvbnNfMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSBuZXcgUmVzcG9uc2VPcHRpb25zKHsgYm9keTogX3RoaXMuX3Jlc3BvbnNlRGF0YSwgdXJsOiB1cmwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmJhc2VSZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gX3RoaXMuYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLm5leHQobmV3IFJlc3BvbnNlKHJlc3BvbnNlT3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWFkeVN0YXRlID09PSBSZWFkeVN0YXRlLkNhbmNlbGxlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlYWR5U3RhdGUgPSBSZWFkeVN0YXRlLkRvbmU7XG4gICAgICAgICAgICAgICAgX2RvbS5jbGVhbnVwKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlT3B0aW9ucyA9IG5ldyBSZXNwb25zZU9wdGlvbnMoeyBib2R5OiBlcnJvci5tZXNzYWdlLCB0eXBlOiBSZXNwb25zZVR5cGUuRXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VSZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmVycm9yKG5ldyBSZXNwb25zZShyZXNwb25zZU9wdGlvbnMpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCk7XG4gICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgIF9kb20uc2VuZChzY3JpcHQpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWFkeVN0YXRlID0gUmVhZHlTdGF0ZS5DYW5jZWxsZWQ7XG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9kb20uY2xlYW51cChzY3JpcHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gZGF0YVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSlNPTlBDb25uZWN0aW9uXy5wcm90b3R5cGUuZmluaXNoZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBEb24ndCBsZWFrIGNvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZG9tLnJlbW92ZUNvbm5lY3Rpb24odGhpcy5faWQpO1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBSZWFkeVN0YXRlLkNhbmNlbGxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fcmVzcG9uc2VEYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBKU09OUENvbm5lY3Rpb25fO1xufShKU09OUENvbm5lY3Rpb24pKTtcbi8qKlxuICogQSB7XFxAbGluayBDb25uZWN0aW9uQmFja2VuZH0gdGhhdCB1c2VzIHRoZSBKU09OUCBzdHJhdGVneSBvZiBtYWtpbmcgcmVxdWVzdHMuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEpTT05QQmFja2VuZCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSlNPTlBCYWNrZW5kLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEpTT05QQmFja2VuZCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTlBCYWNrZW5kO1xufShDb25uZWN0aW9uQmFja2VuZCkpO1xudmFyIEpTT05QQmFja2VuZF8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEpTT05QQmFja2VuZF8sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfYnJvd3NlckpTT05QXG4gICAgICogQHBhcmFtIHs/fSBfYmFzZVJlc3BvbnNlT3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEpTT05QQmFja2VuZF8oX2Jyb3dzZXJKU09OUCwgX2Jhc2VSZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2Jyb3dzZXJKU09OUCA9IF9icm93c2VySlNPTlA7XG4gICAgICAgIF90aGlzLl9iYXNlUmVzcG9uc2VPcHRpb25zID0gX2Jhc2VSZXNwb25zZU9wdGlvbnM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZXF1ZXN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBKU09OUEJhY2tlbmRfLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKU09OUENvbm5lY3Rpb25fKHJlcXVlc3QsIHRoaXMuX2Jyb3dzZXJKU09OUCwgdGhpcy5fYmFzZVJlc3BvbnNlT3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gSlNPTlBCYWNrZW5kXztcbn0oSlNPTlBCYWNrZW5kKSk7XG5KU09OUEJhY2tlbmRfLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5KU09OUEJhY2tlbmRfLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgIHsgdHlwZTogQnJvd3Nlckpzb25wLCB9LFxuICAgIHsgdHlwZTogUmVzcG9uc2VPcHRpb25zLCB9LFxuXTsgfTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBYU1NJX1BSRUZJWCA9IC9eXFwpXFxdXFx9Jyw/XFxuLztcbi8qKlxuICogQ3JlYXRlcyBjb25uZWN0aW9ucyB1c2luZyBgWE1MSHR0cFJlcXVlc3RgLiBHaXZlbiBhIGZ1bGx5LXF1YWxpZmllZFxuICogcmVxdWVzdCwgYW4gYFhIUkNvbm5lY3Rpb25gIHdpbGwgaW1tZWRpYXRlbHkgY3JlYXRlIGFuIGBYTUxIdHRwUmVxdWVzdGAgb2JqZWN0IGFuZCBzZW5kIHRoZVxuICogcmVxdWVzdC5cbiAqXG4gKiBUaGlzIGNsYXNzIHdvdWxkIHR5cGljYWxseSBub3QgYmUgY3JlYXRlZCBvciBpbnRlcmFjdGVkIHdpdGggZGlyZWN0bHkgaW5zaWRlIGFwcGxpY2F0aW9ucywgdGhvdWdoXG4gKiB0aGUge1xcQGxpbmsgTW9ja0Nvbm5lY3Rpb259IG1heSBiZSBpbnRlcmFjdGVkIHdpdGggaW4gdGVzdHMuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBYSFJDb25uZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlcVxuICAgICAqIEBwYXJhbSB7P30gYnJvd3NlclhIUlxuICAgICAqIEBwYXJhbSB7Pz19IGJhc2VSZXNwb25zZU9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBYSFJDb25uZWN0aW9uKHJlcSwgYnJvd3NlclhIUiwgYmFzZVJlc3BvbnNlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAocmVzcG9uc2VPYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIF94aHIgPSBicm93c2VyWEhSLmJ1aWxkKCk7XG4gICAgICAgICAgICBfeGhyLm9wZW4oUmVxdWVzdE1ldGhvZFtyZXEubWV0aG9kXS50b1VwcGVyQ2FzZSgpLCByZXEudXJsKTtcbiAgICAgICAgICAgIGlmIChyZXEud2l0aENyZWRlbnRpYWxzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBfeGhyLndpdGhDcmVkZW50aWFscyA9IHJlcS53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgICAgIHZhciBvbkxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXplIElFOSBidWcgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTApXG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IF94aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogX3hoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIEhUVFAgMjA0IG1lYW5zIG5vIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIHRoZSBvbGQtc2Nob29sIHdheSBvZiByZXRyaWV2aW5nIHJlc3BvbnNlIChzdXBwb3J0ZWQgYnkgSUU4ICYgOSlcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFJlc291cmNlTG9hZGVyIExldmVsMiBzcGVjXG4gICAgICAgICAgICAgICAgICAgIC8vIChzdXBwb3J0ZWQgYnkgSUUxMClcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9ICh0eXBlb2YgX3hoci5yZXNwb25zZSA9PT0gJ3VuZGVmaW5lZCcpID8gX3hoci5yZXNwb25zZVRleHQgOiBfeGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBJbXBsaWNpdGx5IHN0cmlwIGEgcG90ZW50aWFsIFhTU0kgcHJlZml4LlxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gYm9keS5yZXBsYWNlKFhTU0lfUFJFRklYLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgICAgICAgICAvLyBPY2N1cnMgd2hlbiBhY2Nlc3NpbmcgZmlsZSByZXNvdXJjZXMgb3Igb24gQW5kcm9pZCA0LjEgc3RvY2sgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IGJvZHkgPyAyMDAgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IEhlYWRlcnMuZnJvbVJlc3BvbnNlSGVhZGVyU3RyaW5nKF94aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgIC8vIElFIDkgZG9lcyBub3QgcHJvdmlkZSB0aGUgd2F5IHRvIGdldCBVUkwgb2YgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gZ2V0UmVzcG9uc2VVUkwoX3hocikgfHwgcmVxLnVybDtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IF94aHIuc3RhdHVzVGV4dCB8fCAnT0snO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSBuZXcgUmVzcG9uc2VPcHRpb25zKHsgYm9keTogYm9keSwgc3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IGhlYWRlcnMsIHN0YXR1c1RleHQ6IHN0YXR1c1RleHQsIHVybDogdXJsIH0pO1xuICAgICAgICAgICAgICAgIGlmIChiYXNlUmVzcG9uc2VPcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzcG9uc2VPcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5vayA9IGlzU3VjY2VzcyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLm5leHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKGdkaTIyOTApOiBkZWZlciBjb21wbGV0ZSBpZiBhcnJheSBidWZmZXIgdW50aWwgZG9uZVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VPYnNlcnZlci5lcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gZXJyb3IgZXZlbnQgaGFuZGxlclxuICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlT3B0aW9ucyA9IG5ldyBSZXNwb25zZU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICBib2R5OiBlcnIsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFJlc3BvbnNlVHlwZS5FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBfeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogX3hoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChiYXNlUmVzcG9uc2VPcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmVycm9yKG5ldyBSZXNwb25zZShyZXNwb25zZU9wdGlvbnMpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zZXREZXRlY3RlZENvbnRlbnRUeXBlKHJlcSwgX3hocik7XG4gICAgICAgICAgICBpZiAocmVxLmhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlcS5oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVxLmhlYWRlcnMuaGFzKCdBY2NlcHQnKSkge1xuICAgICAgICAgICAgICAgIHJlcS5oZWFkZXJzLmFwcGVuZCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWVzLCBuYW1lKSB7IHJldHVybiBfeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWVzLmpvaW4oJywnKSk7IH0pO1xuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjb3JyZWN0IGJ1ZmZlciB0eXBlIHRvIHN0b3JlIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgaWYgKHJlcS5yZXNwb25zZVR5cGUgIT0gbnVsbCAmJiBfeGhyLnJlc3BvbnNlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXEucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUmVzcG9uc2VDb250ZW50VHlwZS5BcnJheUJ1ZmZlcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF94aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFJlc3BvbnNlQ29udGVudFR5cGUuSnNvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF94aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUmVzcG9uc2VDb250ZW50VHlwZS5UZXh0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX3hoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBSZXNwb25zZUNvbnRlbnRUeXBlLkJsb2I6XG4gICAgICAgICAgICAgICAgICAgICAgICBfeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2VsZWN0ZWQgcmVzcG9uc2VUeXBlIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQpO1xuICAgICAgICAgICAgX3hoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgX3hoci5zZW5kKF90aGlzLnJlcXVlc3QuZ2V0Qm9keSgpKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3hoci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkKTtcbiAgICAgICAgICAgICAgICBfeGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVxXG4gICAgICogQHBhcmFtIHs/fSBfeGhyXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBYSFJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXREZXRlY3RlZENvbnRlbnRUeXBlID0gZnVuY3Rpb24gKHJlcSAvKiogVE9ETyBSZXF1ZXN0ICovLCBfeGhyIC8qKiBYTUxIdHRwUmVxdWVzdCAqLykge1xuICAgICAgICAvLyBTa2lwIGlmIGEgY3VzdG9tIENvbnRlbnQtVHlwZSBoZWFkZXIgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKHJlcS5oZWFkZXJzICE9IG51bGwgJiYgcmVxLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBkZXRlY3RlZCBjb250ZW50IHR5cGVcbiAgICAgICAgc3dpdGNoIChyZXEuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGUuTk9ORTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGUuSlNPTjpcbiAgICAgICAgICAgICAgICBfeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRUeXBlLkZPUk06XG4gICAgICAgICAgICAgICAgX3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGUuVEVYVDpcbiAgICAgICAgICAgICAgICBfeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRUeXBlLkJMT0I6XG4gICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmxvYiA9IHJlcS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBfeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NvbnRlbnQtdHlwZScsIGJsb2IudHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gWEhSQ29ubmVjdGlvbjtcbn0oKSk7XG4vKipcbiAqIGBYU1JGQ29uZmlndXJhdGlvbmAgc2V0cyB1cCBDcm9zcyBTaXRlIFJlcXVlc3QgRm9yZ2VyeSAoWFNSRikgcHJvdGVjdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gKiB1c2luZyBhIGNvb2tpZS4gU2VlIGh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvQ3Jvc3MtU2l0ZV9SZXF1ZXN0X0ZvcmdlcnlfKENTUkYpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBYU1JGLlxuICpcbiAqIEFwcGxpY2F0aW9ucyBjYW4gY29uZmlndXJlIGN1c3RvbSBjb29raWUgYW5kIGhlYWRlciBuYW1lcyBieSBiaW5kaW5nIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3NcbiAqIHdpdGggZGlmZmVyZW50IGBjb29raWVOYW1lYCBhbmQgYGhlYWRlck5hbWVgIHZhbHVlcy4gU2VlIHRoZSBtYWluIEhUVFAgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZVxuICogZGV0YWlscy5cbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIENvb2tpZVhTUkZTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gX2Nvb2tpZU5hbWVcbiAgICAgKiBAcGFyYW0gez89fSBfaGVhZGVyTmFtZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvb2tpZVhTUkZTdHJhdGVneShfY29va2llTmFtZSwgX2hlYWRlck5hbWUpIHtcbiAgICAgICAgaWYgKF9jb29raWVOYW1lID09PSB2b2lkIDApIHsgX2Nvb2tpZU5hbWUgPSAnWFNSRi1UT0tFTic7IH1cbiAgICAgICAgaWYgKF9oZWFkZXJOYW1lID09PSB2b2lkIDApIHsgX2hlYWRlck5hbWUgPSAnWC1YU1JGLVRPS0VOJzsgfVxuICAgICAgICB0aGlzLl9jb29raWVOYW1lID0gX2Nvb2tpZU5hbWU7XG4gICAgICAgIHRoaXMuX2hlYWRlck5hbWUgPSBfaGVhZGVyTmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZXFcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvb2tpZVhTUkZTdHJhdGVneS5wcm90b3R5cGUuY29uZmlndXJlUmVxdWVzdCA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8geHNyZlRva2VuID0gybVnZXRET00oKS5nZXRDb29raWUodGhpcy5fY29va2llTmFtZSk7XG4gICAgICAgIGlmICh4c3JmVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcS5oZWFkZXJzLnNldCh0aGlzLl9oZWFkZXJOYW1lLCB4c3JmVG9rZW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29va2llWFNSRlN0cmF0ZWd5O1xufSgpKTtcbi8qKlxuICogQ3JlYXRlcyB7XFxAbGluayBYSFJDb25uZWN0aW9ufSBpbnN0YW5jZXMuXG4gKlxuICogVGhpcyBjbGFzcyB3b3VsZCB0eXBpY2FsbHkgbm90IGJlIHVzZWQgYnkgZW5kIHVzZXJzLCBidXQgY291bGQgYmVcbiAqIG92ZXJyaWRkZW4gaWYgYSBkaWZmZXJlbnQgYmFja2VuZCBpbXBsZW1lbnRhdGlvbiBzaG91bGQgYmUgdXNlZCxcbiAqIHN1Y2ggYXMgaW4gYSBub2RlIGJhY2tlbmQuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7SHR0cCwgTXlOb2RlQmFja2VuZCwgSFRUUF9QUk9WSURFUlMsIEJhc2VSZXF1ZXN0T3B0aW9uc30gZnJvbSAnXFxAYW5ndWxhci9odHRwJztcbiAqIFxcQENvbXBvbmVudCh7XG4gKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAqICAgICBIVFRQX1BST1ZJREVSUyxcbiAqICAgICB7cHJvdmlkZTogSHR0cCwgdXNlRmFjdG9yeTogKGJhY2tlbmQsIG9wdGlvbnMpID0+IHtcbiAqICAgICAgIHJldHVybiBuZXcgSHR0cChiYWNrZW5kLCBvcHRpb25zKTtcbiAqICAgICB9LCBkZXBzOiBbTXlOb2RlQmFja2VuZCwgQmFzZVJlcXVlc3RPcHRpb25zXX1dXG4gKiB9KVxuICogY2xhc3MgTXlDb21wb25lbnQge1xuICogICBjb25zdHJ1Y3RvcihodHRwOkh0dHApIHtcbiAqICAgICBodHRwLnJlcXVlc3QoJ3Blb3BsZS5qc29uJykuc3Vic2NyaWJlKHJlcyA9PiB0aGlzLnBlb3BsZSA9IHJlcy5qc29uKCkpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgWEhSQmFja2VuZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfYnJvd3NlclhIUlxuICAgICAqIEBwYXJhbSB7P30gX2Jhc2VSZXNwb25zZU9wdGlvbnNcbiAgICAgKiBAcGFyYW0gez99IF94c3JmU3RyYXRlZ3lcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBYSFJCYWNrZW5kKF9icm93c2VyWEhSLCBfYmFzZVJlc3BvbnNlT3B0aW9ucywgX3hzcmZTdHJhdGVneSkge1xuICAgICAgICB0aGlzLl9icm93c2VyWEhSID0gX2Jyb3dzZXJYSFI7XG4gICAgICAgIHRoaXMuX2Jhc2VSZXNwb25zZU9wdGlvbnMgPSBfYmFzZVJlc3BvbnNlT3B0aW9ucztcbiAgICAgICAgdGhpcy5feHNyZlN0cmF0ZWd5ID0gX3hzcmZTdHJhdGVneTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZXF1ZXN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBYSFJCYWNrZW5kLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5feHNyZlN0cmF0ZWd5LmNvbmZpZ3VyZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIHJldHVybiBuZXcgWEhSQ29ubmVjdGlvbihyZXF1ZXN0LCB0aGlzLl9icm93c2VyWEhSLCB0aGlzLl9iYXNlUmVzcG9uc2VPcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiBYSFJCYWNrZW5kO1xufSgpKTtcblhIUkJhY2tlbmQuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IEluamVjdGFibGUgfSxcbl07XG4vKipcbiAqIEBub2NvbGxhcHNlXG4gKi9cblhIUkJhY2tlbmQuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXG4gICAgeyB0eXBlOiBCcm93c2VyWGhyLCB9LFxuICAgIHsgdHlwZTogUmVzcG9uc2VPcHRpb25zLCB9LFxuICAgIHsgdHlwZTogWFNSRlN0cmF0ZWd5LCB9LFxuXTsgfTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIHJlcXVlc3Qgb3B0aW9ucyBvYmplY3QgdG8gYmUgb3B0aW9uYWxseSBwcm92aWRlZCB3aGVuIGluc3RhbnRpYXRpbmcgYVxuICoge1xcQGxpbmsgUmVxdWVzdH0uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBiYXNlZCBvbiB0aGUgYFJlcXVlc3RJbml0YCBkZXNjcmlwdGlvbiBpbiB0aGUgW0ZldGNoXG4gKiBTcGVjXShodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdGluaXQpLlxuICpcbiAqIEFsbCB2YWx1ZXMgYXJlIG51bGwgYnkgZGVmYXVsdC4gVHlwaWNhbCBkZWZhdWx0cyBjYW4gYmUgZm91bmQgaW4gdGhlIHtcXEBsaW5rIEJhc2VSZXF1ZXN0T3B0aW9uc31cbiAqIGNsYXNzLCB3aGljaCBzdWItY2xhc3NlcyBgUmVxdWVzdE9wdGlvbnNgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7UmVxdWVzdE9wdGlvbnMsIFJlcXVlc3QsIFJlcXVlc3RNZXRob2R9IGZyb20gJ1xcQGFuZ3VsYXIvaHR0cCc7XG4gKlxuICogY29uc3Qgb3B0aW9ucyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gKiAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICogICB1cmw6ICdodHRwczovL2dvb2dsZS5jb20nXG4gKiB9KTtcbiAqIGNvbnN0IHJlcSA9IG5ldyBSZXF1ZXN0KG9wdGlvbnMpO1xuICogY29uc29sZS5sb2coJ3JlcS5tZXRob2Q6JywgUmVxdWVzdE1ldGhvZFtyZXEubWV0aG9kXSk7IC8vIFBvc3RcbiAqIGNvbnNvbGUubG9nKCdvcHRpb25zLnVybDonLCBvcHRpb25zLnVybCk7IC8vIGh0dHBzOi8vZ29vZ2xlLmNvbVxuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBSZXF1ZXN0T3B0aW9ucyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gb3B0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RPcHRpb25zKG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgdmFyIG1ldGhvZCA9IG9wdHMubWV0aG9kLCBoZWFkZXJzID0gb3B0cy5oZWFkZXJzLCBib2R5ID0gb3B0cy5ib2R5LCB1cmwgPSBvcHRzLnVybCwgc2VhcmNoID0gb3B0cy5zZWFyY2gsIHBhcmFtcyA9IG9wdHMucGFyYW1zLCB3aXRoQ3JlZGVudGlhbHMgPSBvcHRzLndpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlID0gb3B0cy5yZXNwb25zZVR5cGU7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kICE9IG51bGwgPyBub3JtYWxpemVNZXRob2ROYW1lKG1ldGhvZCkgOiBudWxsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzICE9IG51bGwgPyBoZWFkZXJzIDogbnVsbDtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keSAhPSBudWxsID8gYm9keSA6IG51bGw7XG4gICAgICAgIHRoaXMudXJsID0gdXJsICE9IG51bGwgPyB1cmwgOiBudWxsO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHRoaXMuX21lcmdlU2VhcmNoUGFyYW1zKHBhcmFtcyB8fCBzZWFyY2gpO1xuICAgICAgICB0aGlzLndpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyAhPSBudWxsID8gd2l0aENyZWRlbnRpYWxzIDogbnVsbDtcbiAgICAgICAgdGhpcy5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgIT0gbnVsbCA/IHJlc3BvbnNlVHlwZSA6IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0T3B0aW9ucy5wcm90b3R5cGUsIFwic2VhcmNoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIGZyb20gNC4wLjAuIFVzZSBwYXJhbXMgaW5zdGVhZC5cbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wYXJhbXM7IH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBmcm9tIDQuMC4wLiBVc2UgcGFyYW1zIGluc3RlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7P30gcGFyYW1zXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYXJhbXMpIHsgdGhpcy5wYXJhbXMgPSBwYXJhbXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoZSBgUmVxdWVzdE9wdGlvbnNgIGluc3RhbmNlLCB1c2luZyB0aGUgb3B0aW9uYWwgaW5wdXQgYXMgdmFsdWVzIHRvIG92ZXJyaWRlXG4gICAgICogZXhpc3RpbmcgdmFsdWVzLiBUaGlzIG1ldGhvZCB3aWxsIG5vdCBjaGFuZ2UgdGhlIHZhbHVlcyBvZiB0aGUgaW5zdGFuY2Ugb24gd2hpY2ggaXQgaXMgYmVpbmdcbiAgICAgKiBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYGhlYWRlcnNgIGFuZCBgc2VhcmNoYCB3aWxsIG92ZXJyaWRlIGV4aXN0aW5nIHZhbHVlcyBjb21wbGV0ZWx5IGlmIHByZXNlbnQgaW5cbiAgICAgKiB0aGUgYG9wdGlvbnNgIG9iamVjdC4gSWYgdGhlc2UgdmFsdWVzIHNob3VsZCBiZSBtZXJnZWQsIGl0IHNob3VsZCBiZSBkb25lIHByaW9yIHRvIGNhbGxpbmdcbiAgICAgKiBgbWVyZ2VgIG9uIHRoZSBgUmVxdWVzdE9wdGlvbnNgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7UmVxdWVzdE9wdGlvbnMsIFJlcXVlc3QsIFJlcXVlc3RNZXRob2R9IGZyb20gJ1xcQGFuZ3VsYXIvaHR0cCc7XG4gICAgICpcbiAgICAgKiBjb25zdCBvcHRpb25zID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgKiAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0XG4gICAgICogfSk7XG4gICAgICogY29uc3QgcmVxID0gbmV3IFJlcXVlc3Qob3B0aW9ucy5tZXJnZSh7XG4gICAgICogICB1cmw6ICdodHRwczovL2dvb2dsZS5jb20nXG4gICAgICogfSkpO1xuICAgICAqIGNvbnNvbGUubG9nKCdyZXEubWV0aG9kOicsIFJlcXVlc3RNZXRob2RbcmVxLm1ldGhvZF0pOyAvLyBQb3N0XG4gICAgICogY29uc29sZS5sb2coJ29wdGlvbnMudXJsOicsIG9wdGlvbnMudXJsKTsgLy8gbnVsbFxuICAgICAqIGNvbnNvbGUubG9nKCdyZXEudXJsOicsIHJlcS51cmwpOyAvLyBodHRwczovL2dvb2dsZS5jb21cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gez89fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0T3B0aW9ucy5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucyAmJiBvcHRpb25zLm1ldGhvZCAhPSBudWxsID8gb3B0aW9ucy5tZXRob2QgOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMgJiYgb3B0aW9ucy5oZWFkZXJzICE9IG51bGwgPyBvcHRpb25zLmhlYWRlcnMgOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgICAgICAgICAgYm9keTogb3B0aW9ucyAmJiBvcHRpb25zLmJvZHkgIT0gbnVsbCA/IG9wdGlvbnMuYm9keSA6IHRoaXMuYm9keSxcbiAgICAgICAgICAgIHVybDogb3B0aW9ucyAmJiBvcHRpb25zLnVybCAhPSBudWxsID8gb3B0aW9ucy51cmwgOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHBhcmFtczogb3B0aW9ucyAmJiB0aGlzLl9tZXJnZVNlYXJjaFBhcmFtcyhvcHRpb25zLnBhcmFtcyB8fCBvcHRpb25zLnNlYXJjaCksXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgIT0gbnVsbCA/IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzIDpcbiAgICAgICAgICAgICAgICB0aGlzLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogb3B0aW9ucyAmJiBvcHRpb25zLnJlc3BvbnNlVHlwZSAhPSBudWxsID8gb3B0aW9ucy5yZXNwb25zZVR5cGUgOlxuICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VUeXBlXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gcGFyYW1zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0T3B0aW9ucy5wcm90b3R5cGUuX21lcmdlU2VhcmNoUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmFtcztcbiAgICAgICAgaWYgKHBhcmFtcyBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5jbG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VQYXJhbXMocGFyYW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IG9ialBhcmFtc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVxdWVzdE9wdGlvbnMucHJvdG90eXBlLl9wYXJzZVBhcmFtcyA9IGZ1bmN0aW9uIChvYmpQYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9ialBhcmFtcyA9PT0gdm9pZCAwKSB7IG9ialBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgT2JqZWN0LmtleXMob2JqUGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZhbHVlID0gb2JqUGFyYW1zW2tleV07XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBfdGhpcy5fYXBwZW5kUGFyYW0oa2V5LCBpdGVtLCBwYXJhbXMpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLl9hcHBlbmRQYXJhbShrZXksIHZhbHVlLCBwYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30ga2V5XG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7P30gcGFyYW1zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0T3B0aW9ucy5wcm90b3R5cGUuX2FwcGVuZFBhcmFtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXF1ZXN0T3B0aW9ucztcbn0oKSk7XG4vKipcbiAqIFN1YmNsYXNzIG9mIHtcXEBsaW5rIFJlcXVlc3RPcHRpb25zfSwgd2l0aCBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBEZWZhdWx0IHZhbHVlczpcbiAqICAqIG1ldGhvZDoge1xcQGxpbmsgUmVxdWVzdE1ldGhvZCBSZXF1ZXN0TWV0aG9kLkdldH1cbiAqICAqIGhlYWRlcnM6IGVtcHR5IHtcXEBsaW5rIEhlYWRlcnN9IG9iamVjdFxuICpcbiAqIFRoaXMgY2xhc3MgY291bGQgYmUgZXh0ZW5kZWQgYW5kIGJvdW5kIHRvIHRoZSB7XFxAbGluayBSZXF1ZXN0T3B0aW9uc30gY2xhc3NcbiAqIHdoZW4gY29uZmlndXJpbmcgYW4ge1xcQGxpbmsgSW5qZWN0b3J9LCBpbiBvcmRlciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcHRpb25zXG4gKiB1c2VkIGJ5IHtcXEBsaW5rIEh0dHB9IHRvIGNyZWF0ZSBhbmQgc2VuZCB7XFxAbGluayBSZXF1ZXN0IFJlcXVlc3RzfS5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0Jhc2VSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnN9IGZyb20gJ1xcQGFuZ3VsYXIvaHR0cCc7XG4gKlxuICogY2xhc3MgTXlPcHRpb25zIGV4dGVuZHMgQmFzZVJlcXVlc3RPcHRpb25zIHtcbiAqICAgc2VhcmNoOiBzdHJpbmcgPSAnY29yZVRlYW09dHJ1ZSc7XG4gKiB9XG4gKlxuICoge3Byb3ZpZGU6IFJlcXVlc3RPcHRpb25zLCB1c2VDbGFzczogTXlPcHRpb25zfTtcbiAqIGBgYFxuICpcbiAqIFRoZSBvcHRpb25zIGNvdWxkIGFsc28gYmUgZXh0ZW5kZWQgd2hlbiBtYW51YWxseSBjcmVhdGluZyBhIHtcXEBsaW5rIFJlcXVlc3R9XG4gKiBvYmplY3QuXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0Jhc2VSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdCwgUmVxdWVzdE1ldGhvZH0gZnJvbSAnXFxAYW5ndWxhci9odHRwJztcbiAqXG4gKiBjb25zdCBvcHRpb25zID0gbmV3IEJhc2VSZXF1ZXN0T3B0aW9ucygpO1xuICogY29uc3QgcmVxID0gbmV3IFJlcXVlc3Qob3B0aW9ucy5tZXJnZSh7XG4gKiAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICogICB1cmw6ICdodHRwczovL2dvb2dsZS5jb20nXG4gKiB9KSk7XG4gKiBjb25zb2xlLmxvZygncmVxLm1ldGhvZDonLCBSZXF1ZXN0TWV0aG9kW3JlcS5tZXRob2RdKTsgLy8gUG9zdFxuICogY29uc29sZS5sb2coJ29wdGlvbnMudXJsOicsIG9wdGlvbnMudXJsKTsgLy8gbnVsbFxuICogY29uc29sZS5sb2coJ3JlcS51cmw6JywgcmVxLnVybCk7IC8vIGh0dHBzOi8vZ29vZ2xlLmNvbVxuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBCYXNlUmVxdWVzdE9wdGlvbnMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJhc2VSZXF1ZXN0T3B0aW9ucywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlUmVxdWVzdE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCB7IG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCkgfSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJhc2VSZXF1ZXN0T3B0aW9ucztcbn0oUmVxdWVzdE9wdGlvbnMpKTtcbkJhc2VSZXF1ZXN0T3B0aW9ucy5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQmFzZVJlcXVlc3RPcHRpb25zLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH07XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZXMgYFJlcXVlc3RgIGluc3RhbmNlcyBmcm9tIHByb3ZpZGVkIHZhbHVlcy5cbiAqXG4gKiBUaGUgUmVxdWVzdCdzIGludGVyZmFjZSBpcyBpbnNwaXJlZCBieSB0aGUgUmVxdWVzdCBjb25zdHJ1Y3RvciBkZWZpbmVkIGluIHRoZSBbRmV0Y2hcbiAqIFNwZWNdKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0LWNsYXNzKSxcbiAqIGJ1dCBpcyBjb25zaWRlcmVkIGEgc3RhdGljIHZhbHVlIHdob3NlIGJvZHkgY2FuIGJlIGFjY2Vzc2VkIG1hbnkgdGltZXMuIFRoZXJlIGFyZSBvdGhlclxuICogZGlmZmVyZW5jZXMgaW4gdGhlIGltcGxlbWVudGF0aW9uLCBidXQgdGhpcyBpcyB0aGUgbW9zdCBzaWduaWZpY2FudC5cbiAqXG4gKiBgUmVxdWVzdGAgaW5zdGFuY2VzIGFyZSB0eXBpY2FsbHkgY3JlYXRlZCBieSBoaWdoZXItbGV2ZWwgY2xhc3NlcywgbGlrZSB7XFxAbGluayBIdHRwfSBhbmRcbiAqIHtcXEBsaW5rIEpzb25wfSwgYnV0IGl0IG1heSBvY2Nhc2lvbmFsbHkgYmUgdXNlZnVsIHRvIGV4cGxpY2l0bHkgY3JlYXRlIGBSZXF1ZXN0YCBpbnN0YW5jZXMuXG4gKiBPbmUgc3VjaCBleGFtcGxlIGlzIHdoZW4gY3JlYXRpbmcgc2VydmljZXMgdGhhdCB3cmFwIGhpZ2hlci1sZXZlbCBzZXJ2aWNlcywgbGlrZSB7XFxAbGluayBIdHRwfSxcbiAqIHdoZXJlIGl0IG1heSBiZSB1c2VmdWwgdG8gZ2VuZXJhdGUgYSBgUmVxdWVzdGAgd2l0aCBhcmJpdHJhcnkgaGVhZGVycyBhbmQgc2VhcmNoIHBhcmFtcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0luamVjdGFibGUsIEluamVjdG9yfSBmcm9tICdcXEBhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtIVFRQX1BST1ZJREVSUywgSHR0cCwgUmVxdWVzdCwgUmVxdWVzdE1ldGhvZH0gZnJvbSAnXFxAYW5ndWxhci9odHRwJztcbiAqXG4gKiBcXEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEF1dG9BdXRoZW50aWNhdG9yIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGh0dHA6SHR0cCkge31cbiAqICAgcmVxdWVzdCh1cmw6c3RyaW5nKSB7XG4gKiAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KG5ldyBSZXF1ZXN0KHtcbiAqICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gKiAgICAgICB1cmw6IHVybCxcbiAqICAgICAgIHNlYXJjaDogJ3Bhc3N3b3JkPTEyMydcbiAqICAgICB9KSk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtIVFRQX1BST1ZJREVSUywgQXV0b0F1dGhlbnRpY2F0b3JdKTtcbiAqIHZhciBhdXRoZW50aWNhdG9yID0gaW5qZWN0b3IuZ2V0KEF1dG9BdXRoZW50aWNhdG9yKTtcbiAqIGF1dGhlbnRpY2F0b3IucmVxdWVzdCgncGVvcGxlLmpzb24nKS5zdWJzY3JpYmUocmVzID0+IHtcbiAqICAgLy9VUkwgc2hvdWxkIGhhdmUgaW5jbHVkZWQgJz9wYXNzd29yZD0xMjMnXG4gKiAgIGNvbnNvbGUubG9nKCdwZW9wbGUnLCByZXMuanNvbigpKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBSZXF1ZXN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhSZXF1ZXN0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVxdWVzdE9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXF1ZXN0KHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIC8vIFRPRE86IGFzc2VydCB0aGF0IHVybCBpcyBwcmVzZW50XG4gICAgICAgIHZhciB1cmwgPSByZXF1ZXN0T3B0aW9ucy51cmw7XG4gICAgICAgIF90aGlzLnVybCA9IHJlcXVlc3RPcHRpb25zLnVybDtcbiAgICAgICAgdmFyIHBhcmFtc0FyZyA9IHJlcXVlc3RPcHRpb25zLnBhcmFtcyB8fCByZXF1ZXN0T3B0aW9ucy5zZWFyY2g7XG4gICAgICAgIGlmIChwYXJhbXNBcmcpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtc0FyZyA9PT0gJ29iamVjdCcgJiYgIShwYXJhbXNBcmcgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zID0gdXJsRW5jb2RlUGFyYW1zKHBhcmFtc0FyZykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtc0FyZy50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZWZpeCA9ICc/JztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudXJsLmluZGV4T2YoJz8nKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAoX3RoaXMudXJsW190aGlzLnVybC5sZW5ndGggLSAxXSA9PSAnJicpID8gJycgOiAnJic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGp1c3QgZGVsZXRlIHNlYXJjaC1xdWVyeS1sb29raW5nIHN0cmluZyBpbiB1cmw/XG4gICAgICAgICAgICAgICAgX3RoaXMudXJsID0gdXJsICsgcHJlZml4ICsgcGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9ib2R5ID0gcmVxdWVzdE9wdGlvbnMuYm9keTtcbiAgICAgICAgX3RoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kTmFtZShyZXF1ZXN0T3B0aW9ucy5tZXRob2QpO1xuICAgICAgICAvLyBUT0RPKGplZmZiY3Jvc3MpOiBpbXBsZW1lbnQgYmVoYXZpb3JcbiAgICAgICAgLy8gRGVmYXVsdHMgdG8gJ29taXQnLCBjb25zaXN0ZW50IHdpdGggYnJvd3NlclxuICAgICAgICBfdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMocmVxdWVzdE9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgIF90aGlzLmNvbnRlbnRUeXBlID0gX3RoaXMuZGV0ZWN0Q29udGVudFR5cGUoKTtcbiAgICAgICAgX3RoaXMud2l0aENyZWRlbnRpYWxzID0gcmVxdWVzdE9wdGlvbnMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICBfdGhpcy5yZXNwb25zZVR5cGUgPSByZXF1ZXN0T3B0aW9ucy5yZXNwb25zZVR5cGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGVudCB0eXBlIGVudW0gYmFzZWQgb24gaGVhZGVyIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0LnByb3RvdHlwZS5kZXRlY3RDb250ZW50VHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICAgICAgY2FzZSAnYXBwbGljYXRpb24vanNvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRUeXBlLkpTT047XG4gICAgICAgICAgICBjYXNlICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBDb250ZW50VHlwZS5GT1JNO1xuICAgICAgICAgICAgY2FzZSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRUeXBlLkZPUk1fREFUQTtcbiAgICAgICAgICAgIGNhc2UgJ3RleHQvcGxhaW4nOlxuICAgICAgICAgICAgY2FzZSAndGV4dC9odG1sJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29udGVudFR5cGUuVEVYVDtcbiAgICAgICAgICAgIGNhc2UgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciQxID8gQ29udGVudFR5cGUuQVJSQVlfQlVGRkVSIDogQ29udGVudFR5cGUuQkxPQjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV0ZWN0Q29udGVudFR5cGVGcm9tQm9keSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50IHR5cGUgb2YgcmVxdWVzdCdzIGJvZHkgYmFzZWQgb24gaXRzIHR5cGUuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0LnByb3RvdHlwZS5kZXRlY3RDb250ZW50VHlwZUZyb21Cb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29udGVudFR5cGUuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29udGVudFR5cGUuRk9STTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBDb250ZW50VHlwZS5GT1JNX0RBVEE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYm9keSBpbnN0YW5jZW9mIEJsb2IkMSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRUeXBlLkJMT0I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJDEpIHtcbiAgICAgICAgICAgIHJldHVybiBDb250ZW50VHlwZS5BUlJBWV9CVUZGRVI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYm9keSAmJiB0eXBlb2YgdGhpcy5fYm9keSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBDb250ZW50VHlwZS5KU09OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRUeXBlLlRFWFQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlcXVlc3QncyBib2R5IGFjY29yZGluZyB0byBpdHMgdHlwZS4gSWYgYm9keSBpcyB1bmRlZmluZWQsIHJldHVyblxuICAgICAqIG51bGwuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZXF1ZXN0LnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCk7XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRUeXBlLkZPUk06XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpO1xuICAgICAgICAgICAgY2FzZSBDb250ZW50VHlwZS5GT1JNX0RBVEE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgICAgICAgICBjYXNlIENvbnRlbnRUeXBlLlRFWFQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpO1xuICAgICAgICAgICAgY2FzZSBDb250ZW50VHlwZS5CTE9COlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKTtcbiAgICAgICAgICAgIGNhc2UgQ29udGVudFR5cGUuQVJSQVlfQlVGRkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVxdWVzdDtcbn0oQm9keSkpO1xuLyoqXG4gKiBAcGFyYW0gez99IHBhcmFtc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdXJsRW5jb2RlUGFyYW1zKHBhcmFtcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgICAgICBpZiAodmFsdWUgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBlbGVtZW50LnRvU3RyaW5nKCkpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgfTtcbnZhciB3ID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyA/IHdpbmRvdyA6IG5vb3A7XG52YXIgRm9ybURhdGEgPSAoKHcpIC8qKiBUT0RPICM5MTAwICovKVsnRm9ybURhdGEnXSB8fCBub29wO1xudmFyIEJsb2IkMSA9ICgodykgLyoqIFRPRE8gIzkxMDAgKi8pWydCbG9iJ10gfHwgbm9vcDtcbnZhciBBcnJheUJ1ZmZlciQxID0gKCh3KSAvKiogVE9ETyAjOTEwMCAqLylbJ0FycmF5QnVmZmVyJ10gfHwgbm9vcDtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBiYWNrZW5kXG4gKiBAcGFyYW0gez99IHJlcXVlc3RcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGh0dHBSZXF1ZXN0KGJhY2tlbmQsIHJlcXVlc3QpIHtcbiAgICByZXR1cm4gYmFja2VuZC5jcmVhdGVDb25uZWN0aW9uKHJlcXVlc3QpLnJlc3BvbnNlO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGRlZmF1bHRPcHRzXG4gKiBAcGFyYW0gez99IHByb3ZpZGVkT3B0c1xuICogQHBhcmFtIHs/fSBtZXRob2RcbiAqIEBwYXJhbSB7P30gdXJsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBtZXJnZU9wdGlvbnMoZGVmYXVsdE9wdHMsIHByb3ZpZGVkT3B0cywgbWV0aG9kLCB1cmwpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXdPcHRpb25zID0gZGVmYXVsdE9wdHM7XG4gICAgaWYgKHByb3ZpZGVkT3B0cykge1xuICAgICAgICAvLyBIYWNrIHNvIERhcnQgY2FuIHVzZWQgbmFtZWQgcGFyYW1ldGVyc1xuICAgICAgICByZXR1cm4gKG5ld09wdGlvbnMubWVyZ2UobmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogcHJvdmlkZWRPcHRzLm1ldGhvZCB8fCBtZXRob2QsXG4gICAgICAgICAgICB1cmw6IHByb3ZpZGVkT3B0cy51cmwgfHwgdXJsLFxuICAgICAgICAgICAgc2VhcmNoOiBwcm92aWRlZE9wdHMuc2VhcmNoLFxuICAgICAgICAgICAgcGFyYW1zOiBwcm92aWRlZE9wdHMucGFyYW1zLFxuICAgICAgICAgICAgaGVhZGVyczogcHJvdmlkZWRPcHRzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBwcm92aWRlZE9wdHMuYm9keSxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogcHJvdmlkZWRPcHRzLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogcHJvdmlkZWRPcHRzLnJlc3BvbnNlVHlwZVxuICAgICAgICB9KSkpO1xuICAgIH1cbiAgICByZXR1cm4gKG5ld09wdGlvbnMubWVyZ2UobmV3IFJlcXVlc3RPcHRpb25zKHsgbWV0aG9kOiBtZXRob2QsIHVybDogdXJsIH0pKSk7XG59XG4vKipcbiAqIFBlcmZvcm1zIGh0dHAgcmVxdWVzdHMgdXNpbmcgYFhNTEh0dHBSZXF1ZXN0YCBhcyB0aGUgZGVmYXVsdCBiYWNrZW5kLlxuICpcbiAqIGBIdHRwYCBpcyBhdmFpbGFibGUgYXMgYW4gaW5qZWN0YWJsZSBjbGFzcywgd2l0aCBtZXRob2RzIHRvIHBlcmZvcm0gaHR0cCByZXF1ZXN0cy4gQ2FsbGluZ1xuICogYHJlcXVlc3RgIHJldHVybnMgYW4gYE9ic2VydmFibGVgIHdoaWNoIHdpbGwgZW1pdCBhIHNpbmdsZSB7XFxAbGluayBSZXNwb25zZX0gd2hlbiBhXG4gKiByZXNwb25zZSBpcyByZWNlaXZlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7SHR0cCwgSFRUUF9QUk9WSURFUlN9IGZyb20gJ1xcQGFuZ3VsYXIvaHR0cCc7XG4gKiBpbXBvcnQgJ3J4anMvYWRkL29wZXJhdG9yL21hcCdcbiAqIFxcQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnaHR0cC1hcHAnLFxuICogICB2aWV3UHJvdmlkZXJzOiBbSFRUUF9QUk9WSURFUlNdLFxuICogICB0ZW1wbGF0ZVVybDogJ3Blb3BsZS5odG1sJ1xuICogfSlcbiAqIGNsYXNzIFBlb3BsZUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKGh0dHA6IEh0dHApIHtcbiAqICAgICBodHRwLmdldCgncGVvcGxlLmpzb24nKVxuICogICAgICAgLy8gQ2FsbCBtYXAgb24gdGhlIHJlc3BvbnNlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSBwYXJzZWQgcGVvcGxlIG9iamVjdFxuICogICAgICAgLm1hcChyZXMgPT4gcmVzLmpzb24oKSlcbiAqICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHBhcnNlZCBwZW9wbGUgb2JqZWN0IGFuZCBhdHRhY2ggaXQgdG8gdGhlXG4gKiAgICAgICAvLyBjb21wb25lbnRcbiAqICAgICAgIC5zdWJzY3JpYmUocGVvcGxlID0+IHRoaXMucGVvcGxlID0gcGVvcGxlKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBodHRwLmdldCgncGVvcGxlLmpzb24nKS5zdWJzY3JpYmUoKHJlczpSZXNwb25zZSkgPT4gdGhpcy5wZW9wbGUgPSByZXMuanNvbigpKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBkZWZhdWx0IGNvbnN0cnVjdCB1c2VkIHRvIHBlcmZvcm0gcmVxdWVzdHMsIGBYTUxIdHRwUmVxdWVzdGAsIGlzIGFic3RyYWN0ZWQgYXMgYSBcIkJhY2tlbmRcIiAoXG4gKiB7XFxAbGluayBYSFJCYWNrZW5kfSBpbiB0aGlzIGNhc2UpLCB3aGljaCBjb3VsZCBiZSBtb2NrZWQgd2l0aCBkZXBlbmRlbmN5IGluamVjdGlvbiBieSByZXBsYWNpbmdcbiAqIHRoZSB7XFxAbGluayBYSFJCYWNrZW5kfSBwcm92aWRlciwgYXMgaW4gdGhlIGZvbGxvd2luZyBleGFtcGxlOlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtCYXNlUmVxdWVzdE9wdGlvbnMsIEh0dHB9IGZyb20gJ1xcQGFuZ3VsYXIvaHR0cCc7XG4gKiBpbXBvcnQge01vY2tCYWNrZW5kfSBmcm9tICdcXEBhbmd1bGFyL2h0dHAvdGVzdGluZyc7XG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAqICAgQmFzZVJlcXVlc3RPcHRpb25zLFxuICogICBNb2NrQmFja2VuZCxcbiAqICAge3Byb3ZpZGU6IEh0dHAsIHVzZUZhY3Rvcnk6XG4gKiAgICAgICBmdW5jdGlvbihiYWNrZW5kLCBkZWZhdWx0T3B0aW9ucykge1xuICogICAgICAgICByZXR1cm4gbmV3IEh0dHAoYmFja2VuZCwgZGVmYXVsdE9wdGlvbnMpO1xuICogICAgICAgfSxcbiAqICAgICAgIGRlcHM6IFtNb2NrQmFja2VuZCwgQmFzZVJlcXVlc3RPcHRpb25zXX1cbiAqIF0pO1xuICogdmFyIGh0dHAgPSBpbmplY3Rvci5nZXQoSHR0cCk7XG4gKiBodHRwLmdldCgncmVxdWVzdC1mcm9tLW1vY2stYmFja2VuZC5qc29uJykuc3Vic2NyaWJlKChyZXM6UmVzcG9uc2UpID0+IGRvU29tZXRoaW5nKHJlcykpO1xuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBIdHRwID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF9iYWNrZW5kXG4gICAgICogQHBhcmFtIHs/fSBfZGVmYXVsdE9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIdHRwKF9iYWNrZW5kLCBfZGVmYXVsdE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmFja2VuZCA9IF9iYWNrZW5kO1xuICAgICAgICB0aGlzLl9kZWZhdWx0T3B0aW9ucyA9IF9kZWZhdWx0T3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW55IHR5cGUgb2YgaHR0cCByZXF1ZXN0LiBGaXJzdCBhcmd1bWVudCBpcyByZXF1aXJlZCwgYW5kIGNhbiBlaXRoZXIgYmUgYSB1cmwgb3JcbiAgICAgKiBhIHtcXEBsaW5rIFJlcXVlc3R9IGluc3RhbmNlLiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSB1cmwsIGFuIG9wdGlvbmFsIHtcXEBsaW5rIFJlcXVlc3RPcHRpb25zfVxuICAgICAqIG9iamVjdCBjYW4gYmUgcHJvdmlkZWQgYXMgdGhlIDJuZCBhcmd1bWVudC4gVGhlIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlIHZhbHVlc1xuICAgICAqIG9mIHtcXEBsaW5rIEJhc2VSZXF1ZXN0T3B0aW9uc30gYmVmb3JlIHBlcmZvcm1pbmcgdGhlIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHs/fSB1cmxcbiAgICAgKiBAcGFyYW0gez89fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXNwb25zZU9ic2VydmFibGU7XG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzcG9uc2VPYnNlcnZhYmxlID0gaHR0cFJlcXVlc3QodGhpcy5fYmFja2VuZCwgbmV3IFJlcXVlc3QobWVyZ2VPcHRpb25zKHRoaXMuX2RlZmF1bHRPcHRpb25zLCBvcHRpb25zLCBSZXF1ZXN0TWV0aG9kLkdldCwgLyoqIEB0eXBlIHs/fSAqLyAodXJsKSkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cmwgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXNwb25zZU9ic2VydmFibGUgPSBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdXJsIHN0cmluZyBvciBSZXF1ZXN0IGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZU9ic2VydmFibGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgZ2V0YCBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gez99IHVybFxuICAgICAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEh0dHAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChuZXcgUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIFJlcXVlc3RNZXRob2QuR2V0LCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgcG9zdGAgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHs/fSB1cmxcbiAgICAgKiBAcGFyYW0gez99IGJvZHlcbiAgICAgKiBAcGFyYW0gez89fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHVybCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG5ldyBSZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucy5tZXJnZShuZXcgUmVxdWVzdE9wdGlvbnMoeyBib2R5OiBib2R5IH0pKSwgb3B0aW9ucywgUmVxdWVzdE1ldGhvZC5Qb3N0LCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgcHV0YCBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gez99IHVybFxuICAgICAqIEBwYXJhbSB7P30gYm9keVxuICAgICAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEh0dHAucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uICh1cmwsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChuZXcgUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMubWVyZ2UobmV3IFJlcXVlc3RPcHRpb25zKHsgYm9keTogYm9keSB9KSksIG9wdGlvbnMsIFJlcXVlc3RNZXRob2QuUHV0LCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgZGVsZXRlYCBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gez99IHVybFxuICAgICAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEh0dHAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChuZXcgUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIFJlcXVlc3RNZXRob2QuRGVsZXRlLCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgcGF0Y2hgIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7P30gdXJsXG4gICAgICogQHBhcmFtIHs/fSBib2R5XG4gICAgICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSHR0cC5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbiAodXJsLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobmV3IFJlcXVlc3QobWVyZ2VPcHRpb25zKHRoaXMuX2RlZmF1bHRPcHRpb25zLm1lcmdlKG5ldyBSZXF1ZXN0T3B0aW9ucyh7IGJvZHk6IGJvZHkgfSkpLCBvcHRpb25zLCBSZXF1ZXN0TWV0aG9kLlBhdGNoLCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgaGVhZGAgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHs/fSB1cmxcbiAgICAgKiBAcGFyYW0gez89fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5oZWFkID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG5ldyBSZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgUmVxdWVzdE1ldGhvZC5IZWFkLCB1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgb3B0aW9uc2AgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHs/fSB1cmxcbiAgICAgKiBAcGFyYW0gez89fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5vcHRpb25zID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG5ldyBSZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgUmVxdWVzdE1ldGhvZC5PcHRpb25zLCB1cmwpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gSHR0cDtcbn0oKSk7XG5IdHRwLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5IdHRwLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgIHsgdHlwZTogQ29ubmVjdGlvbkJhY2tlbmQsIH0sXG4gICAgeyB0eXBlOiBSZXF1ZXN0T3B0aW9ucywgfSxcbl07IH07XG4vKipcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgSnNvbnAgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEpzb25wLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gYmFja2VuZFxuICAgICAqIEBwYXJhbSB7P30gZGVmYXVsdE9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBKc29ucChiYWNrZW5kLCBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgYmFja2VuZCwgZGVmYXVsdE9wdGlvbnMpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFueSB0eXBlIG9mIGh0dHAgcmVxdWVzdC4gRmlyc3QgYXJndW1lbnQgaXMgcmVxdWlyZWQsIGFuZCBjYW4gZWl0aGVyIGJlIGEgdXJsIG9yXG4gICAgICogYSB7XFxAbGluayBSZXF1ZXN0fSBpbnN0YW5jZS4gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgdXJsLCBhbiBvcHRpb25hbCB7XFxAbGluayBSZXF1ZXN0T3B0aW9uc31cbiAgICAgKiBvYmplY3QgY2FuIGJlIHByb3ZpZGVkIGFzIHRoZSAybmQgYXJndW1lbnQuIFRoZSBvcHRpb25zIG9iamVjdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSB2YWx1ZXNcbiAgICAgKiBvZiB7XFxAbGluayBCYXNlUmVxdWVzdE9wdGlvbnN9IGJlZm9yZSBwZXJmb3JtaW5nIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogXFxAc2VjdXJpdHkgUmVndWxhciBYSFIgaXMgdGhlIHNhZmVzdCBhbHRlcm5hdGl2ZSB0byBKU09OUCBmb3IgbW9zdCBhcHBsaWNhdGlvbnMsIGFuZCBpc1xuICAgICAqIHN1cHBvcnRlZCBieSBhbGwgY3VycmVudCBicm93c2Vycy4gQmVjYXVzZSBKU09OUCBjcmVhdGVzIGEgYDxzY3JpcHQ+YCBlbGVtZW50IHdpdGhcbiAgICAgKiBjb250ZW50cyByZXRyaWV2ZWQgZnJvbSBhIHJlbW90ZSBzb3VyY2UsIGF0dGFja2VyLWNvbnRyb2xsZWQgZGF0YSBpbnRyb2R1Y2VkIGJ5IGFuIHVudHJ1c3RlZFxuICAgICAqIHNvdXJjZSBjb3VsZCBleHBvc2UgeW91ciBhcHBsaWNhdGlvbiB0byBYU1Mgcmlza3MuIERhdGEgZXhwb3NlZCBieSBKU09OUCBtYXkgYWxzbyBiZVxuICAgICAqIHJlYWRhYmxlIGJ5IG1hbGljaW91cyB0aGlyZC1wYXJ0eSB3ZWJzaXRlcy4gSW4gYWRkaXRpb24sIEpTT05QIGludHJvZHVjZXMgcG90ZW50aWFsIHJpc2sgZm9yXG4gICAgICogZnV0dXJlIHNlY3VyaXR5IGlzc3VlcyAoZS5nLiBjb250ZW50IHNuaWZmaW5nKS4gIEZvciBtb3JlIGRldGFpbCwgc2VlIHRoZVxuICAgICAqIFtTZWN1cml0eSBHdWlkZV0oaHR0cDovL2cuY28vbmcvc2VjdXJpdHkpLlxuICAgICAqIEBwYXJhbSB7P30gdXJsXG4gICAgICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSnNvbnAucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlc3BvbnNlT2JzZXJ2YWJsZTtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB1cmwgPVxuICAgICAgICAgICAgICAgIG5ldyBSZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgUmVxdWVzdE1ldGhvZC5HZXQsIC8qKiBAdHlwZSB7P30gKi8gKHVybCkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsIGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKHVybC5tZXRob2QgIT09IFJlcXVlc3RNZXRob2QuR2V0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKU09OUCByZXF1ZXN0cyBtdXN0IHVzZSBHRVQgcmVxdWVzdCBtZXRob2QuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNwb25zZU9ic2VydmFibGUgPSBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdXJsIHN0cmluZyBvciBSZXF1ZXN0IGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZU9ic2VydmFibGU7XG4gICAgfTtcbiAgICByZXR1cm4gSnNvbnA7XG59KEh0dHApKTtcbkpzb25wLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5Kc29ucC5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtcbiAgICB7IHR5cGU6IENvbm5lY3Rpb25CYWNrZW5kLCB9LFxuICAgIHsgdHlwZTogUmVxdWVzdE9wdGlvbnMsIH0sXG5dOyB9O1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAbW9kdWxlXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBodHRwIG1vZHVsZSBwcm92aWRlcyBzZXJ2aWNlcyB0byBwZXJmb3JtIGh0dHAgcmVxdWVzdHMuIFRvIGdldCBzdGFydGVkLCBzZWUgdGhlIHtAbGluayBIdHRwfVxuICogY2xhc3MuXG4gKi9cbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX2NyZWF0ZURlZmF1bHRDb29raWVYU1JGU3RyYXRlZ3koKSB7XG4gICAgcmV0dXJuIG5ldyBDb29raWVYU1JGU3RyYXRlZ3koKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB4aHJCYWNrZW5kXG4gKiBAcGFyYW0gez99IHJlcXVlc3RPcHRpb25zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBodHRwRmFjdG9yeSh4aHJCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgSHR0cCh4aHJCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucyk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30ganNvbnBCYWNrZW5kXG4gKiBAcGFyYW0gez99IHJlcXVlc3RPcHRpb25zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBqc29ucEZhY3RvcnkoanNvbnBCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgSnNvbnAoanNvbnBCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucyk7XG59XG4vKipcbiAqIFRoZSBtb2R1bGUgdGhhdCBpbmNsdWRlcyBodHRwJ3MgcHJvdmlkZXJzXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBIdHRwTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdHRwTW9kdWxlKCkge1xuICAgIH1cbiAgICByZXR1cm4gSHR0cE1vZHVsZTtcbn0oKSk7XG5IdHRwTW9kdWxlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhwYXNjYWwpOiB1c2UgZmFjdG9yeSB0eXBlIGFubm90YXRpb25zIG9uY2Ugc3VwcG9ydGVkIGluIERJXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMTgzXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogSHR0cCwgdXNlRmFjdG9yeTogaHR0cEZhY3RvcnksIGRlcHM6IFtYSFJCYWNrZW5kLCBSZXF1ZXN0T3B0aW9uc10gfSxcbiAgICAgICAgICAgICAgICAgICAgQnJvd3NlclhocixcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBSZXF1ZXN0T3B0aW9ucywgdXNlQ2xhc3M6IEJhc2VSZXF1ZXN0T3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFJlc3BvbnNlT3B0aW9ucywgdXNlQ2xhc3M6IEJhc2VSZXNwb25zZU9wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgWEhSQmFja2VuZCxcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBYU1JGU3RyYXRlZ3ksIHVzZUZhY3Rvcnk6IF9jcmVhdGVEZWZhdWx0Q29va2llWFNSRlN0cmF0ZWd5IH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuSHR0cE1vZHVsZS5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9O1xuLyoqXG4gKiBUaGUgbW9kdWxlIHRoYXQgaW5jbHVkZXMganNvbnAncyBwcm92aWRlcnNcbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIEpzb25wTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKc29ucE1vZHVsZSgpIHtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25wTW9kdWxlO1xufSgpKTtcbkpzb25wTW9kdWxlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhwYXNjYWwpOiB1c2UgZmFjdG9yeSB0eXBlIGFubm90YXRpb25zIG9uY2Ugc3VwcG9ydGVkIGluIERJXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMTgzXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogSnNvbnAsIHVzZUZhY3Rvcnk6IGpzb25wRmFjdG9yeSwgZGVwczogW0pTT05QQmFja2VuZCwgUmVxdWVzdE9wdGlvbnNdIH0sXG4gICAgICAgICAgICAgICAgICAgIEJyb3dzZXJKc29ucCxcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBSZXF1ZXN0T3B0aW9ucywgdXNlQ2xhc3M6IEJhc2VSZXF1ZXN0T3B0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFJlc3BvbnNlT3B0aW9ucywgdXNlQ2xhc3M6IEJhc2VSZXNwb25zZU9wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBKU09OUEJhY2tlbmQsIHVzZUNsYXNzOiBKU09OUEJhY2tlbmRfIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuSnNvbnBNb2R1bGUuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQG1vZHVsZVxuICogQGRlc2NyaXB0aW9uXG4gKiBFbnRyeSBwb2ludCBmb3IgYWxsIHB1YmxpYyBBUElzIG9mIHRoZSBjb21tb24gcGFja2FnZS5cbiAqL1xuLyoqXG4gKiBcXEBzdGFibGVcbiAqL1xudmFyIFZFUlNJT04gPSBuZXcgVmVyc2lvbignNC40LjYnKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQG1vZHVsZVxuICogQGRlc2NyaXB0aW9uXG4gKiBFbnRyeSBwb2ludCBmb3IgYWxsIHB1YmxpYyBBUElzIG9mIHRoZSBodHRwIHBhY2thZ2UuXG4gKi9cbi8vIFRoaXMgZmlsZSBvbmx5IHJlZXhwb3J0cyBjb250ZW50IG9mIHRoZSBgc3JjYCBmb2xkZXIuIEtlZXAgaXQgdGhhdCB3YXkuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5leHBvcnQgeyBCcm93c2VyWGhyLCBKU09OUEJhY2tlbmQsIEpTT05QQ29ubmVjdGlvbiwgQ29va2llWFNSRlN0cmF0ZWd5LCBYSFJCYWNrZW5kLCBYSFJDb25uZWN0aW9uLCBCYXNlUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zLCBCYXNlUmVzcG9uc2VPcHRpb25zLCBSZXNwb25zZU9wdGlvbnMsIFJlYWR5U3RhdGUsIFJlcXVlc3RNZXRob2QsIFJlc3BvbnNlQ29udGVudFR5cGUsIFJlc3BvbnNlVHlwZSwgSGVhZGVycywgSHR0cCwgSnNvbnAsIEh0dHBNb2R1bGUsIEpzb25wTW9kdWxlLCBDb25uZWN0aW9uLCBDb25uZWN0aW9uQmFja2VuZCwgWFNSRlN0cmF0ZWd5LCBSZXF1ZXN0LCBSZXNwb25zZSwgUXVlcnlFbmNvZGVyLCBVUkxTZWFyY2hQYXJhbXMsIFZFUlNJT04sIEJyb3dzZXJKc29ucCBhcyDJtWcsIEpTT05QQmFja2VuZF8gYXMgybVhLCBCb2R5IGFzIMm1ZiwgX2NyZWF0ZURlZmF1bHRDb29raWVYU1JGU3RyYXRlZ3kgYXMgybViLCBodHRwRmFjdG9yeSBhcyDJtWMsIGpzb25wRmFjdG9yeSBhcyDJtWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuZXM1LmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L0Bhbmd1bGFyL2h0dHAvQGFuZ3VsYXIvaHR0cC5lczUuanNcbi8vIG1vZHVsZSBpZCA9IDgxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///817\n");

/***/ }),

/***/ 818:
/* no static exports found */
/* all exports used */
/*!***********************************************************!*\
  !*** ./src/app/modules/gameloop/noview/noview.service.ts ***!
  \***********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\n/**\r\n * Services:\r\n * Subscribes to the games currentFrame node\r\n * waiting for changes.\r\n *\r\n * When notified it will invoke the callback\r\n * functions set when it was setup\r\n *\r\n * this will also navigate the view to the next\r\n * appropriate view (drawing/text)\r\n */\r\nvar NoViewService = (function () {\r\n    function NoViewService(router) {\r\n        var _this = this;\r\n        this.router = router;\r\n        this.navHome = function () {\r\n            console.log('navigating home from noview service!');\r\n            _this.router.navigate(['/']);\r\n        };\r\n    }\r\n    Object.defineProperty(NoViewService.prototype, \"noViewCallback\", {\r\n        set: function (callbackFunc) {\r\n            this._callback = callbackFunc;\r\n            setTimeout(this.navHome, 5000);\r\n            setTimeout(this._callback, 7000);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return NoViewService;\r\n}());\r\nNoViewService = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [router_1.Router])\r\n], NoViewService);\r\nexports.NoViewService = NoViewService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE4LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXG5vdmlld1xcbm92aWV3LnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmVuZG9yIEltcG9ydHNcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgKiBhcyBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7XG5cblxuLy8gQXBwIEltcG9ydHNcbmltcG9ydCB7XG4gICAgRmlyZWJhc2VPYnNlcnZhYmxlLFxuICAgIFN1YnNjcmliZU9wdGlvbnMsXG4gICAgRXZlbnRUeXBlcyxcbn0gZnJvbSAnbWlhYmxpYi9maXJlYmFzZXV0aWwnO1xuaW1wb3J0IHtcbiAgICBHYW1lXG59IGZyb20gJ21pYWJsaWIvbWlhYic7XG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5cbi8qKlxuICogU2VydmljZXM6XG4gKiBTdWJzY3JpYmVzIHRvIHRoZSBnYW1lcyBjdXJyZW50RnJhbWUgbm9kZSBcbiAqIHdhaXRpbmcgZm9yIGNoYW5nZXMuIFxuICogXG4gKiBXaGVuIG5vdGlmaWVkIGl0IHdpbGwgaW52b2tlIHRoZSBjYWxsYmFjayBcbiAqIGZ1bmN0aW9ucyBzZXQgd2hlbiBpdCB3YXMgc2V0dXAgIFxuICogXG4gKiB0aGlzIHdpbGwgYWxzbyBuYXZpZ2F0ZSB0aGUgdmlldyB0byB0aGUgbmV4dCBcbiAqIGFwcHJvcHJpYXRlIHZpZXcgKGRyYXdpbmcvdGV4dClcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE5vVmlld1NlcnZpY2Uge1xuICAgIF9jYWxsYmFjazogYW55O1xuICAgIHNldCBub1ZpZXdDYWxsYmFjayhjYWxsYmFja0Z1bmMpIHsgXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2tGdW5jO1xuXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5uYXZIb21lLCA1MDAwKTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLl9jYWxsYmFjaywgNzAwMCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJvdXRlcjogUm91dGVyKSB7XG4gICAgfVxuXG4gICAgbmF2SG9tZSA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ25hdmlnYXRpbmcgaG9tZSBmcm9tIG5vdmlldyBzZXJ2aWNlIScpO1xuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy8nXSk7XG4gICAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC9ub3ZpZXcvbm92aWV3LnNlcnZpY2UudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBZUE7Ozs7Ozs7Ozs7QUFVQTtBQUVBO0FBU0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVJBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQUE7QUFTQTtBQUFBO0FBaEJBO0FBREE7QUFVQTtBQVRBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///818\n");

/***/ }),

/***/ 819:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/app/modules/gameloop/twemoji/twemoji.service.ts ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar http_1 = __webpack_require__(/*! @angular/http */ 817);\r\nvar rxjs_1 = __webpack_require__(/*! rxjs */ 67);\r\nvar twemoji = __webpack_require__(/*! twemoji */ 877);\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar detectBrowser = __webpack_require__(/*! ../../../shared/resources/detectbrowser.js */ 822);\r\nvar TwemojiService = (function () {\r\n    function TwemojiService(logger, http) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.http = http;\r\n        /**\r\n         * Will return an Emoji object that after processing the\r\n         * iconId and getting a return value from the twemoji\r\n         * api\r\n         * @param iconId UTF-8 html encoded value\r\n         */\r\n        this.parseIconId = function (iconId) {\r\n            var unicodeId = _this.getUnicodeValue(iconId);\r\n            var imgElement = twemoji.parse(unicodeId);\r\n            var imgSrc = _this.getImgSrc(imgElement);\r\n            if (!imgSrc) {\r\n                return Promise.resolve(_this.invalidEmojiFactory(iconId, imgElement));\r\n            }\r\n            var imgAlt = _this.getImgAlt(imgElement);\r\n            if (!imgAlt) {\r\n                return Promise.resolve(_this.invalidEmojiFactory(iconId, imgElement));\r\n            }\r\n            var emoji = {\r\n                id: _this.getEmojiHtmlId(iconId),\r\n                tag: imgElement,\r\n                isValid: true,\r\n                src: imgSrc,\r\n                alt: imgAlt\r\n            };\r\n            return Promise.resolve(emoji);\r\n        };\r\n        /**\r\n         * Will parse a icons url, retrieve it and set its\r\n         * dataUrl property\r\n         * @param icon emoji icon entry\r\n         */\r\n        this.returnDataURL = function (icon) { return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var promise;\r\n            return __generator(this, function (_a) {\r\n                promise = this.makeSimpleRequest(icon)\r\n                    .then(function (res) {\r\n                    return _this.simpleRequestResponse(res, icon);\r\n                })\r\n                    .catch(function (err) {\r\n                    _this.handleRequestErrors(err);\r\n                    icon.isValid = false;\r\n                    // or attempt local storage request\r\n                    return Promise.resolve(icon);\r\n                });\r\n                return [2 /*return*/, promise];\r\n            });\r\n        }); };\r\n        /**\r\n         * Will handle the preflight response object\r\n         */\r\n        this.preflightResponse = function (res) {\r\n            _this.logger.log('preflight response: ');\r\n            _this.logger.object(res);\r\n        };\r\n        /**\r\n       * We are using the twemoji library to provide users with images\r\n       * they can use as part of their drawings.\r\n       *\r\n       * As they are parsed to return an img element src attribute\r\n       * url, we have to account for the browser support capabilities\r\n       * of the crossorigin attribute.\r\n       *\r\n       * Twitters cdn does provide the images with the required\r\n       * Access-Control-Allow-Origin for crossorigin loading there is a\r\n       * problem to be addressed.\r\n       *\r\n       * If the browser does not support the crossorigin attribute,\r\n       * using the images in canvas will 'taint' the canvas and we will\r\n       * no longer be able to use the 'getImageData' or 'toDataURL' methods\r\n       * we need to save user images.\r\n       *\r\n       * Therefore, for those browsers we have to serve the images via\r\n       * our servers domain (aka local storage)\r\n       * https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Using_images\r\n       * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\r\n       */\r\n        this.makeManualRequest = function () {\r\n            var isNullUndefined = _this.useManualRequest === undefined ||\r\n                _this.useManualRequest === null;\r\n            if (_this.attemptCount < 2) {\r\n                _this.logger.log('attempt count: ' + _this.attemptCount);\r\n                _this.logger.log('value upon entering: ' + _this.useManualRequest);\r\n                _this.logger.log('isNullUndefined: ' + isNullUndefined);\r\n                _this.logger.log('isIE: ' + detectBrowser.isIE());\r\n                _this.logger.log('isFirefox: ' + detectBrowser.isFirefox());\r\n                _this.logger.log('isChrome: ' + detectBrowser.isChrome());\r\n                _this.logger.log('isSafari: ' + detectBrowser.isSafari());\r\n                _this.logger.log('isOpera: ' + detectBrowser.isOpera());\r\n                _this.logger.log('isBlink: ' + detectBrowser.isBlink());\r\n            }\r\n            if (!isNullUndefined) {\r\n                return _this.useManualRequest;\r\n            }\r\n            _this.logger.log('proceeding to check browser');\r\n            _this.useManualRequest = detectBrowser.isIE()\r\n                || detectBrowser.isSafari() || detectBrowser.isOpera();\r\n            if (_this.attemptCount < 2) {\r\n                _this.logger.log('value after check: ' + _this.useManualRequest);\r\n            }\r\n            _this.attemptCount++;\r\n            return _this.useManualRequest;\r\n        };\r\n    }\r\n    /**\r\n     * Will return the emoji unicode value from an icon UTF-8 html\r\n     * encoded entry.\r\n     * @param iconId UTF-8 html encoded value\r\n     */\r\n    TwemojiService.prototype.getUnicodeValue = function (iconId) {\r\n        var newIconId = iconId.replace(/&#x/g, '');\r\n        return twemoji.convert.fromCodePoint(newIconId);\r\n    };\r\n    /**\r\n     * Will return a parsed value of the emoji html\r\n     * encoding that can be used a a Html Element Id\r\n     * @param icondId UTF-8 html encoded value\r\n     */\r\n    TwemojiService.prototype.getEmojiHtmlId = function (iconId) {\r\n        var newIconId = iconId.replace(/&#x/g, '');\r\n        return newIconId.replace(/;/g, '');\r\n    };\r\n    /**\r\n     * Will parse a img element string and return that\r\n     * img elements src attribute value\r\n     * @param imgElement img html element as string\r\n     */\r\n    TwemojiService.prototype.getImgSrc = function (imgElement) {\r\n        var srcExp = /src=\"([^\")]+)\"/;\r\n        var srcResults = srcExp.exec(imgElement);\r\n        if (!srcResults || !srcResults[1]) {\r\n            /*\r\n            let errMsg = 'error locating src tag for: '\r\n              + iconId + ' - tag: ' + imgElement;\r\n            this.logger.log(errMsg);\r\n            this.logger.object(srcResults);\r\n            */\r\n            return null;\r\n        }\r\n        return srcResults[1];\r\n    };\r\n    /**\r\n     * Will parse a img element string and return that\r\n     * img elements alt attribute value\r\n     * @param imgElement img html element as string\r\n     */\r\n    TwemojiService.prototype.getImgAlt = function (imgElement) {\r\n        var altExp = /alt=\"([^\")]+)\"/;\r\n        var altResults = altExp.exec(imgElement);\r\n        if (!altResults || !altResults[1]) {\r\n            /*\r\n            let errMsg = 'error locating alt tag for: '\r\n              + iconId + ' - tag: ' + imgElement;\r\n            this.logger.log(errMsg);\r\n            this.logger.object(altResults);\r\n            */\r\n            return null;\r\n        }\r\n        return altResults[1];\r\n    };\r\n    /**\r\n     * Factory method to return Emoji objects that\r\n     * are specified as invalid\r\n     * @param iconId UTF-8 html encoded value\r\n     * @param imgElement img html element as string\r\n     */\r\n    TwemojiService.prototype.invalidEmojiFactory = function (iconId, imgElement) {\r\n        var emoji = {\r\n            id: this.getEmojiHtmlId(iconId),\r\n            tag: imgElement,\r\n            isValid: false,\r\n            src: null,\r\n            alt: null\r\n        };\r\n        return emoji;\r\n    };\r\n    /**\r\n     * Used in emoji array filter function to remove any emoji\r\n     * values that were invalid during parsing\r\n     * @param entry emoji entry\r\n     */\r\n    TwemojiService.prototype.filterInvalid = function (entry) {\r\n        return entry.isValid;\r\n    };\r\n    /**\r\n     * Will make a simple CORS request for our emoji img png file\r\n     *\r\n     * Refernces:\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\r\n     * https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\r\n     * @param icon\r\n     */\r\n    TwemojiService.prototype.makeSimpleRequest = function (icon) {\r\n        /**\r\n         * Since we are using a simple request according to the\r\n         * CORS specification we do not have to do a preflight\r\n         * CORS request, simply make the image request.\r\n         */\r\n        /**\r\n         * We start by making a cross origin preflight request. This is\r\n         * necessary because we are not making a simple request\r\n        */\r\n        var headersCtrOpts = {\r\n            //'Origin': 'localhost',\r\n            'Accept': 'image/webp,image/apng,image/*,*/*;q=0.8',\r\n            'Accept-Language': 'en-US,en;q=0.8',\r\n        };\r\n        var headersArg = new Headers(headersCtrOpts);\r\n        var options = new http_1.RequestOptions({\r\n            headers: headersArg,\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\r\n            responseType: http_1.ResponseContentType.Blob\r\n        });\r\n        return this.http.get(icon.src, options).toPromise();\r\n    };\r\n    /**\r\n     * By setting the responseType propery in the XHR request we\r\n     * can use the returned blob object and a file reader to return\r\n     * a string representation of the data base64 encoded\r\n     *\r\n     * Reference:\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\r\n     * https://stackoverflow.com/questions/8778863/downloading-an-image-using-xmlhttprequest-in-a-userscript\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response\r\n     * https://fetch.spec.whatwg.org/#response-class\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/FileReader\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\r\n     *\r\n     * @param res XHR response object\r\n     * @param icon Emoji object to retrieve\r\n     */\r\n    TwemojiService.prototype.simpleRequestResponse = function (res, icon) {\r\n        //this.logger.log('simple request response: ');\r\n        //this.logger.object(res);\r\n        var imageBlob = res.blob();\r\n        //this.logger.object(imageBlob);\r\n        var reader = new FileReader();\r\n        reader.onload = function (event) {\r\n            var result = event.target.result;\r\n            icon.dataUrl = result;\r\n        };\r\n        reader.readAsDataURL(imageBlob);\r\n        return Promise.resolve(icon);\r\n    };\r\n    /**\r\n     * Will make a preflight CORS request for our emoji img png file\r\n     * Currently it seems to immediately return the image since the\r\n     * OPTIONS header is unallowed by twitters cdn\r\n     * Refernces:\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image\r\n     * https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\r\n     * @param icon\r\n     */\r\n    TwemojiService.prototype.makeCORSPreflightRequest = function (icon) {\r\n        this.logger.log('preflight request hostinfo: ' + window.location.hostname);\r\n        /**\r\n         * We start by making a cross origin preflight request. This is\r\n         * necessary because we are not making a simple request\r\n        */\r\n        var headersCtrOpts = {\r\n            'Origin': 'localhost',\r\n            'Access-Control-Allow-Origin': window.location.hostname,\r\n            'Access-Control-Request-Method': 'OPTIONS, GET',\r\n            // Any header that is not one of the forbidden header names \r\n            // https://fetch.spec.whatwg.org/#forbidden-header-name\r\n            'Access-Control-Request-Headers': 'Accept, Accept-Language'\r\n        };\r\n        var headersArg = new Headers(headersCtrOpts);\r\n        var optionsCtrOpts = {\r\n            method: http_1.RequestMethod.Get,\r\n            headers: headersArg\r\n        };\r\n        var options = new http_1.RequestOptions(optionsCtrOpts);\r\n        return this.http.get(icon.src, options)\r\n            .map(this.preflightResponse)\r\n            .catch(this.handleRequestErrors);\r\n    };\r\n    /**\r\n     * Will parse the XHR request error message\r\n     * @param error error object/msg\r\n     */\r\n    TwemojiService.prototype.handleRequestErrors = function (error) {\r\n        var errMsg;\r\n        if (error instanceof http_1.Response) {\r\n            var body = error.json() || '';\r\n            var err = body.error || JSON.stringify(body);\r\n            errMsg = error.status + ' - ' + (error.statusText || '') + ' ' + err;\r\n        }\r\n        else {\r\n            var err = error;\r\n            errMsg = err.message ? err.message : err.toString();\r\n        }\r\n        this.logger.error(errMsg);\r\n        return rxjs_1.Observable.throw(errMsg);\r\n    };\r\n    /**\r\n   * A callback used to rewrite the image url returned by twemoji.parse\r\n   * https://github.com/twitter/twemoji\r\n   *\r\n   * -- Unused --\r\n   * @param icon - returned icon name\r\n   * @param options - the parse options\r\n   */\r\n    TwemojiService.prototype.setLocalUrl = function (icon, options) {\r\n        return '/img/twemoji/' + options.size + '/' + icon + '.png';\r\n    };\r\n    return TwemojiService;\r\n}());\r\nTwemojiService = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService,\r\n        http_1.Http])\r\n], TwemojiService);\r\nexports.TwemojiService = TwemojiService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE5LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHR3ZW1vamlcXHR3ZW1vamkuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgICBSZXNvbHZlLFxuICAgIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsXG4gICAgUm91dGVyU3RhdGVTbmFwc2hvdCxcbiAgICBSb3V0ZXJcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IEh0dHAsIFJlc3BvbnNlLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE1ldGhvZCwgUmVzcG9uc2VDb250ZW50VHlwZSB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0ICogYXMgdHdlbW9qaSBmcm9tICd0d2Vtb2ppJztcblxuLy8gQXBwIEltcG9ydHNcbmltcG9ydCB7IGNvbGxlY3Rpb24gfSBmcm9tICcuL2NvbGxlY3Rpb24uZW1vamknO1xuaW1wb3J0IHsgTG9nZ2luZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQnO1xuaW1wb3J0IHsgRW1vamkgfSBmcm9tICcuLi9kcmF3aW5nbGlicmFyeSc7XG5cbmxldCBkZXRlY3RCcm93c2VyID0gcmVxdWlyZSgnLi4vLi4vLi4vc2hhcmVkL3Jlc291cmNlcy9kZXRlY3Ricm93c2VyLmpzJyk7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBUd2Vtb2ppU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgdXNlTWFudWFsUmVxdWVzdDogYm9vbGVhbjtcblxuICAgIC8vIEZvciB0cm91Ymxlc2hvb3RpbmcuLlxuICAgIHByb3RlY3RlZCBhdHRlbXB0Q291bnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSxcbiAgICAgICAgcHJvdGVjdGVkIGh0dHA6IEh0dHApIHsgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gdGhlIGVtb2ppIHVuaWNvZGUgdmFsdWUgZnJvbSBhbiBpY29uIFVURi04IGh0bWxcbiAgICAgKiBlbmNvZGVkIGVudHJ5LlxuICAgICAqIEBwYXJhbSBpY29uSWQgVVRGLTggaHRtbCBlbmNvZGVkIHZhbHVlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFVuaWNvZGVWYWx1ZShpY29uSWQ6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGxldCBuZXdJY29uSWQgPSBpY29uSWQucmVwbGFjZSgvJiN4L2csICcnKTtcbiAgICAgICAgcmV0dXJuIHR3ZW1vamkuY29udmVydC5mcm9tQ29kZVBvaW50KG5ld0ljb25JZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYSBwYXJzZWQgdmFsdWUgb2YgdGhlIGVtb2ppIGh0bWxcbiAgICAgKiBlbmNvZGluZyB0aGF0IGNhbiBiZSB1c2VkIGEgYSBIdG1sIEVsZW1lbnQgSWRcbiAgICAgKiBAcGFyYW0gaWNvbmRJZCBVVEYtOCBodG1sIGVuY29kZWQgdmFsdWVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0RW1vamlIdG1sSWQoaWNvbklkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmV3SWNvbklkID0gaWNvbklkLnJlcGxhY2UoLyYjeC9nLCAnJyk7XG4gICAgICAgIHJldHVybiBuZXdJY29uSWQucmVwbGFjZSgvOy9nLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCByZXR1cm4gYW4gRW1vamkgb2JqZWN0IHRoYXQgYWZ0ZXIgcHJvY2Vzc2luZyB0aGUgXG4gICAgICogaWNvbklkIGFuZCBnZXR0aW5nIGEgcmV0dXJuIHZhbHVlIGZyb20gdGhlIHR3ZW1vamlcbiAgICAgKiBhcGlcbiAgICAgKiBAcGFyYW0gaWNvbklkIFVURi04IGh0bWwgZW5jb2RlZCB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBwYXJzZUljb25JZCA9IChpY29uSWQ6IHN0cmluZyk6IFByb21pc2U8RW1vamk+ID0+IHtcblxuICAgICAgICBsZXQgdW5pY29kZUlkID0gdGhpcy5nZXRVbmljb2RlVmFsdWUoaWNvbklkKTtcbiAgICAgICAgbGV0IGltZ0VsZW1lbnQgPSB0d2Vtb2ppLnBhcnNlKHVuaWNvZGVJZCk7XG5cbiAgICAgICAgbGV0IGltZ1NyYyA9IHRoaXMuZ2V0SW1nU3JjKGltZ0VsZW1lbnQpO1xuXG4gICAgICAgIGlmICghaW1nU3JjKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuaW52YWxpZEVtb2ppRmFjdG9yeShpY29uSWQsIGltZ0VsZW1lbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbWdBbHQgPSB0aGlzLmdldEltZ0FsdChpbWdFbGVtZW50KTtcblxuICAgICAgICBpZiAoIWltZ0FsdCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmludmFsaWRFbW9qaUZhY3RvcnkoaWNvbklkLCBpbWdFbGVtZW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZW1vamk6IEVtb2ppID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuZ2V0RW1vamlIdG1sSWQoaWNvbklkKSxcbiAgICAgICAgICAgIHRhZzogaW1nRWxlbWVudCxcbiAgICAgICAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICAgICAgICBzcmM6IGltZ1NyYyxcbiAgICAgICAgICAgIGFsdDogaW1nQWx0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlbW9qaSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHBhcnNlIGEgaW1nIGVsZW1lbnQgc3RyaW5nIGFuZCByZXR1cm4gdGhhdFxuICAgICAqIGltZyBlbGVtZW50cyBzcmMgYXR0cmlidXRlIHZhbHVlXG4gICAgICogQHBhcmFtIGltZ0VsZW1lbnQgaW1nIGh0bWwgZWxlbWVudCBhcyBzdHJpbmcgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEltZ1NyYyhpbWdFbGVtZW50OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHNyY0V4cCA9IC9zcmM9XCIoW15cIildKylcIi87XG4gICAgICAgIGxldCBzcmNSZXN1bHRzID0gc3JjRXhwLmV4ZWMoaW1nRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKCFzcmNSZXN1bHRzIHx8ICFzcmNSZXN1bHRzWzFdKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgbGV0IGVyck1zZyA9ICdlcnJvciBsb2NhdGluZyBzcmMgdGFnIGZvcjogJ1xuICAgICAgICAgICAgICArIGljb25JZCArICcgLSB0YWc6ICcgKyBpbWdFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGVyck1zZyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3Qoc3JjUmVzdWx0cyk7XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3JjUmVzdWx0c1sxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHBhcnNlIGEgaW1nIGVsZW1lbnQgc3RyaW5nIGFuZCByZXR1cm4gdGhhdFxuICAgICAqIGltZyBlbGVtZW50cyBhbHQgYXR0cmlidXRlIHZhbHVlXG4gICAgICogQHBhcmFtIGltZ0VsZW1lbnQgaW1nIGh0bWwgZWxlbWVudCBhcyBzdHJpbmcgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEltZ0FsdChpbWdFbGVtZW50OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGFsdEV4cCA9IC9hbHQ9XCIoW15cIildKylcIi87XG4gICAgICAgIGxldCBhbHRSZXN1bHRzID0gYWx0RXhwLmV4ZWMoaW1nRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKCFhbHRSZXN1bHRzIHx8ICFhbHRSZXN1bHRzWzFdKSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgbGV0IGVyck1zZyA9ICdlcnJvciBsb2NhdGluZyBhbHQgdGFnIGZvcjogJ1xuICAgICAgICAgICAgICArIGljb25JZCArICcgLSB0YWc6ICcgKyBpbWdFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKGVyck1zZyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoYWx0UmVzdWx0cyk7XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWx0UmVzdWx0c1sxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IG1ldGhvZCB0byByZXR1cm4gRW1vamkgb2JqZWN0cyB0aGF0IFxuICAgICAqIGFyZSBzcGVjaWZpZWQgYXMgaW52YWxpZFxuICAgICAqIEBwYXJhbSBpY29uSWQgVVRGLTggaHRtbCBlbmNvZGVkIHZhbHVlXG4gICAgICogQHBhcmFtIGltZ0VsZW1lbnQgaW1nIGh0bWwgZWxlbWVudCBhcyBzdHJpbmcgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGludmFsaWRFbW9qaUZhY3RvcnkoXG4gICAgICAgIGljb25JZDogc3RyaW5nLCBpbWdFbGVtZW50OiBzdHJpbmcpOiBFbW9qaSB7XG4gICAgICAgIGxldCBlbW9qaTogRW1vamkgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5nZXRFbW9qaUh0bWxJZChpY29uSWQpLFxuICAgICAgICAgICAgdGFnOiBpbWdFbGVtZW50LFxuICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICBzcmM6IG51bGwsXG4gICAgICAgICAgICBhbHQ6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZW1vamk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBpbiBlbW9qaSBhcnJheSBmaWx0ZXIgZnVuY3Rpb24gdG8gcmVtb3ZlIGFueSBlbW9qaVxuICAgICAqIHZhbHVlcyB0aGF0IHdlcmUgaW52YWxpZCBkdXJpbmcgcGFyc2luZ1xuICAgICAqIEBwYXJhbSBlbnRyeSBlbW9qaSBlbnRyeVxuICAgICAqL1xuICAgIHB1YmxpYyBmaWx0ZXJJbnZhbGlkKGVudHJ5OiBFbW9qaSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZW50cnkuaXNWYWxpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHBhcnNlIGEgaWNvbnMgdXJsLCByZXRyaWV2ZSBpdCBhbmQgc2V0IGl0cyBcbiAgICAgKiBkYXRhVXJsIHByb3BlcnR5XG4gICAgICogQHBhcmFtIGljb24gZW1vamkgaWNvbiBlbnRyeVxuICAgICAqL1xuICAgIHB1YmxpYyByZXR1cm5EYXRhVVJMID0gYXN5bmMgKGljb246IEVtb2ppKTogUHJvbWlzZTxFbW9qaT4gPT4ge1xuXG4gICAgICAgIC8vIE11c3Qgc3Vic2NyaWJlIHRvIGluaXQgaHR0cCByZXF1ZXN0cyBhcyB0aGV5IGFyZSBjb2xkIG9ic2VydmFibGVzXG4gICAgICAgIC8vIHRoaXMubWFrZUNPUlNQcmVmbGlnaHRSZXF1ZXN0KGljb24pLnN1YnNjcmliZSgpO1xuXG4gICAgICAgIGxldCBwcm9taXNlOiBQcm9taXNlPGFueT4gPSB0aGlzLm1ha2VTaW1wbGVSZXF1ZXN0KGljb24pXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgIChyZXM6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxlUmVxdWVzdFJlc3BvbnNlKHJlcywgaWNvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKFxuICAgICAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RFcnJvcnMoZXJyKTtcbiAgICAgICAgICAgICAgICBpY29uLmlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBvciBhdHRlbXB0IGxvY2FsIHN0b3JhZ2UgcmVxdWVzdFxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaWNvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgLy9yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGljb24pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2lsbCBtYWtlIGEgc2ltcGxlIENPUlMgcmVxdWVzdCBmb3Igb3VyIGVtb2ppIGltZyBwbmcgZmlsZVxuICAgICAqIFxuICAgICAqIFJlZmVybmNlczpcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlNcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZVxuICAgICAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLW9yaWdpbl9yZXNvdXJjZV9zaGFyaW5nXG4gICAgICogQHBhcmFtIGljb24gXG4gICAgICovXG4gICAgcHJvdGVjdGVkIG1ha2VTaW1wbGVSZXF1ZXN0KGljb246IEVtb2ppKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW5jZSB3ZSBhcmUgdXNpbmcgYSBzaW1wbGUgcmVxdWVzdCBhY2NvcmRpbmcgdG8gdGhlIFxuICAgICAgICAgKiBDT1JTIHNwZWNpZmljYXRpb24gd2UgZG8gbm90IGhhdmUgdG8gZG8gYSBwcmVmbGlnaHRcbiAgICAgICAgICogQ09SUyByZXF1ZXN0LCBzaW1wbHkgbWFrZSB0aGUgaW1hZ2UgcmVxdWVzdC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBzdGFydCBieSBtYWtpbmcgYSBjcm9zcyBvcmlnaW4gcHJlZmxpZ2h0IHJlcXVlc3QuIFRoaXMgaXMgXG4gICAgICAgICAqIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGFyZSBub3QgbWFraW5nIGEgc2ltcGxlIHJlcXVlc3QgXG4gICAgICAgICovXG4gICAgICAgIGxldCBoZWFkZXJzQ3RyT3B0cyA9IHtcbiAgICAgICAgICAgIC8vJ09yaWdpbic6ICdsb2NhbGhvc3QnLFxuICAgICAgICAgICAgJ0FjY2VwdCc6ICdpbWFnZS93ZWJwLGltYWdlL2FwbmcsaW1hZ2UvKiwqLyo7cT0wLjgnLFxuICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOCcsXG4gICAgICAgICAgICAvLydBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZCc6ICdHRVQnXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGhlYWRlcnNBcmc6IGFueSA9IG5ldyBIZWFkZXJzKGhlYWRlcnNDdHJPcHRzKTtcblxuICAgICAgICBsZXQgb3B0aW9ucyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzQXJnLFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L1NlbmRpbmdfYW5kX1JlY2VpdmluZ19CaW5hcnlfRGF0YVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0XG4gICAgICAgICAgICByZXNwb25zZVR5cGU6IFJlc3BvbnNlQ29udGVudFR5cGUuQmxvYlxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldChpY29uLnNyYywgb3B0aW9ucykudG9Qcm9taXNlKCk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBzZXR0aW5nIHRoZSByZXNwb25zZVR5cGUgcHJvcGVyeSBpbiB0aGUgWEhSIHJlcXVlc3Qgd2VcbiAgICAgKiBjYW4gdXNlIHRoZSByZXR1cm5lZCBibG9iIG9iamVjdCBhbmQgYSBmaWxlIHJlYWRlciB0byByZXR1cm5cbiAgICAgKiBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZGF0YSBiYXNlNjQgZW5jb2RlZFxuICAgICAqIFxuICAgICAqIFJlZmVyZW5jZTpcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvU2VuZGluZ19hbmRfUmVjZWl2aW5nX0JpbmFyeV9EYXRhXG4gICAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODc3ODg2My9kb3dubG9hZGluZy1hbi1pbWFnZS11c2luZy14bWxodHRwcmVxdWVzdC1pbi1hLXVzZXJzY3JpcHRcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3RcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvcmVzcG9uc2VcbiAgICAgKiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jcmVzcG9uc2UtY2xhc3NcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmlsZVJlYWRlclxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GaWxlUmVhZGVyL3JlYWRBc0RhdGFVUkxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzIFhIUiByZXNwb25zZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gaWNvbiBFbW9qaSBvYmplY3QgdG8gcmV0cmlldmVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2ltcGxlUmVxdWVzdFJlc3BvbnNlKHJlczogUmVzcG9uc2UsIGljb246IEVtb2ppKTogUHJvbWlzZTxFbW9qaT4ge1xuXG4gICAgICAgIC8vdGhpcy5sb2dnZXIubG9nKCdzaW1wbGUgcmVxdWVzdCByZXNwb25zZTogJyk7XG4gICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KHJlcyk7XG5cbiAgICAgICAgbGV0IGltYWdlQmxvYiA9IHJlcy5ibG9iKCk7XG4gICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KGltYWdlQmxvYik7XG5cbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldmVudDogVUlFdmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IChldmVudC50YXJnZXQgYXMgRmlsZVJlYWRlcikucmVzdWx0O1xuICAgICAgICAgICAgaWNvbi5kYXRhVXJsID0gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlQmxvYik7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpY29uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIG1ha2UgYSBwcmVmbGlnaHQgQ09SUyByZXF1ZXN0IGZvciBvdXIgZW1vamkgaW1nIHBuZyBmaWxlXG4gICAgICogQ3VycmVudGx5IGl0IHNlZW1zIHRvIGltbWVkaWF0ZWx5IHJldHVybiB0aGUgaW1hZ2Ugc2luY2UgdGhlIFxuICAgICAqIE9QVElPTlMgaGVhZGVyIGlzIHVuYWxsb3dlZCBieSB0d2l0dGVycyBjZG5cbiAgICAgKiBSZWZlcm5jZXM6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9DT1JTX2VuYWJsZWRfaW1hZ2VcbiAgICAgKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1vcmlnaW5fcmVzb3VyY2Vfc2hhcmluZ1xuICAgICAqIEBwYXJhbSBpY29uIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBtYWtlQ09SU1ByZWZsaWdodFJlcXVlc3QoaWNvbjogRW1vamkpIHtcblxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3ByZWZsaWdodCByZXF1ZXN0IGhvc3RpbmZvOiAnICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIHN0YXJ0IGJ5IG1ha2luZyBhIGNyb3NzIG9yaWdpbiBwcmVmbGlnaHQgcmVxdWVzdC4gVGhpcyBpcyBcbiAgICAgICAgICogbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgYXJlIG5vdCBtYWtpbmcgYSBzaW1wbGUgcmVxdWVzdCBcbiAgICAgICAgKi9cbiAgICAgICAgbGV0IGhlYWRlcnNDdHJPcHRzID0ge1xuICAgICAgICAgICAgJ09yaWdpbic6ICdsb2NhbGhvc3QnLFxuICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LU1ldGhvZCc6ICdPUFRJT05TLCBHRVQnLFxuICAgICAgICAgICAgLy8gQW55IGhlYWRlciB0aGF0IGlzIG5vdCBvbmUgb2YgdGhlIGZvcmJpZGRlbiBoZWFkZXIgbmFtZXMgXG4gICAgICAgICAgICAvLyBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jZm9yYmlkZGVuLWhlYWRlci1uYW1lXG4gICAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzJzogJ0FjY2VwdCwgQWNjZXB0LUxhbmd1YWdlJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBoZWFkZXJzQXJnOiBhbnkgPSBuZXcgSGVhZGVycyhoZWFkZXJzQ3RyT3B0cyk7XG5cbiAgICAgICAgbGV0IG9wdGlvbnNDdHJPcHRzID0ge1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCwgLy8gVHdpdHRlciBDRE4gZG9lcyBub3QgYWNjZXB0IHByZWZsaWdodCBPUFRJT05TIHJlcXVlc3RcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNBcmdcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgb3B0aW9ucyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyhvcHRpb25zQ3RyT3B0cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQoaWNvbi5zcmMsIG9wdGlvbnMpXG4gICAgICAgICAgICAubWFwKHRoaXMucHJlZmxpZ2h0UmVzcG9uc2UpXG4gICAgICAgICAgICAuY2F0Y2godGhpcy5oYW5kbGVSZXF1ZXN0RXJyb3JzKTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgaGFuZGxlIHRoZSBwcmVmbGlnaHQgcmVzcG9uc2Ugb2JqZWN0XG4gICAgICovXG4gICAgcHJvdGVjdGVkIHByZWZsaWdodFJlc3BvbnNlID0gKHJlczogUmVzcG9uc2UpID0+IHtcblxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3ByZWZsaWdodCByZXNwb25zZTogJyk7XG4gICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdChyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcGFyc2UgdGhlIFhIUiByZXF1ZXN0IGVycm9yIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gZXJyb3IgZXJyb3Igb2JqZWN0L21zZ1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBoYW5kbGVSZXF1ZXN0RXJyb3JzKGVycm9yOiBSZXNwb25zZSkge1xuXG4gICAgICAgIGxldCBlcnJNc2c6IHN0cmluZztcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBlcnJvci5qc29uKCkgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBlcnIgPSBib2R5LmVycm9yIHx8IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgICAgICAgICAgZXJyTXNnID0gZXJyb3Iuc3RhdHVzICsgJyAtICcgKyAoZXJyb3Iuc3RhdHVzVGV4dCB8fCAnJykgKyAnICcgKyBlcnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZXJyID0gKGVycm9yIGFzIEVycm9yKTtcbiAgICAgICAgICAgIGVyck1zZyA9IGVyci5tZXNzYWdlID8gZXJyLm1lc3NhZ2UgOiBlcnIudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVyck1zZyk7XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLnRocm93KGVyck1zZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIFdlIGFyZSB1c2luZyB0aGUgdHdlbW9qaSBsaWJyYXJ5IHRvIHByb3ZpZGUgdXNlcnMgd2l0aCBpbWFnZXNcbiAgICogdGhleSBjYW4gdXNlIGFzIHBhcnQgb2YgdGhlaXIgZHJhd2luZ3MuXG4gICAqIFxuICAgKiBBcyB0aGV5IGFyZSBwYXJzZWQgdG8gcmV0dXJuIGFuIGltZyBlbGVtZW50IHNyYyBhdHRyaWJ1dGUgXG4gICAqIHVybCwgd2UgaGF2ZSB0byBhY2NvdW50IGZvciB0aGUgYnJvd3NlciBzdXBwb3J0IGNhcGFiaWxpdGllc1xuICAgKiBvZiB0aGUgY3Jvc3NvcmlnaW4gYXR0cmlidXRlLiBcbiAgICogXG4gICAqIFR3aXR0ZXJzIGNkbiBkb2VzIHByb3ZpZGUgdGhlIGltYWdlcyB3aXRoIHRoZSByZXF1aXJlZCBcbiAgICogQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIGZvciBjcm9zc29yaWdpbiBsb2FkaW5nIHRoZXJlIGlzIGFcbiAgICogcHJvYmxlbSB0byBiZSBhZGRyZXNzZWQuXG4gICAqIFxuICAgKiBJZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjcm9zc29yaWdpbiBhdHRyaWJ1dGUsXG4gICAqIHVzaW5nIHRoZSBpbWFnZXMgaW4gY2FudmFzIHdpbGwgJ3RhaW50JyB0aGUgY2FudmFzIGFuZCB3ZSB3aWxsIFxuICAgKiBubyBsb25nZXIgYmUgYWJsZSB0byB1c2UgdGhlICdnZXRJbWFnZURhdGEnIG9yICd0b0RhdGFVUkwnIG1ldGhvZHNcbiAgICogd2UgbmVlZCB0byBzYXZlIHVzZXIgaW1hZ2VzLiBcbiAgICogXG4gICAqIFRoZXJlZm9yZSwgZm9yIHRob3NlIGJyb3dzZXJzIHdlIGhhdmUgdG8gc2VydmUgdGhlIGltYWdlcyB2aWEgXG4gICAqIG91ciBzZXJ2ZXJzIGRvbWFpbiAoYWthIGxvY2FsIHN0b3JhZ2UpXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJL1R1dG9yaWFsL1VzaW5nX2ltYWdlc1xuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0NPUlNfZW5hYmxlZF9pbWFnZVxuICAgKi9cbiAgICBwcm90ZWN0ZWQgbWFrZU1hbnVhbFJlcXVlc3QgPSAoKTogYm9vbGVhbiA9PiB7XG5cbiAgICAgICAgbGV0IGlzTnVsbFVuZGVmaW5lZCA9IHRoaXMudXNlTWFudWFsUmVxdWVzdCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICB0aGlzLnVzZU1hbnVhbFJlcXVlc3QgPT09IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdENvdW50IDwgMikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdhdHRlbXB0IGNvdW50OiAnICsgdGhpcy5hdHRlbXB0Q291bnQpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCd2YWx1ZSB1cG9uIGVudGVyaW5nOiAnICsgdGhpcy51c2VNYW51YWxSZXF1ZXN0KTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaXNOdWxsVW5kZWZpbmVkOiAnICsgaXNOdWxsVW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaXNJRTogJyArIGRldGVjdEJyb3dzZXIuaXNJRSgpKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaXNGaXJlZm94OiAnICsgZGV0ZWN0QnJvd3Nlci5pc0ZpcmVmb3goKSk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2lzQ2hyb21lOiAnICsgZGV0ZWN0QnJvd3Nlci5pc0Nocm9tZSgpKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaXNTYWZhcmk6ICcgKyBkZXRlY3RCcm93c2VyLmlzU2FmYXJpKCkpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdpc09wZXJhOiAnICsgZGV0ZWN0QnJvd3Nlci5pc09wZXJhKCkpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdpc0JsaW5rOiAnICsgZGV0ZWN0QnJvd3Nlci5pc0JsaW5rKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc051bGxVbmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZU1hbnVhbFJlcXVlc3Q7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3Byb2NlZWRpbmcgdG8gY2hlY2sgYnJvd3NlcicpO1xuXG4gICAgICAgIHRoaXMudXNlTWFudWFsUmVxdWVzdCA9IGRldGVjdEJyb3dzZXIuaXNJRSgpXG4gICAgICAgICAgICB8fCBkZXRlY3RCcm93c2VyLmlzU2FmYXJpKCkgfHwgZGV0ZWN0QnJvd3Nlci5pc09wZXJhKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdENvdW50IDwgMikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCd2YWx1ZSBhZnRlciBjaGVjazogJyArIHRoaXMudXNlTWFudWFsUmVxdWVzdCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xuICAgICAgICByZXR1cm4gdGhpcy51c2VNYW51YWxSZXF1ZXN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgKiBBIGNhbGxiYWNrIHVzZWQgdG8gcmV3cml0ZSB0aGUgaW1hZ2UgdXJsIHJldHVybmVkIGJ5IHR3ZW1vamkucGFyc2VcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3R3aXR0ZXIvdHdlbW9qaVxuICAgKiBcbiAgICogLS0gVW51c2VkIC0tXG4gICAqIEBwYXJhbSBpY29uIC0gcmV0dXJuZWQgaWNvbiBuYW1lXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIHBhcnNlIG9wdGlvbnNcbiAgICovXG4gICAgcHJvdGVjdGVkIHNldExvY2FsVXJsKGljb24sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICcvaW1nL3R3ZW1vamkvJyArIG9wdGlvbnMuc2l6ZSArICcvJyArIGljb24gKyAnLnBuZyc7XG4gICAgfVxuXG5cblxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL3R3ZW1vamkvdHdlbW9qaS5zZXJ2aWNlLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFHQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBc0JBOzs7OztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQTBFQTs7OztBQUlBO0FBQ0E7O0FBS0E7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQXdIQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBc0JBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBdFdBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUE4QkE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFXQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBMERBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBaFlBO0FBREE7QUFTQTtBQUNBO0FBVEE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///819\n");

/***/ }),

/***/ 821:
/* no static exports found */
/* all exports used */
/*!**********************************************************!*\
  !*** ./src/app/modules/gameloop/canvas/drawingboard.css ***!
  \**********************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"/* drawingboard.js v0.4.6 - https://github.com/Leimi/drawingboard.js\\n* Copyright (c) 2015 Emmanuel Pelletier\\n* Licensed MIT */\\n.drawing-board, .drawing-board * { -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; }\\n\\n.drawing-board-utils-hidden, .drawing-board-controls-hidden { display: none !important; }\\n\\n.drawing-board { position: relative; display: block; }\\n\\n.drawing-board-canvas-wrapper { position: relative; margin: 0; border: 1px solid #ddd; }\\n\\n.drawing-board-canvas { position: absolute; top: 0; left: 0; z-index: 10; width: auto; }\\n\\n.drawing-board-canvas { cursor: crosshair; z-index: 20; }\\n\\n.drawing-board-cursor { position: absolute; top: 0; left: 0; pointer-events: none; border-radius: 50%; background: #ccc; background: rgba(0, 0, 0, 0.2); z-index: 30; }\\n\\n.drawing-board-control > button, .drawing-board-control-colors-rainbows, .drawing-board-control-size .drawing-board-control-inner, .drawing-board-control-size-dropdown { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; overflow: hidden; border: none; background-color: #eee; padding: 2px 4px; border: 1px solid #ccc; box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, 0.3); -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, 0.3); height: 28px; }\\n\\n.drawing-board-control > button { cursor: pointer; min-width: 28px; line-height: 14px; }\\n.drawing-board-control > button:hover, .drawing-board-control > button:focus { background-color: #ddd; }\\n.drawing-board-control > button:active, .drawing-board-control > button.active { box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, 0.2); -webkit-box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, 0.2); background-color: #ddd; }\\n.drawing-board-control > button[disabled] { color: gray; }\\n.drawing-board-control > button[disabled]:hover, .drawing-board-control > button[disabled]:focus, .drawing-board-control > button[disabled]:active, .drawing-board-control > button[disabled].active { background-color: #eee; box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, 0.3); -webkit-box-shadow: 0 1px 3px -2px #121212, inset 0 2px 5px 0 rgba(255, 255, 255, 0.3); cursor: default; }\\n\\n.drawing-board-controls { margin: 0 auto; text-align: center; font-size: 0; display: table; border-spacing: 9.33333px 0; position: relative; min-height: 50px; padding-left: 10px; padding-right: 10px; padding-top: 5px;}\\n.drawing-board-controls[data-align=\\\"left\\\"] { margin: 0; left: -9.33333px; }\\n.drawing-board-controls[data-align=\\\"right\\\"] { margin: 0 0 0 auto; right: -9.33333px; }\\n.drawing-board-canvas-wrapper + .drawing-board-controls, .drawing-board-controls + .drawing-board-canvas-wrapper { margin-top: 5px; }\\n\\n.drawing-board-controls-hidden { height: 0; min-height: 0; padding: 0; margin: 0; border: 0; }\\n\\n.drawing-board-control { display: table-cell; border-collapse: separate; vertical-align: middle; font-size: 16px; height: 100%; }\\n\\n.drawing-board-control-inner { position: relative; height: 100%; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; }\\n\\n.drawing-board-control > button { margin: 0; vertical-align: middle; }\\n\\n.drawing-board-control-colors { font-size: 0; line-height: 0; }\\n\\n.drawing-board-control-colors-current { border: 1px solid #ccc; cursor: pointer; display: inline-block; width: 26px; height: 26px; }\\n\\n.drawing-board-control-colors-rainbows { display: inline-block; margin-left: 5px; position: absolute; left: 0; top: 33px; margin-left: 0; z-index: 100; width: 250px; height: auto; padding: 4px; }\\n\\n.drawing-board-control-colors-rainbow { height: 18px; }\\n\\n.drawing-board-control-colors-picker:first-child { margin-right: 5px; }\\n\\n.drawing-board-control-colors-picker { display: inline-block; width: 18px; height: 18px; cursor: pointer; }\\n\\n.drawing-board-control-colors-picker[data-color=\\\"rgba(255, 255, 255, 1)\\\"] { width: 16px; height: 17px; border: 1px solid #ccc; border-bottom: none; }\\n\\n.drawing-board-control-colors-picker:hover { width: 16px; height: 16px; border: 1px solid #555; }\\n\\n.drawing-board-control-drawingmode > button { margin-right: 2px; }\\n.drawing-board-control-drawingmode > button:last-child { margin-right: 0; }\\n\\n.drawing-board-control-drawingmode-pencil-button { overflow: hidden; *text-indent: -9999px; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNpiZAACVlFRBhYREQZcQPnbNwa3N28YlL5+ZfgLFfvPwGD9m4FhIgsDHuAO0gTUDNKIBvyBmqt/MTDMY8Gl0f31azD7L6oUIxCnAzWmAPHBfwwM01AMUAV6JfPQIVwOYgVqqPnFyOjz6///O38YGKpAgmAD1OXlGdTk5PD5hgeouZudj8/uy9evP/78/dsFFPsJNiAoKIiBABAHap4oLi9v8fTNm48//v7NBwbgWZgkE7rqt8DY+A8JZRBW+cfIuEDT0NDlzadP3z98/doPFDuCrB7TAGFhBqCNIGwM9OcKUzs7+xdv3355+f79VqDYAiTDwZgJh7ONgYpnOvn4GL949erT7UePdgL5JVCD4fgBLBBxaX74+PG789evnwby0/8jKXgExIeB+CG6Af///1e9Ki9vFSAkZPzoyZPPJy9evA9MB77/sWiEARZkzV+/fvXYtGnTpG3btj28EBT0BqjZ5D8OjXCwPksUhA1Wpggf/PHjx/9169Y9EBERaUlgZmaIAcrLE4rk5sIqBqDmlefnRPzfWGX5EaSZm5ubgRloADGA5QZ3RgK7gESY4PMNn9ZtObPpzZvfU4DiYkiB/RcHG+S7fyxAMH/lFU2GOZd2bLx18/cEUMoD4j9I+DcS/RtJHGTYf4AAAwAxaOMYHjxKFwAAAABJRU5ErkJggg=='); background-position: 50% 50%; background-repeat: no-repeat; }\\n.drawing-board-control-drawingmode-pencil-button:before { content: \\\"\\\"; display: block; width: 0; height: 100%; }\\n\\n.drawing-board-control-drawingmode-eraser-button { overflow: hidden; *text-indent: -9999px; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkpJREFUeNp0kk+IElEcx39vFBc9+OfQRTAwzFt4CaYOKStj6MoeculStzoIQSB4kCVckmDx4iGCXWYJIqjoVOzO1l4qT1F7WfBWHvxzDPyTB3XUmXn93suRybUffHmP997n9/cRsFgwGARJkiAcDsPlwgEIeEZQAhCRAkgAlOD6SQP4rgMFDWVnYCAQgFgsBqFQCBwOByzZNQOotPHx1RNCCCipu6bfb+zSnslkeOQVILPrBkAirbws9btdTEWAzZPXpfepOzaeGMBXwe/3w3+MwTc3Dl+UeghTiskbBvR6Pbh18mZHB0jjmxvCKhIfR37s3r+Sevf8ca/T4TBF2HTSODuDxP7uNjrZFFbBk8lEzOVyspa4ykGYw2zfbTb/7ilvok1YhlVVFfP5vDydTkHXdXDdlhZOOnPY4/HA0YPtp3h6LFjh8XgsFgoFGTPgsKm1zDr8ajTQh8Fh5eGjZzjGI8yjKlgjF4tFGdd/YKYmRja24hw+zu3sYe2HiH3hYzQjl8tleTQanWtou93G6Qngdrth6+1+9h6hTULJZ/PeziJXKhV5OByeg1ut1gJOp9NZTdNOcQ419ot+ggp1qoLdBFmqVmNpm3A8Huewy+Wq1RH8QH9zmBlJJpMRdCIqiiIPBgN+2MCGsW/r8/kgGo1m0fmpzWarseayHlmNeL1eFiWC0cRqtSr3+/3FpSiKHMZtjU1glbFyfKgLTqfzEka9OJvNeDnzz1JnCaFmqOl8ZdJY1SiDOXCiXKg1NtG5DIt0y6ov3dE/AgwAENFWYYLj4mYAAAAASUVORK5CYII='); background-position: 50% 50%; background-repeat: no-repeat; }\\n.drawing-board-control-drawingmode-eraser-button:before { content: \\\"\\\"; display: block; width: 0; height: 100%; }\\n\\n.drawing-board-control-drawingmode-filler-button { overflow: hidden; *text-indent: -9999px; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnNJREFUeNp0k0trE1EUx89MJpNJooYYXBgDNtCKdRPwlbqoCKUtaNVNA0Uo7UbMxoVPEARTXEi+QWfnwn6DEAlEkrSLttTGRiULEQlJ8yChmbzI++E50yTUJA78uMy953/u/557LmOz2WDEZ2m1WrckSRJSqdR2tVrdHQyYebwHtVoNuFHqTqczhQnWKaBYLDoKhcIuzgHDMKBSqeD20qd+LNdsNocSoFhRr9ctpVLJigl4xIIJQizLAmG4cAPa7bYcy9Iug5TL5UYikbD6/X7Rbre/IUcYe3WUW5ZsnQQzW9LpNOPz+UQc5aBM5mgdh7vI9FCCAesW2tnr9YqZTAby+bw8f3AQRP6853n+Ph5hemSCntjj8YjZbFYWx2IxeS2RSEMwuA87O79eqdXquVolK+GxnP0EPbHb7RZJSGABIR6PA11zJHKIR2MhHA5DIPDj7eH3j95KpfK60Wg8Yntil8slkqgnpioLghacTidoNDpEC3q9HnheCc3s1jZeLcW943pirPw/4lKpBkqlDubnl/riycnLsLy88EKj0fhzuRyZv8RFo1E6wpBYkiqy7Z54YmIcVlYeyOKC4mYwJ0nHRaQuM5vNT6hB/iceG7sIq6sPnwmC4MerDkby40AOCCoiddie1Wp92W7zQ2KTyQSLizNP8T0EsPLBbxEDnCj0GkM2qIEwyZRCobizsfH5A1ZXFhuN52F29vpz3HkL574mk8lj24Y5wsHkvjjoX0BOIWc5jruHzbK2ufmzEwpFO3jnDhQv4JoROYdoERVyGjEgZ8iBDlF3FzXo4go6utZ9lftY4N/dXisjR0i1G0ublv8KMAA0ZoUlicxrhwAAAABJRU5ErkJggg=='); background-position: 50% 50%; background-repeat: no-repeat; }\\n.drawing-board-control-drawingmode-filler-button:before { content: \\\"\\\"; display: block; width: 0; height: 100%; }\\n\\n.drawing-board-control-navigation > button { font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: bold; margin-right: 2px; }\\n.drawing-board-control-navigation > button:last-child { margin-right: 0; }\\n\\n.drawing-board-control-size[data-drawing-board-type=\\\"range\\\"] .drawing-board-control-inner { width: 75px; }\\n.drawing-board-control-size[data-drawing-board-type=\\\"dropdown\\\"] .drawing-board-control-inner { overflow: visible; }\\n\\n.drawing-board-control-size-range-input { position: relative; width: 100%; z-index: 100; margin: 0; padding: 0; border: 0; }\\n\\n.drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span, .drawing-board-control-size-dropdown span { display: block; background: #333; opacity: .8; }\\n\\n.drawing-board-control-size-range-current { display: inline-block; opacity: .15; position: absolute; pointer-events: none; left: 50%; top: 50%; z-index: 50; }\\n\\n.drawing-board-control-size-dropdown-current { display: block; height: 100%; width: 40px; overflow: hidden; position: relative; }\\n.drawing-board-control-size-dropdown-current span { position: absolute; left: 50%; top: 50%; }\\n\\n.drawing-board-control-size-dropdown { position: absolute; left: -6px; top: 33px; height: auto; list-style-type: none; margin: 0; padding: 0; z-index: 100; }\\n.drawing-board-control-size-dropdown li { display: block; padding: 4px; margin: 3px 0; min-height: 16px; }\\n.drawing-board-control-size-dropdown li:hover { background: #ccc; }\\n.drawing-board-control-size-dropdown span { margin: 0 auto; }\\n\\n \\n.drawing-board-control-download-button { overflow: hidden; *text-indent: -9999px; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoBJREFUeNqMkr9PU1EUx7/vR1tQ3yu10hAmTawtBSYSy2YccFOcnDQm/gewOLnj5GYMg4sdXFxkMca4OBAwdUBe/ZkIGFp+9tHXvh/3/fTcAm01aLzJybnn3nM+95tzrnDl6Tb+sibuTmWUWj3C6/Juk+LySUmyvt0FCKKA02ryOCy6LBiu15ngMbZ5DDCNBqIw6gKM+n4nECUJru3glKry8CpjQaHVYmC2rVH82DIMMMdGGARdwJ+SPNdFS9chx+MXDNMp/NzagWNatk/nQU/hiYAoih6FYTBCBs9zUXMCbAhx2OYOv351lPOJ3EwH4LteL6Dcp/Rfu3FrstDyIizt+agpaYxNDU0M9gl4v7Ck+TYrCYLQqZHUyTtdQBiutPSGUflczSXHs5lVKwZdSOBMvwztxVvN0RtzsiyXBFHsAvL5PBSnCpXV2getILFiE2SjspYbuZzPiDSZ2vOXmlvX5yQqTmMfg9ZXqtls1wnT09OHEyAq0aFLg/gSXsSWq9wWk+p9PrCoYTwcijdLOfE7UsEufN9HGIYnT4EnTGIXe1KqtNNIvuNnGamxfi7SgQD/nIJCTbzOPQ/SQh1pud7T4M6W/8qFIw/5WAr5m7Ozsw9UVc069Fls2yJzSC5/lnc9RhaHZVnfSqUnEgXP2oBqtYqBgYG2+mKxmOVADnAcB4yxHgD1RzehKKns/LyV4gUHBweQy+UyRkdH6UKJ6fQDFxcXoWkaXJeRuTgUGCdLQJ9bx72lGZimGWs2m+083oN+2iiFQiGxvLy8RrDzudyltgrG3N8U2G8CrPz4sGYYRqJSqWR4H/jNWbJhUjAWi8XG8R/L87yPpGCVttVfAgwAVpZR+8tZC08AAAAASUVORK5CYII='); background-position: 50% 50%; background-repeat: no-repeat; }\\n.drawing-board-control-download-button:before { content: \\\"\\\"; display: block; width: 0; height: 100%; }\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIxLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGNhbnZhc1xcZHJhd2luZ2JvYXJkLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiLyogZHJhd2luZ2JvYXJkLmpzIHYwLjQuNiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9MZWltaS9kcmF3aW5nYm9hcmQuanNcXG4qIENvcHlyaWdodCAoYykgMjAxNSBFbW1hbnVlbCBQZWxsZXRpZXJcXG4qIExpY2Vuc2VkIE1JVCAqL1xcbi5kcmF3aW5nLWJvYXJkLCAuZHJhd2luZy1ib2FyZCAqIHsgLXdlYmtpdC1ib3gtc2l6aW5nOiBjb250ZW50LWJveDsgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDsgYm94LXNpemluZzogY29udGVudC1ib3g7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC11dGlscy1oaWRkZW4sIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2xzLWhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxcblxcbi5kcmF3aW5nLWJvYXJkIHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBibG9jazsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNhbnZhcy13cmFwcGVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyBtYXJnaW46IDA7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jYW52YXMgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgei1pbmRleDogMTA7IHdpZHRoOiBhdXRvOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY2FudmFzIHsgY3Vyc29yOiBjcm9zc2hhaXI7IHotaW5kZXg6IDIwOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY3Vyc29yIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQ6ICNjY2M7IGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yKTsgei1pbmRleDogMzA7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uLCAuZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1yYWluYm93cywgLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtaW5uZXIsIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1kcm9wZG93biB7IC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IG5vbmU7IGJhY2tncm91bmQtY29sb3I6ICNlZWU7IHBhZGRpbmc6IDJweCA0cHg7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IGJveC1zaGFkb3c6IDAgMXB4IDNweCAtMnB4ICMxMjEyMTIsIGluc2V0IDAgMnB4IDVweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAzcHggLTJweCAjMTIxMjEyLCBpbnNldCAwIDJweCA1cHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7IGhlaWdodDogMjhweDsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wgPiBidXR0b24geyBjdXJzb3I6IHBvaW50ZXI7IG1pbi13aWR0aDogMjhweDsgbGluZS1oZWlnaHQ6IDE0cHg7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uOmhvdmVyLCAuZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uOmZvY3VzIHsgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsgfVxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wgPiBidXR0b246YWN0aXZlLCAuZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uLmFjdGl2ZSB7IGJveC1zaGFkb3c6IGluc2V0IDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yKTsgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDFweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMik7IGJhY2tncm91bmQtY29sb3I6ICNkZGQ7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uW2Rpc2FibGVkXSB7IGNvbG9yOiBncmF5OyB9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbCA+IGJ1dHRvbltkaXNhYmxlZF06aG92ZXIsIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wgPiBidXR0b25bZGlzYWJsZWRdOmZvY3VzLCAuZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uW2Rpc2FibGVkXTphY3RpdmUsIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wgPiBidXR0b25bZGlzYWJsZWRdLmFjdGl2ZSB7IGJhY2tncm91bmQtY29sb3I6ICNlZWU7IGJveC1zaGFkb3c6IDAgMXB4IDNweCAtMnB4ICMxMjEyMTIsIGluc2V0IDAgMnB4IDVweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTsgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAzcHggLTJweCAjMTIxMjEyLCBpbnNldCAwIDJweCA1cHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7IGN1cnNvcjogZGVmYXVsdDsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2xzIHsgbWFyZ2luOiAwIGF1dG87IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiAwOyBkaXNwbGF5OiB0YWJsZTsgYm9yZGVyLXNwYWNpbmc6IDkuMzMzMzNweCAwOyBwb3NpdGlvbjogcmVsYXRpdmU7IG1pbi1oZWlnaHQ6IDUwcHg7IHBhZGRpbmctbGVmdDogMTBweDsgcGFkZGluZy1yaWdodDogMTBweDsgcGFkZGluZy10b3A6IDVweDt9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbHNbZGF0YS1hbGlnbj1cXFwibGVmdFxcXCJdIHsgbWFyZ2luOiAwOyBsZWZ0OiAtOS4zMzMzM3B4OyB9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbHNbZGF0YS1hbGlnbj1cXFwicmlnaHRcXFwiXSB7IG1hcmdpbjogMCAwIDAgYXV0bzsgcmlnaHQ6IC05LjMzMzMzcHg7IH1cXG4uZHJhd2luZy1ib2FyZC1jYW52YXMtd3JhcHBlciArIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2xzLCAuZHJhd2luZy1ib2FyZC1jb250cm9scyArIC5kcmF3aW5nLWJvYXJkLWNhbnZhcy13cmFwcGVyIHsgbWFyZ2luLXRvcDogNXB4OyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbHMtaGlkZGVuIHsgaGVpZ2h0OiAwOyBtaW4taGVpZ2h0OiAwOyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IGJvcmRlcjogMDsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wgeyBkaXNwbGF5OiB0YWJsZS1jZWxsOyBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyBmb250LXNpemU6IDE2cHg7IGhlaWdodDogMTAwJTsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtaW5uZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IGhlaWdodDogMTAwJTsgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OyAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sID4gYnV0dG9uIHsgbWFyZ2luOiAwOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMgeyBmb250LXNpemU6IDA7IGxpbmUtaGVpZ2h0OiAwOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtY3VycmVudCB7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IGN1cnNvcjogcG9pbnRlcjsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMjZweDsgaGVpZ2h0OiAyNnB4OyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtcmFpbmJvd3MgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi1sZWZ0OiA1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAzM3B4OyBtYXJnaW4tbGVmdDogMDsgei1pbmRleDogMTAwOyB3aWR0aDogMjUwcHg7IGhlaWdodDogYXV0bzsgcGFkZGluZzogNHB4OyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtcmFpbmJvdyB7IGhlaWdodDogMThweDsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXBpY2tlcjpmaXJzdC1jaGlsZCB7IG1hcmdpbi1yaWdodDogNXB4OyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtcGlja2VyIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMThweDsgaGVpZ2h0OiAxOHB4OyBjdXJzb3I6IHBvaW50ZXI7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1waWNrZXJbZGF0YS1jb2xvcj1cXFwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVxcXCJdIHsgd2lkdGg6IDE2cHg7IGhlaWdodDogMTdweDsgYm9yZGVyOiAxcHggc29saWQgI2NjYzsgYm9yZGVyLWJvdHRvbTogbm9uZTsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXBpY2tlcjpob3ZlciB7IHdpZHRoOiAxNnB4OyBoZWlnaHQ6IDE2cHg7IGJvcmRlcjogMXB4IHNvbGlkICM1NTU7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWRyYXdpbmdtb2RlID4gYnV0dG9uIHsgbWFyZ2luLXJpZ2h0OiAycHg7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWRyYXdpbmdtb2RlID4gYnV0dG9uOmxhc3QtY2hpbGQgeyBtYXJnaW4tcmlnaHQ6IDA7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWRyYXdpbmdtb2RlLXBlbmNpbC1idXR0b24geyBvdmVyZmxvdzogaGlkZGVuOyAqdGV4dC1pbmRlbnQ6IC05OTk5cHg7IGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FZQUFBQWY4LzloQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFlOUpSRUZVZU5waVpBQUNWbEZSQmhZUkVRWmNRUG5iTndhM04yOFlsTDUrWmZnTEZmdlB3R0Q5bTRGaElnc0RIdUFPMGdUVUROS0lCdnlCbXF0L01URE1ZOEdsMGYzMWF6RDdMNm9VSXhDbkF6V21BUEhCZnd3TTAxQU1VQVY2SmZQUUlWd09ZZ1ZxcVBuRnlPano2Ly8vTzM4WUdLcEFnbUFEMU9YbEdkVGs1UEQ1aGdlb3VadWRqOC91eTlldlAvNzgvZHNGRlBzSk5pQW9LSWlCQUJBSGFwNG9MaTl2OGZUTm00OC8vdjdOQndiZ1daZ2tFN3JxdDhEWStBOEpaUkJXK2NmSXVFRFQwTkRsemFkUDN6OTgvZG9QRkR1Q3JCN1RBR0ZoQnFDTklHd005T2NLVXpzNyt4ZHYzMzU1K2Y3OVZxRFlBaVREd1pnSmg3T05nWXBuT3ZuNEdMOTQ5ZXJUN1VlUGRnTDVKVkNENGZnQkxCQnhhWDc0K1BHNzg5ZXZud2J5MC84aktYZ0V4SWVCK0NHNkFmLy8vMWU5S2k5dkZTQWtaUHpveVpQUEp5OWV2QTlNQjc3L3NXaUVBUlprelYrL2Z2WFl0R25UcEczYnRqMjhFQlQwQnFqWjVEOE9qWEN3UGtzVWhBMVdwZ2dmL1BIangvOTE2OVk5RUJFUmFVbGdabWFJQWNyTEU0cms1c0lxQnFEbWxlZm5SUHpmV0dYNUVhU1ptNXViZ1Jsb0FER0E1UVozUmdLN2dFU1k0UE1ObjladE9iUHB6WnZmVTREaVlraUIvUmNIRytTN2Z5eEFNSC9sRlUyR09aZDJiTHgxOC9jRVVNb0Q0ajlJK0RjUy9SdEpIR1RZZjRBQUF3QXhhT01ZSGp4S0Z3QUFBQUJKUlU1RXJrSmdnZz09Jyk7IGJhY2tncm91bmQtcG9zaXRpb246IDUwJSA1MCU7IGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWRyYXdpbmdtb2RlLXBlbmNpbC1idXR0b246YmVmb3JlIHsgY29udGVudDogXFxcIlxcXCI7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMDsgaGVpZ2h0OiAxMDAlOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1kcmF3aW5nbW9kZS1lcmFzZXItYnV0dG9uIHsgb3ZlcmZsb3c6IGhpZGRlbjsgKnRleHQtaW5kZW50OiAtOTk5OXB4OyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBa3BKUkVGVWVOcDBraytJRWxFY3gzOXZGQmM5K09mUVJUQXd6RnQ0Q2FZT0tTdGo2TW9lY3VsU3R6b0lRU0I0a0NWY2ttRHg0aUdDWFdZSklxam9WT3pPMWw0cVQxRjdXZkJXSHZ4ekRQeVRCM1hVbVhuOTNzdVJ5YlVmZkhtUDk5N245L2NSc0Znd0dBUkpraUFjRHNQbHdnRUllRVpRQWhDUkFrZ0FsT0Q2U1FQNHJnTUZEV1ZuWUNBUWdGZ3NCcUZRQ0J3T0J5elpOUU9vdFBIeDFSTkNDQ2lwdTZiZmIrelNuc2xrZU9RVklMUHJCa0FpcmJ3czlidGRURVdBelpQWHBmZXBPemFlR01CWHdlLzN3MytNd1RjM0RsK1VlZ2hUaXNrYkJ2UjZQYmgxOG1aSEIwampteHZDS2hJZlIzN3MzcitTZXZmOGNhL1Q0VEJGMkhUU09EdUR4UDd1TmpyWkZGYkJrOGxFek9WeXNwYTR5a0dZdzJ6ZmJUYi83aWx2b2sxWWhsVlZGZlA1dkR5ZFRrSFhkWERkbGhaT09uUFk0L0hBMFlQdHAzaDZMRmpoOFhnc0Znb0ZHVFBnc0ttMXpEcjhhalRRaDhGaDVlR2paempHSTh5aktsZ2pGNHRGR2RkL1lLWW1SamEyNGh3K3p1M3NZZTJIaUgzaFl6UWpsOHRsZVRRYW5XdG91OTNHNlFuZ2RydGg2KzErOWg2aFRVTEpaL1BlemlKWEtoVjVPQnllZzF1dDFnSk9wOU5aVGROT2NRNDE5b3QrZ2dwMXFvTGRCRm1xVm1OcG0zQThIdWV3eStXcTFSSDhRSDl6bUJsSkpwTVJkQ0lxaWlJUEJnTisyTUNHc1cvcjgva2dHbzFtMGZtcHpXYXJzZWF5SGxtTmVMMWVGaVdDMGNScXRTcjMrLzNGcFNpS0hNWnRqVTFnbGJGeWZLZ0xUcWZ6RWthOU9Kdk5lRG56ejFKbkNhRm1xT2w4WmRKWTFTaURPWENpWEtnMU50RzVESXQweTZvdjNkRS9BZ3dBRU5GV1lZTGo0bVlBQUFBQVNVVk9SSzVDWUlJPScpOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyB9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1kcmF3aW5nbW9kZS1lcmFzZXItYnV0dG9uOmJlZm9yZSB7IGNvbnRlbnQ6IFxcXCJcXFwiOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDA7IGhlaWdodDogMTAwJTsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtZHJhd2luZ21vZGUtZmlsbGVyLWJ1dHRvbiB7IG92ZXJmbG93OiBoaWRkZW47ICp0ZXh0LWluZGVudDogLTk5OTlweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQW5OSlJFRlVlTnAwazB0ckUxRVV4ODlNSnBOSm9vWVlYQmdETnRDS2RSUHdsYnFvQ0tVdGFOVk5BMFVvN1ViTXhvVlBFQVJUWEVpK1FXZm53bjZERUFsRWtyU0x0dFRHUmlVTEVRbEo4eUNobWJ6SSsrRTUweVRVSkE3OHVNeTk1My91LzU1N0xtT3oyV0RFWjJtMVdyY2tTUkpTcWRSMnRWcmRIUXlZZWJ3SHRWb051RkhxVHFjemhRbldLYUJZTERvS2hjSXV6Z0hETUtCU3FlRDIwcWQrTE5kc05vY1NvRmhScjljdHBWTEppZ2w0eElJSlFpekxBbUc0Y0FQYTdiWWN5OUl1ZzVUTDVVWWlrYkQ2L1g3UmJyZS9JVWNZZTNXVVc1WnNuUVF6VzlMcE5PUHorVVFjNWFCTTVtZ2RoN3ZJOUZDQ0Flc1cydG5yOVlxWlRBYnkrYnc4ZjNBUVJQNjg1M24rUGg1aGVtU0NudGpqOFlqWmJGWVd4Mkl4ZVMyUlNFTXd1QTg3Tzc5ZXFkWHF1Vm9sSytHeG5QMEVQYkhiN1JaSlNHQUJJUjZQQTExekpIS0lSMk1oSEE1RElQRGo3ZUgzajk1S3BmSzYwV2c4WW50aWw4c2xrcWducGlvTGdoYWNUaWRvTkRwRUMzcTlIbmhlQ2MzczFqWmVMY1c5NDNwaXJQdy80bEtwQmtxbER1Ym5sL3JpeWNuTHNMeTg4RUtqMGZoenVSeVp2OFJGbzFFNndwQllraXF5N1o1NFltSWNWbFlleU9LQzRtWXdKMG5IUmFRdU01dk5UNmhCL2ljZUc3c0lxNnNQbndtQzRNZXJEa2J5NDBBT0NDb2lkZGllMVdwOTJXN3pRMktUeVFTTGl6TlA4VDBFc1BMQmJ4RURuQ2owR2tNMnFJRXd5WlJDb2JpenNmSDVBMVpYRmh1TjUyRjI5dnB6M0hrTDU3NG1rOGxqMjRZNXdzSGt2ampvWDBCT0lXYzVqcnVIemJLMnVmbXpFd3BGTzNqbkRoUXY0Sm9ST1lkb0VSVnlHakVnWjhpQkRsRjNGelhvNGdvNnV0WjlsZnRZNE4vZFhpc2pSMGkxRzB1Ymx2OEtNQUEwWm9VbGljeHJod0FBQUFCSlJVNUVya0pnZ2c9PScpOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA1MCUgNTAlOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyB9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1kcmF3aW5nbW9kZS1maWxsZXItYnV0dG9uOmJlZm9yZSB7IGNvbnRlbnQ6IFxcXCJcXFwiOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDA7IGhlaWdodDogMTAwJTsgfVxcblxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtbmF2aWdhdGlvbiA+IGJ1dHRvbiB7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tcmlnaHQ6IDJweDsgfVxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtbmF2aWdhdGlvbiA+IGJ1dHRvbjpsYXN0LWNoaWxkIHsgbWFyZ2luLXJpZ2h0OiAwOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplW2RhdGEtZHJhd2luZy1ib2FyZC10eXBlPVxcXCJyYW5nZVxcXCJdIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtaW5uZXIgeyB3aWR0aDogNzVweDsgfVxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZVtkYXRhLWRyYXdpbmctYm9hcmQtdHlwZT1cXFwiZHJvcGRvd25cXFwiXSAuZHJhd2luZy1ib2FyZC1jb250cm9sLWlubmVyIHsgb3ZlcmZsb3c6IHZpc2libGU7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtcmFuZ2UtaW5wdXQgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAxMDAlOyB6LWluZGV4OiAxMDA7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm9yZGVyOiAwOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLXJhbmdlLWN1cnJlbnQsIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1kcm9wZG93bi1jdXJyZW50IHNwYW4sIC5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1kcm9wZG93biBzcGFuIHsgZGlzcGxheTogYmxvY2s7IGJhY2tncm91bmQ6ICMzMzM7IG9wYWNpdHk6IC44OyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLXJhbmdlLWN1cnJlbnQgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG9wYWNpdHk6IC4xNTsgcG9zaXRpb246IGFic29sdXRlOyBwb2ludGVyLWV2ZW50czogbm9uZTsgbGVmdDogNTAlOyB0b3A6IDUwJTsgei1pbmRleDogNTA7IH1cXG5cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24tY3VycmVudCB7IGRpc3BsYXk6IGJsb2NrOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24tY3VycmVudCBzcGFuIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA1MCU7IHRvcDogNTAlOyB9XFxuXFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLWRyb3Bkb3duIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtNnB4OyB0b3A6IDMzcHg7IGhlaWdodDogYXV0bzsgbGlzdC1zdHlsZS10eXBlOiBub25lOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IHotaW5kZXg6IDEwMDsgfVxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1kcm9wZG93biBsaSB7IGRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA0cHg7IG1hcmdpbjogM3B4IDA7IG1pbi1oZWlnaHQ6IDE2cHg7IH1cXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24gbGk6aG92ZXIgeyBiYWNrZ3JvdW5kOiAjY2NjOyB9XFxuLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLWRyb3Bkb3duIHNwYW4geyBtYXJnaW46IDAgYXV0bzsgfVxcblxcbiBcXG4uZHJhd2luZy1ib2FyZC1jb250cm9sLWRvd25sb2FkLWJ1dHRvbiB7IG92ZXJmbG93OiBoaWRkZW47ICp0ZXh0LWluZGVudDogLTk5OTlweDsgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQW9CSlJFRlVlTnFNa3I5UFUxRVV4Ny92UjF0UTN5dTEwaEFtVGF3dEJTWVN5MlljY0ZPY25EUW0vZ2V3T0xuajVHWU1nNHNkWEZ4a01jYTRPQkF3ZFVCZS9aa0lHRnArOXRIWHZoLzMvZlRjQW0wMWFMekp5Ym5uM25NKzk1dHpybkRsNlRiK3NpYnVUbVdVV2ozQzYvSnVrK0x5U1VteXZ0MEZDS0tBMDJyeU9DeTZMQml1MTVuZ01iWjVERENOQnFJdzZnS00rbjRuRUNVSnJ1M2dsS3J5OENwalFhSFZZbUMyclZIODJESU1NTWRHR0FSZHdKK1NQTmRGUzljaHgrTVhETk1wL056YWdXTmF0ay9uUVUvaGlZQW9paDZGWVRCQ0JzOXpVWE1DYkFoeDJPWU92MzUxbFBPSjNFd0g0THRlTDZEY3AvUmZ1M0Zyc3REeUlpenQrYWdwYVl4TkRVME05Z2w0djdDaytUWXJDWUxRcVpIVXlUdGRRQml1dFBTR1VmbGN6U1hIczVsVkt3WmRTT0JNdnd6dHhWdk4wUnR6c2l5WEJGSHNBdkw1UEJTbkNwWFYyZ2V0SUxGaUUyU2pzcFlidVp6UGlEU1oydk9YbWx2WDV5UXFUbU1mZzlaWHF0bHMxd25UMDlPSEV5QXEwYUZMZy9nU1hzU1dxOXdXaytwOVByQ29ZVHdjaWpkTE9mRTdVc0V1Zk45SEdJWW5UNEVuVEdJWGUxS3F0Tk5JdnVObkdhbXhmaTdTZ1FEL25JSkNUYnpPUFEvU1FoMXB1ZDdUNE02Vy84cUZJdy81V0FyNW03T3pzdzlVVmMwNjlGbHMyeUp6U0M1L2xuYzlSaGFIWlZuZlNxVW5FZ1hQMm9CcXRZcUJnWUcyK21LeG1PVkFEbkFjQjR5eEhnRDFSemVoS0tucy9MeVY0Z1VIQndlUXkrVXlSa2RINlVLSjZmUURGeGNYb1drYVhKZVJ1VGdVR0NkTFFKOWJ4NzJsR1ppbUdXczJtKzA4M29OKzJpaUZRaUd4dkx5OFJyRHp1ZHlsdGdyRzNOOFUyRzhDclB6NHNHWVlScUpTcVdSNEgvak5XYkpoVWpBV2k4WEc4Ui9MODd5UHBHQ1Z0dFZmQWd3QVZwWlIrOHRaQzA4QUFBQUFTVVZPUks1Q1lJST0nKTsgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlIDUwJTsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgfVxcbi5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtZG93bmxvYWQtYnV0dG9uOmJlZm9yZSB7IGNvbnRlbnQ6IFxcXCJcXFwiOyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDA7IGhlaWdodDogMTAwJTsgfVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvY2FudmFzL2RyYXdpbmdib2FyZC5jc3Ncbi8vIG1vZHVsZSBpZCA9IDgyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///821\n");

/***/ }),

/***/ 822:
/* no static exports found */
/* all exports used */
/*!***************************************************!*\
  !*** ./src/app/shared/resources/detectbrowser.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Exports a series of functions that will check the browser type and return a true/false value.\n * https://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n * \n * Author: Edwin Gathura\n */\nif (true) {\n  // node module exports\n  module.exports = {\n    // Opera 8.0+\n    isOpera: function () {\n      return (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\n    },\n\n    // Firefox 1.0+\n    isFirefox: function () {\n      return typeof InstallTrigger !== 'undefined';\n    },\n\n    // Safari 3.0+ \"[object HTMLElementConstructor]\" \n    isSafari: function () {\n      return /constructor/i.test(window.HTMLElement) || (function (p) {\n        return p.toString() === \"[object SafariRemoteNotification]\";\n      })(!window['safari'] || safari.pushNotification);\n    },\n\n    // Internet Explorer 6-11\n    isIE: function () {\n      return /*@cc_on!@*/ false || !!document.documentMode;\n    },\n\n    // Edge 20+\n    isEdge: function () {\n      return !isIE && !!window.StyleMedia;\n    },\n\n    // Chrome 1+\n    isChrome: function () {\n      return !!window.chrome && !!window.chrome.webstore;\n    },\n\n    // Blink engine detection\n    isBlink: function () {\n      return (this.isChrome || this.isOpera) && !!window.CSS;\n    }\n  }\n\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIyLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcc2hhcmVkXFxyZXNvdXJjZXNcXGRldGVjdGJyb3dzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHBvcnRzIGEgc2VyaWVzIG9mIGZ1bmN0aW9ucyB0aGF0IHdpbGwgY2hlY2sgdGhlIGJyb3dzZXIgdHlwZSBhbmQgcmV0dXJuIGEgdHJ1ZS9mYWxzZSB2YWx1ZS5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzk4NDc1ODAvaG93LXRvLWRldGVjdC1zYWZhcmktY2hyb21lLWllLWZpcmVmb3gtYW5kLW9wZXJhLWJyb3dzZXJcbiAqIFxuICogQXV0aG9yOiBFZHdpbiBHYXRodXJhXG4gKi9cbmlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnKSB7XG4gIC8vIG5vZGUgbW9kdWxlIGV4cG9ydHNcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLy8gT3BlcmEgOC4wK1xuICAgIGlzT3BlcmE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoISF3aW5kb3cub3ByICYmICEhb3ByLmFkZG9ucykgfHwgISF3aW5kb3cub3BlcmEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCcgT1BSLycpID49IDA7XG4gICAgfSxcblxuICAgIC8vIEZpcmVmb3ggMS4wK1xuICAgIGlzRmlyZWZveDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfSxcblxuICAgIC8vIFNhZmFyaSAzLjArIFwiW29iamVjdCBIVE1MRWxlbWVudENvbnN0cnVjdG9yXVwiIFxuICAgIGlzU2FmYXJpOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gL2NvbnN0cnVjdG9yL2kudGVzdCh3aW5kb3cuSFRNTEVsZW1lbnQpIHx8IChmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcC50b1N0cmluZygpID09PSBcIltvYmplY3QgU2FmYXJpUmVtb3RlTm90aWZpY2F0aW9uXVwiO1xuICAgICAgfSkoIXdpbmRvd1snc2FmYXJpJ10gfHwgc2FmYXJpLnB1c2hOb3RpZmljYXRpb24pO1xuICAgIH0sXG5cbiAgICAvLyBJbnRlcm5ldCBFeHBsb3JlciA2LTExXG4gICAgaXNJRTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC8qQGNjX29uIUAqLyBmYWxzZSB8fCAhIWRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgICB9LFxuXG4gICAgLy8gRWRnZSAyMCtcbiAgICBpc0VkZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhaXNJRSAmJiAhIXdpbmRvdy5TdHlsZU1lZGlhO1xuICAgIH0sXG5cbiAgICAvLyBDaHJvbWUgMStcbiAgICBpc0Nocm9tZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5jaHJvbWUud2Vic3RvcmU7XG4gICAgfSxcblxuICAgIC8vIEJsaW5rIGVuZ2luZSBkZXRlY3Rpb25cbiAgICBpc0JsaW5rOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuaXNDaHJvbWUgfHwgdGhpcy5pc09wZXJhKSAmJiAhIXdpbmRvdy5DU1M7XG4gICAgfVxuICB9XG5cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwcC9zaGFyZWQvcmVzb3VyY2VzL2RldGVjdGJyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDgyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///822\n");

/***/ }),

/***/ 834:
/* no static exports found */
/* all exports used */
/*!**********************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/bootstrap.component.ts ***!
  \**********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar drawinglibrary_1 = __webpack_require__(/*! ../drawinglibrary */ 814);\r\nvar TestDrawingBootstrapComponent = (function () {\r\n    function TestDrawingBootstrapComponent(logger) {\r\n        this.logger = logger;\r\n        this.useMobileView = shared_1.isMobile(logger);\r\n    }\r\n    return TestDrawingBootstrapComponent;\r\n}());\r\nTestDrawingBootstrapComponent = __decorate([\r\n    core_1.Component({\r\n        template: \"\\n        <mobile-view *ngIf=\\\"useMobileView\\\"></mobile-view>\\n        <full-view *ngIf=\\\"!useMobileView\\\"></full-view>\\n    \",\r\n        /**\r\n         * We wll inject specific services/modules at the component level so they\r\n         * are re-created upon component intialization and do not maintain state\r\n         * across views or the during the app life cycle\r\n         *\r\n         * Providing the service at the component level ensures that every instance of the\r\n         * component gets its own, private instance of the service.\r\n         *\r\n         * https://angular.io/guide/dependency-injection#when-to-use-ngmodule-versus-an-application-component\r\n         * https://angular.io/guide/hierarchical-dependency-injection\r\n         */\r\n        providers: [\r\n            drawinglibrary_1.TouchEventsHandler, drawinglibrary_1.DragEventsHandler,\r\n            drawinglibrary_1.ImgQueueService, drawinglibrary_1.ResizeEditorService,\r\n        ]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService])\r\n], TestDrawingBootstrapComponent);\r\nexports.TestDrawingBootstrapComponent = TestDrawingBootstrapComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM0LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcYm9vdHN0cmFwLmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cblxuLy8gQXBwIEltcG9ydHNcbmltcG9ydCB7IFxuICAgIExvZ2dpbmdTZXJ2aWNlLCBpc01vYmlsZSBcbn0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCB7XG4gICAgRHJhZ0V2ZW50c0hhbmRsZXIsXG4gICAgVG91Y2hFdmVudHNIYW5kbGVyLFxuICAgIEVtb2ppLFxuICAgIFJlc2l6ZUVkaXRvclNlcnZpY2UsXG4gICAgSW1nUXVldWVTZXJ2aWNlXG59IGZyb20gJy4uL2RyYXdpbmdsaWJyYXJ5JztcbmltcG9ydCB7IH0gZnJvbSAnLi9tb2JpbGV2aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyB9IGZyb20gJy4vZnVsbHZpZXcuY29tcG9uZW50JztcblxuXG5AQ29tcG9uZW50KHtcbiAgICB0ZW1wbGF0ZTogXG4gICAgYFxuICAgICAgICA8bW9iaWxlLXZpZXcgKm5nSWY9XCJ1c2VNb2JpbGVWaWV3XCI+PC9tb2JpbGUtdmlldz5cbiAgICAgICAgPGZ1bGwtdmlldyAqbmdJZj1cIiF1c2VNb2JpbGVWaWV3XCI+PC9mdWxsLXZpZXc+XG4gICAgYCxcbiAgICAvKipcbiAgICAgKiBXZSB3bGwgaW5qZWN0IHNwZWNpZmljIHNlcnZpY2VzL21vZHVsZXMgYXQgdGhlIGNvbXBvbmVudCBsZXZlbCBzbyB0aGV5XG4gICAgICogYXJlIHJlLWNyZWF0ZWQgdXBvbiBjb21wb25lbnQgaW50aWFsaXphdGlvbiBhbmQgZG8gbm90IG1haW50YWluIHN0YXRlXG4gICAgICogYWNyb3NzIHZpZXdzIG9yIHRoZSBkdXJpbmcgdGhlIGFwcCBsaWZlIGN5Y2xlXG4gICAgICogXG4gICAgICogUHJvdmlkaW5nIHRoZSBzZXJ2aWNlIGF0IHRoZSBjb21wb25lbnQgbGV2ZWwgZW5zdXJlcyB0aGF0IGV2ZXJ5IGluc3RhbmNlIG9mIHRoZSBcbiAgICAgKiBjb21wb25lbnQgZ2V0cyBpdHMgb3duLCBwcml2YXRlIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAqIFxuICAgICAqIGh0dHBzOi8vYW5ndWxhci5pby9ndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbiN3aGVuLXRvLXVzZS1uZ21vZHVsZS12ZXJzdXMtYW4tYXBwbGljYXRpb24tY29tcG9uZW50XG4gICAgICogaHR0cHM6Ly9hbmd1bGFyLmlvL2d1aWRlL2hpZXJhcmNoaWNhbC1kZXBlbmRlbmN5LWluamVjdGlvblxuICAgICAqL1xuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBUb3VjaEV2ZW50c0hhbmRsZXIsIERyYWdFdmVudHNIYW5kbGVyLFxuICAgICAgICBJbWdRdWV1ZVNlcnZpY2UsIFJlc2l6ZUVkaXRvclNlcnZpY2UsXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBUZXN0RHJhd2luZ0Jvb3RzdHJhcENvbXBvbmVudCB7XG5cbiAgICBwdWJsaWMgdXNlTW9iaWxlVmlldzogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSkge1xuICAgICAgICB0aGlzLnVzZU1vYmlsZVZpZXcgPSBpc01vYmlsZShsb2dnZXIpO1xuICAgIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdmcmFtZS9ib290c3RyYXAuY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFLQTtBQUNBO0FBR0E7QUFpQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFOQTtBQXRCQTtBQUNBO0FBS0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUhBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///834\n");

/***/ }),

/***/ 835:
/* no static exports found */
/* all exports used */
/*!******************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/fullview/fullview.component.ts ***!
  \******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\nvar router_2 = __webpack_require__(/*! @angular/router */ 14);\r\n// App Imports\r\nvar ngmodalservice_1 = __webpack_require__(/*! ../../../../shared/ngmodalservice */ 160);\r\nvar shared_1 = __webpack_require__(/*! ../../../../shared */ 9);\r\nvar drawinglibrary_1 = __webpack_require__(/*! ../../drawinglibrary */ 814);\r\nvar shared_2 = __webpack_require__(/*! ../../../../shared */ 9);\r\nvar emoji_resolve_guard_1 = __webpack_require__(/*! ../../twemoji/emoji-resolve.guard */ 815);\r\nvar base_component_1 = __webpack_require__(/*! ../base.component */ 816);\r\nvar TestFullViewDrawingComponent = (function (_super) {\r\n    __extends(TestFullViewDrawingComponent, _super);\r\n    function TestFullViewDrawingComponent(imgQueue, dragEvents, touchEvents, resizeEditor, changeDetector, viewportMgr, emojiService, modalService, route, router, logger) {\r\n        var _this = _super.call(this, imgQueue, dragEvents, touchEvents, resizeEditor, changeDetector, route, viewportMgr, emojiService, modalService, logger) || this;\r\n        _this.imgQueue = imgQueue;\r\n        _this.dragEvents = dragEvents;\r\n        _this.touchEvents = touchEvents;\r\n        _this.resizeEditor = resizeEditor;\r\n        _this.changeDetector = changeDetector;\r\n        _this.viewportMgr = viewportMgr;\r\n        _this.emojiService = emojiService;\r\n        _this.modalService = modalService;\r\n        _this.route = route;\r\n        _this.router = router;\r\n        _this.logger = logger;\r\n        return _this;\r\n    }\r\n    return TestFullViewDrawingComponent;\r\n}(base_component_1.TestBaseDrawingComponent));\r\nTestFullViewDrawingComponent = __decorate([\r\n    core_1.Component({\r\n        selector: 'full-view',\r\n        template: __webpack_require__(/*! ./fullview.component.html */ 857),\r\n        styles: [__webpack_require__(/*! ./fullview.component.css */ 871), __webpack_require__(/*! ../../canvas/drawingboard.css */ 821)],\r\n        encapsulation: core_1.ViewEncapsulation.None,\r\n    }),\r\n    __metadata(\"design:paramtypes\", [drawinglibrary_1.ImgQueueService,\r\n        drawinglibrary_1.DragEventsHandler,\r\n        drawinglibrary_1.TouchEventsHandler,\r\n        drawinglibrary_1.ResizeEditorService,\r\n        core_1.ChangeDetectorRef,\r\n        shared_2.ViewPortManagementService,\r\n        emoji_resolve_guard_1.EmojiResolveGuard,\r\n        ngmodalservice_1.NgModalService,\r\n        router_2.ActivatedRoute,\r\n        router_1.Router,\r\n        shared_1.LoggingService])\r\n], TestFullViewDrawingComponent);\r\nexports.TestFullViewDrawingComponent = TestFullViewDrawingComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM1LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcZnVsbHZpZXdcXGZ1bGx2aWV3LmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0LFxuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBOZ01vZGFsU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC9uZ21vZGFsc2VydmljZSc7XG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQge1xuICAgIERyYWdFdmVudHNIYW5kbGVyLFxuICAgIFRvdWNoRXZlbnRzSGFuZGxlcixcbiAgICBFbW9qaSxcbiAgICBSZXNpemVFZGl0b3JTZXJ2aWNlLFxuICAgIEltZ1F1ZXVlU2VydmljZVxufSBmcm9tICcuLi8uLi9kcmF3aW5nbGlicmFyeSc7XG5pbXBvcnQge1xuICAgIFZpZXdQb3J0TWFuYWdlbWVudFNlcnZpY2UsXG4gICAgT3JpZW50YXRpb25TdGF0ZSwgVmlld1BvcnRDaGFuZ2UsXG4gICAgVmlld1BvcnRFdmVudCxcbn0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCB7IEVtb2ppUmVzb2x2ZUd1YXJkIH0gZnJvbSAnLi4vLi4vdHdlbW9qaS9lbW9qaS1yZXNvbHZlLmd1YXJkJztcbmltcG9ydCB7IH0gZnJvbSAnLi8nXG5pbXBvcnQgeyBUZXN0QmFzZURyYXdpbmdDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdmdWxsLXZpZXcnLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2Z1bGx2aWV3LmNvbXBvbmVudC5odG1sJyksXG4gICAgc3R5bGVzOiBbcmVxdWlyZSgnLi9mdWxsdmlldy5jb21wb25lbnQuY3NzJyksIHJlcXVpcmUoJy4uLy4uL2NhbnZhcy9kcmF3aW5nYm9hcmQuY3NzJyldLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsIC8vIHJlcXVpcmVkIGZvciBkcmF3aW5nIGJvYXJkXG59KVxuZXhwb3J0IGNsYXNzIFRlc3RGdWxsVmlld0RyYXdpbmdDb21wb25lbnQgZXh0ZW5kcyBUZXN0QmFzZURyYXdpbmdDb21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBpbWdRdWV1ZTogSW1nUXVldWVTZXJ2aWNlLFxuICAgICAgICBwdWJsaWMgZHJhZ0V2ZW50czogRHJhZ0V2ZW50c0hhbmRsZXIsXG4gICAgICAgIHB1YmxpYyB0b3VjaEV2ZW50czogVG91Y2hFdmVudHNIYW5kbGVyLFxuICAgICAgICBwdWJsaWMgcmVzaXplRWRpdG9yOiBSZXNpemVFZGl0b3JTZXJ2aWNlLFxuICAgICAgICBwcm90ZWN0ZWQgY2hhbmdlRGV0ZWN0b3I6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICBwcm90ZWN0ZWQgdmlld3BvcnRNZ3I6IFZpZXdQb3J0TWFuYWdlbWVudFNlcnZpY2UsXG4gICAgICAgIHByb3RlY3RlZCBlbW9qaVNlcnZpY2U6IEVtb2ppUmVzb2x2ZUd1YXJkLFxuICAgICAgICBwcm90ZWN0ZWQgbW9kYWxTZXJ2aWNlOiBOZ01vZGFsU2VydmljZSxcbiAgICAgICAgcHJvdGVjdGVkIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgcHJvdGVjdGVkIHJvdXRlcjogUm91dGVyLFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSkge1xuICAgICAgICAgICAgc3VwZXIoXG4gICAgICAgICAgICAgICAgaW1nUXVldWUsIGRyYWdFdmVudHMsIHRvdWNoRXZlbnRzLFxuICAgICAgICAgICAgICAgIHJlc2l6ZUVkaXRvciwgY2hhbmdlRGV0ZWN0b3IsIHJvdXRlLCB2aWV3cG9ydE1ncixcbiAgICAgICAgICAgICAgICBlbW9qaVNlcnZpY2UsIG1vZGFsU2VydmljZSwgbG9nZ2VyKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdmcmFtZS9mdWxsdmlldy9mdWxsdmlldy5jb21wb25lbnQudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUtBO0FBRUE7QUFTQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBS0E7QUFDQTtBQUFBO0FBbkJBO0FBTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///835\n");

/***/ }),

/***/ 836:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/index.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(/*! ./base.component */ 816));\r\n__export(__webpack_require__(/*! ./bootstrap.component */ 834));\r\n__export(__webpack_require__(/*! ./mobile/mobileview.component */ 837));\r\n__export(__webpack_require__(/*! ./fullview/fullview.component */ 835));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM2LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCAqIGZyb20gJy4vYmFzZS5jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9ib290c3RyYXAuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vbW9iaWxlL21vYmlsZXZpZXcuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vZnVsbHZpZXcvZnVsbHZpZXcuY29tcG9uZW50JztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC9kcmF3aW5nZnJhbWUvaW5kZXgudHMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///836\n");

/***/ }),

/***/ 837:
/* no static exports found */
/* all exports used */
/*!******************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/mobile/mobileview.component.ts ***!
  \******************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar router_1 = __webpack_require__(/*! @angular/router */ 14);\r\nvar router_2 = __webpack_require__(/*! @angular/router */ 14);\r\n// App Imports\r\nvar ngmodalservice_1 = __webpack_require__(/*! ../../../../shared/ngmodalservice */ 160);\r\nvar shared_1 = __webpack_require__(/*! ../../../../shared */ 9);\r\nvar drawinglibrary_1 = __webpack_require__(/*! ../../drawinglibrary */ 814);\r\nvar shared_2 = __webpack_require__(/*! ../../../../shared */ 9);\r\nvar emoji_resolve_guard_1 = __webpack_require__(/*! ../../twemoji/emoji-resolve.guard */ 815);\r\nvar base_component_1 = __webpack_require__(/*! ../base.component */ 816);\r\nvar TestMobileDrawingComponent = (function (_super) {\r\n    __extends(TestMobileDrawingComponent, _super);\r\n    function TestMobileDrawingComponent(imgQueue, dragEvents, touchEvents, resizeEditor, changeDetector, viewportMgr, emojiService, modalService, route, router, logger) {\r\n        var _this = _super.call(this, imgQueue, dragEvents, touchEvents, resizeEditor, changeDetector, route, viewportMgr, emojiService, modalService, logger) || this;\r\n        _this.imgQueue = imgQueue;\r\n        _this.dragEvents = dragEvents;\r\n        _this.touchEvents = touchEvents;\r\n        _this.resizeEditor = resizeEditor;\r\n        _this.changeDetector = changeDetector;\r\n        _this.viewportMgr = viewportMgr;\r\n        _this.emojiService = emojiService;\r\n        _this.modalService = modalService;\r\n        _this.route = route;\r\n        _this.router = router;\r\n        _this.logger = logger;\r\n        return _this;\r\n    }\r\n    return TestMobileDrawingComponent;\r\n}(base_component_1.TestBaseDrawingComponent));\r\nTestMobileDrawingComponent = __decorate([\r\n    core_1.Component({\r\n        selector: 'mobile-view',\r\n        template: __webpack_require__(/*! ./mobileview.component.html */ 858),\r\n        styles: [__webpack_require__(/*! ./mobileview.component.css */ 872), __webpack_require__(/*! ../../canvas/drawingboard.css */ 821)],\r\n        encapsulation: core_1.ViewEncapsulation.None,\r\n    }),\r\n    __metadata(\"design:paramtypes\", [drawinglibrary_1.ImgQueueService,\r\n        drawinglibrary_1.DragEventsHandler,\r\n        drawinglibrary_1.TouchEventsHandler,\r\n        drawinglibrary_1.ResizeEditorService,\r\n        core_1.ChangeDetectorRef,\r\n        shared_2.ViewPortManagementService,\r\n        emoji_resolve_guard_1.EmojiResolveGuard,\r\n        ngmodalservice_1.NgModalService,\r\n        router_2.ActivatedRoute,\r\n        router_1.Router,\r\n        shared_1.LoggingService])\r\n], TestMobileDrawingComponent);\r\nexports.TestMobileDrawingComponent = TestMobileDrawingComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM3LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcbW9iaWxlXFxtb2JpbGV2aWV3LmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0LFxuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBOZ01vZGFsU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC9uZ21vZGFsc2VydmljZSc7XG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQge1xuICAgIERyYWdFdmVudHNIYW5kbGVyLFxuICAgIFRvdWNoRXZlbnRzSGFuZGxlcixcbiAgICBFbW9qaSxcbiAgICBSZXNpemVFZGl0b3JTZXJ2aWNlLFxuICAgIEltZ1F1ZXVlU2VydmljZVxufSBmcm9tICcuLi8uLi9kcmF3aW5nbGlicmFyeSc7XG5pbXBvcnQge1xuICAgIFZpZXdQb3J0TWFuYWdlbWVudFNlcnZpY2UsXG4gICAgT3JpZW50YXRpb25TdGF0ZSwgVmlld1BvcnRDaGFuZ2UsXG4gICAgVmlld1BvcnRFdmVudCxcbn0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCB7IEVtb2ppUmVzb2x2ZUd1YXJkIH0gZnJvbSAnLi4vLi4vdHdlbW9qaS9lbW9qaS1yZXNvbHZlLmd1YXJkJztcbmltcG9ydCB7IH0gZnJvbSAnLi8nXG5pbXBvcnQgeyBUZXN0QmFzZURyYXdpbmdDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbW9iaWxlLXZpZXcnLFxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL21vYmlsZXZpZXcuY29tcG9uZW50Lmh0bWwnKSxcbiAgICBzdHlsZXM6IFtyZXF1aXJlKCcuL21vYmlsZXZpZXcuY29tcG9uZW50LmNzcycpLCByZXF1aXJlKCcuLi8uLi9jYW52YXMvZHJhd2luZ2JvYXJkLmNzcycpXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLCAvLyByZXF1aXJlZCBmb3IgZHJhd2luZyBib2FyZFxufSlcbmV4cG9ydCBjbGFzcyBUZXN0TW9iaWxlRHJhd2luZ0NvbXBvbmVudCBleHRlbmRzIFRlc3RCYXNlRHJhd2luZ0NvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGltZ1F1ZXVlOiBJbWdRdWV1ZVNlcnZpY2UsXG4gICAgICAgIHB1YmxpYyBkcmFnRXZlbnRzOiBEcmFnRXZlbnRzSGFuZGxlcixcbiAgICAgICAgcHVibGljIHRvdWNoRXZlbnRzOiBUb3VjaEV2ZW50c0hhbmRsZXIsXG4gICAgICAgIHB1YmxpYyByZXNpemVFZGl0b3I6IFJlc2l6ZUVkaXRvclNlcnZpY2UsXG4gICAgICAgIHByb3RlY3RlZCBjaGFuZ2VEZXRlY3RvcjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgICAgIHByb3RlY3RlZCB2aWV3cG9ydE1ncjogVmlld1BvcnRNYW5hZ2VtZW50U2VydmljZSxcbiAgICAgICAgcHJvdGVjdGVkIGVtb2ppU2VydmljZTogRW1vamlSZXNvbHZlR3VhcmQsXG4gICAgICAgIHByb3RlY3RlZCBtb2RhbFNlcnZpY2U6IE5nTW9kYWxTZXJ2aWNlLFxuICAgICAgICBwcm90ZWN0ZWQgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBwcm90ZWN0ZWQgcm91dGVyOiBSb3V0ZXIsXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IExvZ2dpbmdTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgaW1nUXVldWUsIGRyYWdFdmVudHMsIHRvdWNoRXZlbnRzLFxuICAgICAgICAgICAgcmVzaXplRWRpdG9yLCBjaGFuZ2VEZXRlY3Rvciwgcm91dGUsIHZpZXdwb3J0TWdyLFxuICAgICAgICAgICAgZW1vamlTZXJ2aWNlLCBtb2RhbFNlcnZpY2UsIGxvZ2dlcik7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXItcm91dGVyLWxvYWRlci9zcmMhLi9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvZHJhd2luZ2ZyYW1lL21vYmlsZS9tb2JpbGV2aWV3LmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBS0E7QUFFQTtBQVFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFLQTtBQUVBO0FBQUE7QUFwQkE7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///837\n");

/***/ }),

/***/ 838:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/testabstract.component.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar TestAbstractGameTurnComponent = (function () {\r\n    function TestAbstractGameTurnComponent(logging) {\r\n        this.logging = logging;\r\n    }\r\n    return TestAbstractGameTurnComponent;\r\n}());\r\nTestAbstractGameTurnComponent = __decorate([\r\n    core_1.Component({}),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService])\r\n], TestAbstractGameTurnComponent);\r\nexports.TestAbstractGameTurnComponent = TestAbstractGameTurnComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM4LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcdGVzdGFic3RyYWN0LmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0LFxuICAgIEFmdGVyVmlld0luaXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIsIEFjdGl2YXRlZFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IE5nYk1vZGFsUmVmIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5cblxuQENvbXBvbmVudCh7fSlcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUZXN0QWJzdHJhY3RHYW1lVHVybkNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbG9nZ2luZzogTG9nZ2luZ1NlcnZpY2UpIHtcblxuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC9kcmF3aW5nZnJhbWUvdGVzdGFic3RyYWN0LmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBU0E7QUFDQTtBQUlBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFBQTtBQU5BO0FBREE7QUFHQTtBQUZBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///838\n");

/***/ }),

/***/ 839:
/* no static exports found */
/* all exports used */
/*!***********************************************************************!*\
  !*** ./src/app/modules/gameloop/drawinglibrary/dragevents.service.ts ***!
  \***********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\n//let dragandDropTouch = require('../canvas/DragDropTouch.js');\r\nvar DragEventsHandler = (function () {\r\n    function DragEventsHandler(logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        /**\r\n        *\r\n        * dragstart event triggers the begining of a DragEvent.\r\n        *\r\n        * The DragEvent object also carries with it a DataTransfer object\r\n        * which is used to hold the data that is being dragged during a drag and drop\r\n        * operation.\r\n        *\r\n        * The  DataTransfer object exposes a setData method to append data\r\n        * to its data store.\r\n        *\r\n        * We use a combination of these resouces to add the images element\r\n        *\r\n        * You can also use the element typescript element to cast your type to\r\n        * a known element and use properties and methods.\r\n        *\r\n        * references:\r\n        * https://developer.mozilla.org/en-US/docs/Web/Events/dragstart\r\n        * https://developer.mozilla.org/en-US/docs/Web/API/DragEvent\r\n        * https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer\r\n        * https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/setData\r\n        * http://definitelytyped.org/docs/flipsnap--flipsnap/interfaces/htmlelement.html\r\n        * @param event\r\n        */\r\n        this.dragstart = function (event, emoji) {\r\n            _this.logger.log('dragstart event recevied in target..:');\r\n            _this.logger.object(event);\r\n            _this.logger.object(emoji);\r\n            event.dataTransfer.setData('emoji', JSON.stringify(emoji));\r\n        };\r\n    }\r\n    /**\r\n    * The Event interface's preventDefault() method tells the user agent that\r\n    * if the event goes unhandled, its default action should not be taken as\r\n    * it normally would be. The event continues to propagate as usual with only\r\n    * the exception that the event does nothing if no event listeners call\r\n    * stopPropagation(), which terminates propagation at once.\r\n    *\r\n    * This is necessary because the some elements do not expect the drop event\r\n    * so they don't handle and propagate the event, so here we prevent that\r\n    * default action so the event continues to propogate.\r\n    *\r\n    * references:\r\n    * https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault\r\n    * https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation\r\n    * @param event\r\n    */\r\n    DragEventsHandler.prototype.allowDrop = function (event) {\r\n        // this.logger.log('dragover  recevied in target..:');\r\n        // this.logger.object(event);\r\n        event.preventDefault();\r\n    };\r\n    return DragEventsHandler;\r\n}());\r\nDragEventsHandler = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService])\r\n], DragEventsHandler);\r\nexports.DragEventsHandler = DragEventsHandler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM5LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdsaWJyYXJ5XFxkcmFnZXZlbnRzLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmVuZG9yIEltcG9ydHNcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuXG4vLyBBcHAgSW1wb3J0c1xuaW1wb3J0IHsgTG9nZ2luZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQnO1xuaW1wb3J0IHsgRW1vamksIEltZ0F0dHJpYnV0ZXMgfSBmcm9tICcuLyc7XG5cbi8vbGV0IGRyYWdhbmREcm9wVG91Y2ggPSByZXF1aXJlKCcuLi9jYW52YXMvRHJhZ0Ryb3BUb3VjaC5qcycpO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRHJhZ0V2ZW50c0hhbmRsZXIge1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogTG9nZ2luZ1NlcnZpY2UpIHsgfVxuXG5cbiAgICAvKipcbiAgICAqIFRoZSBFdmVudCBpbnRlcmZhY2UncyBwcmV2ZW50RGVmYXVsdCgpIG1ldGhvZCB0ZWxscyB0aGUgdXNlciBhZ2VudCB0aGF0IFxuICAgICogaWYgdGhlIGV2ZW50IGdvZXMgdW5oYW5kbGVkLCBpdHMgZGVmYXVsdCBhY3Rpb24gc2hvdWxkIG5vdCBiZSB0YWtlbiBhcyBcbiAgICAqIGl0IG5vcm1hbGx5IHdvdWxkIGJlLiBUaGUgZXZlbnQgY29udGludWVzIHRvIHByb3BhZ2F0ZSBhcyB1c3VhbCB3aXRoIG9ubHkgXG4gICAgKiB0aGUgZXhjZXB0aW9uIHRoYXQgdGhlIGV2ZW50IGRvZXMgbm90aGluZyBpZiBubyBldmVudCBsaXN0ZW5lcnMgY2FsbCBcbiAgICAqIHN0b3BQcm9wYWdhdGlvbigpLCB3aGljaCB0ZXJtaW5hdGVzIHByb3BhZ2F0aW9uIGF0IG9uY2UuXG4gICAgKiBcbiAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhlIHNvbWUgZWxlbWVudHMgZG8gbm90IGV4cGVjdCB0aGUgZHJvcCBldmVudFxuICAgICogc28gdGhleSBkb24ndCBoYW5kbGUgYW5kIHByb3BhZ2F0ZSB0aGUgZXZlbnQsIHNvIGhlcmUgd2UgcHJldmVudCB0aGF0XG4gICAgKiBkZWZhdWx0IGFjdGlvbiBzbyB0aGUgZXZlbnQgY29udGludWVzIHRvIHByb3BvZ2F0ZS5cbiAgICAqIFxuICAgICogcmVmZXJlbmNlczpcbiAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudC9wcmV2ZW50RGVmYXVsdFxuICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50L3N0b3BQcm9wYWdhdGlvblxuICAgICogQHBhcmFtIGV2ZW50IFxuICAgICovXG4gICAgcHVibGljIGFsbG93RHJvcChldmVudDogRHJhZ0V2ZW50KSB7XG4gICAgICAgIC8vIHRoaXMubG9nZ2VyLmxvZygnZHJhZ292ZXIgIHJlY2V2aWVkIGluIHRhcmdldC4uOicpO1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5vYmplY3QoZXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogXG4gICAgKiBkcmFnc3RhcnQgZXZlbnQgdHJpZ2dlcnMgdGhlIGJlZ2luaW5nIG9mIGEgRHJhZ0V2ZW50LlxuICAgICogXG4gICAgKiBUaGUgRHJhZ0V2ZW50IG9iamVjdCBhbHNvIGNhcnJpZXMgd2l0aCBpdCBhIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICAqIHdoaWNoIGlzIHVzZWQgdG8gaG9sZCB0aGUgZGF0YSB0aGF0IGlzIGJlaW5nIGRyYWdnZWQgZHVyaW5nIGEgZHJhZyBhbmQgZHJvcFxuICAgICogb3BlcmF0aW9uLiBcbiAgICAqIFxuICAgICogVGhlICBEYXRhVHJhbnNmZXIgb2JqZWN0IGV4cG9zZXMgYSBzZXREYXRhIG1ldGhvZCB0byBhcHBlbmQgZGF0YVxuICAgICogdG8gaXRzIGRhdGEgc3RvcmUuXG4gICAgKiBcbiAgICAqIFdlIHVzZSBhIGNvbWJpbmF0aW9uIG9mIHRoZXNlIHJlc291Y2VzIHRvIGFkZCB0aGUgaW1hZ2VzIGVsZW1lbnQgXG4gICAgKiBcbiAgICAqIFlvdSBjYW4gYWxzbyB1c2UgdGhlIGVsZW1lbnQgdHlwZXNjcmlwdCBlbGVtZW50IHRvIGNhc3QgeW91ciB0eXBlIHRvXG4gICAgKiBhIGtub3duIGVsZW1lbnQgYW5kIHVzZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzLlxuICAgICogXG4gICAgKiByZWZlcmVuY2VzOlxuICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2RyYWdzdGFydFxuICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RyYWdFdmVudFxuICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RhdGFUcmFuc2ZlclxuICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RhdGFUcmFuc2Zlci9zZXREYXRhXG4gICAgKiBodHRwOi8vZGVmaW5pdGVseXR5cGVkLm9yZy9kb2NzL2ZsaXBzbmFwLS1mbGlwc25hcC9pbnRlcmZhY2VzL2h0bWxlbGVtZW50Lmh0bWxcbiAgICAqIEBwYXJhbSBldmVudCBcbiAgICAqL1xuICAgIHB1YmxpYyBkcmFnc3RhcnQgPSAoZXZlbnQ6IERyYWdFdmVudCwgZW1vamk6IEVtb2ppKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnZHJhZ3N0YXJ0IGV2ZW50IHJlY2V2aWVkIGluIHRhcmdldC4uOicpO1xuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoZXZlbnQpO1xuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoZW1vamkpO1xuXG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCdlbW9qaScsIEpTT04uc3RyaW5naWZ5KGVtb2ppKSk7XG4gICAgfVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC9kcmF3aW5nbGlicmFyeS9kcmFnZXZlbnRzLnNlcnZpY2UudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBeUJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXZEQTtBQUdBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQ0E7QUFBQTtBQTVEQTtBQURBO0FBS0E7QUFKQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///839\n");

/***/ }),

/***/ 840:
/* no static exports found */
/* all exports used */
/*!*********************************************************************!*\
  !*** ./src/app/modules/gameloop/drawinglibrary/imgqueue.service.ts ***!
  \*********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar _1 = __webpack_require__(/*! ./ */ 814);\r\nvar ImgQueueService = (function () {\r\n    function ImgQueueService(dragEvents, logger) {\r\n        var _this = this;\r\n        this.dragEvents = dragEvents;\r\n        this.logger = logger;\r\n        this.touchend = function (event) {\r\n            if (!_this.controlsOpen) {\r\n                var imgElem = (event.target);\r\n                var id = imgElem.getAttribute('imgId');\r\n                var emoji = _this.imgQueue.get(id);\r\n                _this.touchEvents.touchend(event, emoji);\r\n            }\r\n        };\r\n        /**\r\n         * Will accept a custom event of \"touchdragdrop\", which\r\n         * includes a \"detail\" property which is the image/emoji\r\n         * object we want to add to the queue\r\n         */\r\n        this.touchdragdrop = function (event) {\r\n            _this.logger.log('img queue touch drag and drop event received');\r\n            var emoji = event.detail.img;\r\n            _this.addImageToQueue(emoji);\r\n        };\r\n        /**\r\n         * Responsible for parsing an image source url\r\n         * and generating a HTMLImageElement which will be\r\n         * appended to this image queues stack\r\n         * @param src - img src url\r\n         * @param size - img original size as ImgAttributes interface\r\n         */\r\n        /*\r\n        parseThenAddToQueue(src: string, size: string) {\r\n            let img = new Image();\r\n            img.id = 'queueImg';\r\n            img.draggable = true;\r\n            img.addEventListener('dragstart', this.dragEvents.dragstart);\r\n            img.onload = (ev: Event) => {\r\n    \r\n                if (ev) {\r\n                    this.logger.object(ev);\r\n                }\r\n    \r\n                if (size) {\r\n                    let sizeObj: ImgAttributes = JSON.parse(size);\r\n                    img.setAttribute('resizeWidth', sizeObj.width.toString());\r\n                    img.setAttribute('resizeHeight', sizeObj.height.toString());\r\n                }\r\n    \r\n                // add the new image to the queue\r\n                this.addImageToQueue(img);\r\n    \r\n            };\r\n    \r\n            // set the source variable which will immediately start\r\n            // trying to load the image (hence defining onload first)\r\n            img.src = src;\r\n        }*/\r\n        this.dragstart = function (event) {\r\n            if (!_this.controlsOpen) {\r\n                var imgElem = (event.target);\r\n                var id = imgElem.getAttribute('imgId');\r\n                var emoji = _this.imgQueue.get(id);\r\n                _this.dragEvents.dragstart(event, emoji);\r\n            }\r\n        };\r\n        this.queueLimit = 1;\r\n        this.imgQueueArr = new Array();\r\n        this.imgQueue = new Map();\r\n    }\r\n    ImgQueueService.prototype.initTouchEventListener = function () {\r\n        this.touchEvents = new _1.TouchEventsHandler(this.logger);\r\n        this.touchEvents.initTouchListeners();\r\n        // add touch support\r\n        this.imgQueueElem = document.getElementById('img-queue');\r\n        //this.logger.object(this.imgQueueElem);\r\n        this.imgQueueElem.addEventListener('touchdragdrop', this.touchdragdrop);\r\n    };\r\n    /**\r\n     * Applied to an 'edit image' button which will add the\r\n     * last added image to the resize editor\r\n     */\r\n    ImgQueueService.prototype.editImage = function (editor) {\r\n        var imgToEdit = this.imgQueueArr[this.imgQueueArr.length - 1];\r\n        var img = this.imgQueue.get(imgToEdit);\r\n        editor.acceptImgToEdit(img);\r\n    };\r\n    /**\r\n     * Used to determine if the edit image button will be enabled\r\n     * or not\r\n     */\r\n    ImgQueueService.prototype.editButtonEnabled = function () {\r\n        return (this.imgQueueArr && this.imgQueueArr.length > 0 &&\r\n            this.imgQueue && this.imgQueue.size > 0);\r\n    };\r\n    /**\r\n    * This drop DragEvent handler is used to capture the image\r\n    * dropped onto the space on the test component where the images\r\n    * are being dropped into a queue\r\n    * @param event - drag event\r\n    */\r\n    ImgQueueService.prototype.drop = function (event) {\r\n        // this.logger.log('queue drop recevied in target...:');\r\n        // this.logger.object(event);\r\n        if (!this.imgQueueElem) {\r\n            this.imgQueueElem = (event.target);\r\n        }\r\n        var data = event.dataTransfer.getData('emoji');\r\n        // this.logger.log('image src data: ' + data);\r\n        var emoji = JSON.parse(data);\r\n        this.addImageToQueue(emoji);\r\n    };\r\n    /**\r\n     * Applied to the emoji list images click listener,\r\n     * which will add the image to selected image queue.\r\n     * @param event - mouse event\r\n     */\r\n    ImgQueueService.prototype.queueEmoji = function (event, emoji) {\r\n        this.logger.log('img queue click event received');\r\n        this.addImageToQueue(emoji);\r\n    };\r\n    /**\r\n     * Responsible for accepting an HTMLImageElement\r\n     * and adding it to our image queue array.\r\n     *\r\n     * The array uses a FIFO process to maintain\r\n     * the size as well as ensuring duplicate images\r\n     * are not added.\r\n     * @param img - img html element\r\n     */\r\n    ImgQueueService.prototype.addImageToQueue = function (img) {\r\n        // this.logger.log('current image queue array:');\r\n        // this.logger.object(this.imgQueueArr);\r\n        if (this.imgQueueArr.length >= this.queueLimit) {\r\n            var imgToRemove = this.imgQueueArr.shift();\r\n            this.imgQueue.delete(imgToRemove);\r\n        }\r\n        // Remove any previous queue image of the same type\r\n        this.imgQueueArr = this.imgQueueArr.filter(function (imgKey) {\r\n            return img.id !== imgKey;\r\n        });\r\n        this.imgQueue.delete(img.id);\r\n        // Add to queue\r\n        this.imgQueue.set(img.id, img);\r\n        this.imgQueueArr.push(img.id);\r\n        // this.logger.log('post update image queue:');\r\n        // this.logger.object(this.imgQueueArr);\r\n        this.updateImgQueueElem();\r\n    };\r\n    ImgQueueService.prototype.getImgElement = function (img) {\r\n        var imgElem = new Image();\r\n        imgElem.id = 'queued-img';\r\n        imgElem.draggable = true;\r\n        imgElem.addEventListener('dragstart', this.dragstart);\r\n        imgElem.addEventListener('touchend', this.touchend);\r\n        imgElem.setAttribute('imgId', img.id);\r\n        imgElem.onload = function (ev) {\r\n            /*if (ev) {\r\n                this.logger.object(ev);\r\n            }*/\r\n        };\r\n        // set the source variable which will immediately start \r\n        // trying to load the image (hence defining onload first)\r\n        imgElem.src = img.dataUrl;\r\n        return imgElem;\r\n    };\r\n    /**\r\n     * Will read the recently updated image queue array\r\n     * and update the queue HTML element to display the\r\n     * images\r\n     */\r\n    ImgQueueService.prototype.updateImgQueueElem = function () {\r\n        var _this = this;\r\n        if (!this.imgQueueElem) {\r\n            this.imgQueueElem = document.getElementById('img-queue');\r\n        }\r\n        this.logger.log('updating image queue element');\r\n        // this.logger.log('current image queue element:');\r\n        //this.logger.object(this.imgQueueElem);\r\n        while (this.imgQueueElem.firstChild) {\r\n            this.imgQueueElem.removeChild(this.imgQueueElem.firstChild);\r\n        }\r\n        //this.logger.log('image queue element emptied:');\r\n        //this.logger.object(this.imgQueueElem);\r\n        //let newImageList: HTMLUListElement = document.createElement('ul');\r\n        //newImageList.id = 'imgQueueList';\r\n        //this.logger.log('looping thru image array to append element');\r\n        this.imgQueue.forEach(function (img) {\r\n            var newListItem = document.createElement('div');\r\n            newListItem.appendChild(_this.getImgElement(img));\r\n            _this.imgQueueElem.appendChild(newListItem);\r\n        });\r\n        //this.imgQueueElem.appendChild(newImageList);\r\n        for (var i = 0; i < this.imgQueueElem.children.length; i++) {\r\n            var node = this.imgQueueElem.children.item(i);\r\n            var img = node.firstElementChild;\r\n            this.logger.log('image queue list node #' + i + ':');\r\n            this.logger.object(img);\r\n            this.logger.object(img.getBoundingClientRect());\r\n        }\r\n        //this.logger.log('post update image queue element:');\r\n        //this.logger.object(this.imgQueueElem);\r\n    };\r\n    return ImgQueueService;\r\n}());\r\nImgQueueService = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [_1.DragEventsHandler,\r\n        shared_1.LoggingService])\r\n], ImgQueueService);\r\nexports.ImgQueueService = ImgQueueService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQwLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdsaWJyYXJ5XFxpbWdxdWV1ZS5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFZlbmRvciBJbXBvcnRzXG5pbXBvcnQgeyBJbmplY3RhYmxlLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQge1xuICAgIEVtb2ppLFxuICAgIERyYWdFdmVudHNIYW5kbGVyLFxuICAgIFJlc2l6ZUVkaXRvclNlcnZpY2UsXG4gICAgVG91Y2hFdmVudHNIYW5kbGVyXG59IGZyb20gJy4vJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEltZ1F1ZXVlU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgaW1nUXVldWU6IE1hcDxzdHJpbmcsIEVtb2ppPjtcbiAgICBwcm90ZWN0ZWQgaW1nUXVldWVBcnI6IEFycmF5PHN0cmluZz47XG4gICAgcHJvdGVjdGVkIGltZ1F1ZXVlRWxlbTogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIHF1ZXVlTGltaXQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgdG91Y2hFdmVudHM6IFRvdWNoRXZlbnRzSGFuZGxlcjtcblxuICAgIHB1YmxpYyBjb250cm9sc09wZW46IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGRyYWdFdmVudHM6IERyYWdFdmVudHNIYW5kbGVyLFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSkge1xuICAgICAgICB0aGlzLnF1ZXVlTGltaXQgPSAxO1xuICAgICAgICB0aGlzLmltZ1F1ZXVlQXJyID0gbmV3IEFycmF5PHN0cmluZz4oKTtcbiAgICAgICAgdGhpcy5pbWdRdWV1ZSA9IG5ldyBNYXA8c3RyaW5nLCBFbW9qaT4oKTtcbiAgICB9XG5cbiAgICBpbml0VG91Y2hFdmVudExpc3RlbmVyKCkge1xuICAgICAgICB0aGlzLnRvdWNoRXZlbnRzID0gbmV3IFRvdWNoRXZlbnRzSGFuZGxlcih0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMudG91Y2hFdmVudHMuaW5pdFRvdWNoTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgLy8gYWRkIHRvdWNoIHN1cHBvcnRcbiAgICAgICAgdGhpcy5pbWdRdWV1ZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nLXF1ZXVlJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KHRoaXMuaW1nUXVldWVFbGVtKTtcbiAgICAgICAgdGhpcy5pbWdRdWV1ZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hkcmFnZHJvcCcsIHRoaXMudG91Y2hkcmFnZHJvcCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllZCB0byBhbiAnZWRpdCBpbWFnZScgYnV0dG9uIHdoaWNoIHdpbGwgYWRkIHRoZSBcbiAgICAgKiBsYXN0IGFkZGVkIGltYWdlIHRvIHRoZSByZXNpemUgZWRpdG9yXG4gICAgICovXG4gICAgZWRpdEltYWdlKGVkaXRvcjogUmVzaXplRWRpdG9yU2VydmljZSkge1xuICAgICAgICBsZXQgaW1nVG9FZGl0ID0gdGhpcy5pbWdRdWV1ZUFyclt0aGlzLmltZ1F1ZXVlQXJyLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgaW1nID0gdGhpcy5pbWdRdWV1ZS5nZXQoaW1nVG9FZGl0KTtcbiAgICAgICAgZWRpdG9yLmFjY2VwdEltZ1RvRWRpdChpbWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBlZGl0IGltYWdlIGJ1dHRvbiB3aWxsIGJlIGVuYWJsZWQgXG4gICAgICogb3Igbm90XG4gICAgICovXG4gICAgZWRpdEJ1dHRvbkVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLmltZ1F1ZXVlQXJyICYmIHRoaXMuaW1nUXVldWVBcnIubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5pbWdRdWV1ZSAmJiB0aGlzLmltZ1F1ZXVlLnNpemUgPiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFRoaXMgZHJvcCBEcmFnRXZlbnQgaGFuZGxlciBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIGltYWdlXG4gICAgKiBkcm9wcGVkIG9udG8gdGhlIHNwYWNlIG9uIHRoZSB0ZXN0IGNvbXBvbmVudCB3aGVyZSB0aGUgaW1hZ2VzXG4gICAgKiBhcmUgYmVpbmcgZHJvcHBlZCBpbnRvIGEgcXVldWVcbiAgICAqIEBwYXJhbSBldmVudCAtIGRyYWcgZXZlbnRcbiAgICAqL1xuICAgIGRyb3AoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coJ3F1ZXVlIGRyb3AgcmVjZXZpZWQgaW4gdGFyZ2V0Li4uOicpO1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5vYmplY3QoZXZlbnQpO1xuICAgICAgICBpZiAoIXRoaXMuaW1nUXVldWVFbGVtKSB7XG4gICAgICAgICAgICB0aGlzLmltZ1F1ZXVlRWxlbSA9ICgoZXZlbnQudGFyZ2V0KSBhcyBIVE1MRGl2RWxlbWVudCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2Vtb2ppJyk7XG4gICAgICAgIC8vIHRoaXMubG9nZ2VyLmxvZygnaW1hZ2Ugc3JjIGRhdGE6ICcgKyBkYXRhKTtcblxuICAgICAgICBsZXQgZW1vamkgPSBKU09OLnBhcnNlKGRhdGEpIGFzIEVtb2ppO1xuICAgICAgICB0aGlzLmFkZEltYWdlVG9RdWV1ZShlbW9qaSk7XG4gICAgfVxuXG4gICAgdG91Y2hlbmQgPSAoZXZlbnQ6IFRvdWNoRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzT3Blbikge1xuICAgICAgICAgICAgbGV0IGltZ0VsZW0gPSAoKGV2ZW50LnRhcmdldCkgYXMgSFRNTEltYWdlRWxlbWVudCk7XG4gICAgICAgICAgICBsZXQgaWQgPSBpbWdFbGVtLmdldEF0dHJpYnV0ZSgnaW1nSWQnKTtcbiAgICAgICAgICAgIGxldCBlbW9qaSA9IHRoaXMuaW1nUXVldWUuZ2V0KGlkKTtcbiAgICAgICAgICAgIHRoaXMudG91Y2hFdmVudHMudG91Y2hlbmQoZXZlbnQsIGVtb2ppKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgYWNjZXB0IGEgY3VzdG9tIGV2ZW50IG9mIFwidG91Y2hkcmFnZHJvcFwiLCB3aGljaFxuICAgICAqIGluY2x1ZGVzIGEgXCJkZXRhaWxcIiBwcm9wZXJ0eSB3aGljaCBpcyB0aGUgaW1hZ2UvZW1vamkgXG4gICAgICogb2JqZWN0IHdlIHdhbnQgdG8gYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAqL1xuICAgIHRvdWNoZHJhZ2Ryb3AgPSAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaW1nIHF1ZXVlIHRvdWNoIGRyYWcgYW5kIGRyb3AgZXZlbnQgcmVjZWl2ZWQnKTtcbiAgICAgICAgbGV0IGVtb2ppID0gZXZlbnQuZGV0YWlsLmltZztcbiAgICAgICAgdGhpcy5hZGRJbWFnZVRvUXVldWUoZW1vamkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZWQgdG8gdGhlIGVtb2ppIGxpc3QgaW1hZ2VzIGNsaWNrIGxpc3RlbmVyLCBcbiAgICAgKiB3aGljaCB3aWxsIGFkZCB0aGUgaW1hZ2UgdG8gc2VsZWN0ZWQgaW1hZ2UgcXVldWUuIFxuICAgICAqIEBwYXJhbSBldmVudCAtIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgcXVldWVFbW9qaShldmVudDogTW91c2VFdmVudCwgZW1vamk6IEVtb2ppKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaW1nIHF1ZXVlIGNsaWNrIGV2ZW50IHJlY2VpdmVkJyk7XG4gICAgICAgIHRoaXMuYWRkSW1hZ2VUb1F1ZXVlKGVtb2ppKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgcGFyc2luZyBhbiBpbWFnZSBzb3VyY2UgdXJsIFxuICAgICAqIGFuZCBnZW5lcmF0aW5nIGEgSFRNTEltYWdlRWxlbWVudCB3aGljaCB3aWxsIGJlIFxuICAgICAqIGFwcGVuZGVkIHRvIHRoaXMgaW1hZ2UgcXVldWVzIHN0YWNrXG4gICAgICogQHBhcmFtIHNyYyAtIGltZyBzcmMgdXJsXG4gICAgICogQHBhcmFtIHNpemUgLSBpbWcgb3JpZ2luYWwgc2l6ZSBhcyBJbWdBdHRyaWJ1dGVzIGludGVyZmFjZVxuICAgICAqL1xuICAgIC8qXG4gICAgcGFyc2VUaGVuQWRkVG9RdWV1ZShzcmM6IHN0cmluZywgc2l6ZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLmlkID0gJ3F1ZXVlSW1nJztcbiAgICAgICAgaW1nLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdFdmVudHMuZHJhZ3N0YXJ0KTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IChldjogRXZlbnQpID0+IHtcblxuICAgICAgICAgICAgaWYgKGV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGV2KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2l6ZU9iajogSW1nQXR0cmlidXRlcyA9IEpTT04ucGFyc2Uoc2l6ZSk7XG4gICAgICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgncmVzaXplV2lkdGgnLCBzaXplT2JqLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3Jlc2l6ZUhlaWdodCcsIHNpemVPYmouaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIG5ldyBpbWFnZSB0byB0aGUgcXVldWVcbiAgICAgICAgICAgIHRoaXMuYWRkSW1hZ2VUb1F1ZXVlKGltZyk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgdGhlIHNvdXJjZSB2YXJpYWJsZSB3aGljaCB3aWxsIGltbWVkaWF0ZWx5IHN0YXJ0IFxuICAgICAgICAvLyB0cnlpbmcgdG8gbG9hZCB0aGUgaW1hZ2UgKGhlbmNlIGRlZmluaW5nIG9ubG9hZCBmaXJzdClcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICB9Ki9cblxuICAgIGRyYWdzdGFydCA9IChldmVudDogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5jb250cm9sc09wZW4pIHtcbiAgICAgICAgICAgIGxldCBpbWdFbGVtID0gKChldmVudC50YXJnZXQpIGFzIEhUTUxJbWFnZUVsZW1lbnQpO1xuICAgICAgICAgICAgbGV0IGlkID0gaW1nRWxlbS5nZXRBdHRyaWJ1dGUoJ2ltZ0lkJyk7XG4gICAgICAgICAgICBsZXQgZW1vamkgPSB0aGlzLmltZ1F1ZXVlLmdldChpZCk7XG4gICAgICAgICAgICB0aGlzLmRyYWdFdmVudHMuZHJhZ3N0YXJ0KGV2ZW50LCBlbW9qaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgYWNjZXB0aW5nIGFuIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgKiBhbmQgYWRkaW5nIGl0IHRvIG91ciBpbWFnZSBxdWV1ZSBhcnJheS4gXG4gICAgICogXG4gICAgICogVGhlIGFycmF5IHVzZXMgYSBGSUZPIHByb2Nlc3MgdG8gbWFpbnRhaW4gXG4gICAgICogdGhlIHNpemUgYXMgd2VsbCBhcyBlbnN1cmluZyBkdXBsaWNhdGUgaW1hZ2VzXG4gICAgICogYXJlIG5vdCBhZGRlZC5cbiAgICAgKiBAcGFyYW0gaW1nIC0gaW1nIGh0bWwgZWxlbWVudFxuICAgICAqL1xuICAgIGFkZEltYWdlVG9RdWV1ZShpbWc6IEVtb2ppKSB7XG5cbiAgICAgICAgLy8gdGhpcy5sb2dnZXIubG9nKCdjdXJyZW50IGltYWdlIHF1ZXVlIGFycmF5OicpO1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5vYmplY3QodGhpcy5pbWdRdWV1ZUFycik7XG5cbiAgICAgICAgaWYgKHRoaXMuaW1nUXVldWVBcnIubGVuZ3RoID49IHRoaXMucXVldWVMaW1pdCkge1xuICAgICAgICAgICAgbGV0IGltZ1RvUmVtb3ZlID0gdGhpcy5pbWdRdWV1ZUFyci5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5pbWdRdWV1ZS5kZWxldGUoaW1nVG9SZW1vdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFueSBwcmV2aW91cyBxdWV1ZSBpbWFnZSBvZiB0aGUgc2FtZSB0eXBlXG4gICAgICAgIHRoaXMuaW1nUXVldWVBcnIgPSB0aGlzLmltZ1F1ZXVlQXJyLmZpbHRlcihpbWdLZXkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGltZy5pZCAhPT0gaW1nS2V5O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbWdRdWV1ZS5kZWxldGUoaW1nLmlkKTtcblxuICAgICAgICAvLyBBZGQgdG8gcXVldWVcbiAgICAgICAgdGhpcy5pbWdRdWV1ZS5zZXQoaW1nLmlkLCBpbWcpO1xuICAgICAgICB0aGlzLmltZ1F1ZXVlQXJyLnB1c2goaW1nLmlkKTtcblxuICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coJ3Bvc3QgdXBkYXRlIGltYWdlIHF1ZXVlOicpO1xuICAgICAgICAvLyB0aGlzLmxvZ2dlci5vYmplY3QodGhpcy5pbWdRdWV1ZUFycik7XG5cbiAgICAgICAgdGhpcy51cGRhdGVJbWdRdWV1ZUVsZW0oKTtcblxuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRJbWdFbGVtZW50KGltZzogRW1vamkpOiBIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICAgICAgbGV0IGltZ0VsZW0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nRWxlbS5pZCA9ICdxdWV1ZWQtaW1nJztcbiAgICAgICAgaW1nRWxlbS5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICBpbWdFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ3N0YXJ0KTtcbiAgICAgICAgaW1nRWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMudG91Y2hlbmQpO1xuICAgICAgICBpbWdFbGVtLnNldEF0dHJpYnV0ZSgnaW1nSWQnLCBpbWcuaWQpO1xuICAgICAgICBpbWdFbGVtLm9ubG9hZCA9IChldjogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8qaWYgKGV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGV2KTtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCB0aGUgc291cmNlIHZhcmlhYmxlIHdoaWNoIHdpbGwgaW1tZWRpYXRlbHkgc3RhcnQgXG4gICAgICAgIC8vIHRyeWluZyB0byBsb2FkIHRoZSBpbWFnZSAoaGVuY2UgZGVmaW5pbmcgb25sb2FkIGZpcnN0KVxuICAgICAgICBpbWdFbGVtLnNyYyA9IGltZy5kYXRhVXJsO1xuICAgICAgICByZXR1cm4gaW1nRWxlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJlYWQgdGhlIHJlY2VudGx5IHVwZGF0ZWQgaW1hZ2UgcXVldWUgYXJyYXlcbiAgICAgKiBhbmQgdXBkYXRlIHRoZSBxdWV1ZSBIVE1MIGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgXG4gICAgICogaW1hZ2VzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZUltZ1F1ZXVlRWxlbSgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuaW1nUXVldWVFbGVtKSB7XG4gICAgICAgICAgICB0aGlzLmltZ1F1ZXVlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWctcXVldWUnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3VwZGF0aW5nIGltYWdlIHF1ZXVlIGVsZW1lbnQnKTtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIubG9nKCdjdXJyZW50IGltYWdlIHF1ZXVlIGVsZW1lbnQ6Jyk7XG4gICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KHRoaXMuaW1nUXVldWVFbGVtKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5pbWdRdWV1ZUVsZW0uZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5pbWdRdWV1ZUVsZW0ucmVtb3ZlQ2hpbGQodGhpcy5pbWdRdWV1ZUVsZW0uZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3RoaXMubG9nZ2VyLmxvZygnaW1hZ2UgcXVldWUgZWxlbWVudCBlbXB0aWVkOicpO1xuICAgICAgICAvL3RoaXMubG9nZ2VyLm9iamVjdCh0aGlzLmltZ1F1ZXVlRWxlbSk7XG5cbiAgICAgICAgLy9sZXQgbmV3SW1hZ2VMaXN0OiBIVE1MVUxpc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgICAgLy9uZXdJbWFnZUxpc3QuaWQgPSAnaW1nUXVldWVMaXN0JztcblxuICAgICAgICAvL3RoaXMubG9nZ2VyLmxvZygnbG9vcGluZyB0aHJ1IGltYWdlIGFycmF5IHRvIGFwcGVuZCBlbGVtZW50Jyk7XG4gICAgICAgIHRoaXMuaW1nUXVldWUuZm9yRWFjaChpbWcgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld0xpc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBuZXdMaXN0SXRlbS5hcHBlbmRDaGlsZCh0aGlzLmdldEltZ0VsZW1lbnQoaW1nKSk7XG4gICAgICAgICAgICB0aGlzLmltZ1F1ZXVlRWxlbS5hcHBlbmRDaGlsZChuZXdMaXN0SXRlbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vdGhpcy5pbWdRdWV1ZUVsZW0uYXBwZW5kQ2hpbGQobmV3SW1hZ2VMaXN0KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW1nUXVldWVFbGVtLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuaW1nUXVldWVFbGVtLmNoaWxkcmVuLml0ZW0oaSk7XG4gICAgICAgICAgICBsZXQgaW1nID0gbm9kZS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaW1hZ2UgcXVldWUgbGlzdCBub2RlICMnICsgaSArICc6Jyk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoaW1nKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdChpbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90aGlzLmxvZ2dlci5sb2coJ3Bvc3QgdXBkYXRlIGltYWdlIHF1ZXVlIGVsZW1lbnQ6Jyk7XG4gICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KHRoaXMuaW1nUXVldWVFbGVtKTtcblxuICAgIH1cblxuXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdsaWJyYXJ5L2ltZ3F1ZXVlLnNlcnZpY2UudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBVUE7QUFBQTtBQUNBO0FBQ0E7QUF5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7Ozs7OztBQU1BO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFzQkE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOENBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFyUEE7QUFEQTtBQVlBO0FBQ0E7QUFaQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///840\n");

/***/ }),

/***/ 841:
/* no static exports found */
/* all exports used */
/*!*************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawinglibrary/resizeeditor.service.ts ***!
  \*************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar _1 = __webpack_require__(/*! ./ */ 814);\r\nvar ResizeEditorService = (function () {\r\n    function ResizeEditorService(dragEvents, logger) {\r\n        var _this = this;\r\n        this.dragEvents = dragEvents;\r\n        this.logger = logger;\r\n        this.dragstart = function (event) {\r\n            _this.dragEvents.dragstart(event, _this.getImg());\r\n        };\r\n        this.touchend = function (event) {\r\n            _this.touchEvents.touchend(event, _this.getImg());\r\n        };\r\n        /**\r\n         * Will accept a custom event of \"touchdragdrop\", which\r\n         * includes a \"detail\" property which is the image/emoji\r\n         * object we want to add to the editor\r\n         */\r\n        this.touchdragdrop = function (event) {\r\n            _this.logger.log('img editor touch drag and drop event received');\r\n            var emoji = event.detail.img;\r\n            _this.acceptImgToEdit(emoji);\r\n        };\r\n        this.sliderLastVal = 0;\r\n    }\r\n    ResizeEditorService.prototype.initTouchEventListener = function () {\r\n        // add touch support\r\n        this.touchEvents = new _1.TouchEventsHandler(this.logger);\r\n        this.touchEvents.initTouchListeners();\r\n        if (!this.resizeDiv) {\r\n            this.logger.log('resize-area during initTouchEvents');\r\n            this.resizeDiv = document.getElementById('resize-area');\r\n            //this.logger.object('height: ' + this.resizeDiv.offsetHeight + ' | width: ' + this.resizeDiv.offsetWidth);\r\n        }\r\n        this.resizeDiv.addEventListener('touchdragdrop', this.touchdragdrop);\r\n    };\r\n    ResizeEditorService.prototype.acceptImgToEdit = function (imgToEdit) {\r\n        // remove any previous entries\r\n        this.resetEditorTarget();\r\n        this.img = imgToEdit;\r\n        this.addImgToEditor();\r\n    };\r\n    /**\r\n    * This drop DragEvent handler is used to capture the image\r\n    * dropped onto the space on the test component where the images\r\n    * are being dragged onto to be resized\r\n    * @param event - drag event\r\n    */\r\n    ResizeEditorService.prototype.drop = function (event) {\r\n        this.logger.log('drop recevied in img editor..:');\r\n        // this.logger.object(event);\r\n        var data = event.dataTransfer.getData('emoji');\r\n        var img = JSON.parse(data);\r\n        this.logger.object(img);\r\n        if (!this.resizeDiv) {\r\n            this.resizeDiv = (event.target);\r\n        }\r\n        this.acceptImgToEdit(img);\r\n    };\r\n    /**\r\n     * Applied to the 'done editing' button. This\r\n     * method will proceed to provide the ImgQueueService\r\n     * function parseThenAddToQueue with the necessary data\r\n     * to add the editied image to the queue.\r\n     */\r\n    ResizeEditorService.prototype.doneEditing = function (queue) {\r\n        queue.addImageToQueue(this.getImg());\r\n        this.resetEditorCanvas();\r\n        this.resetEditorTarget();\r\n    };\r\n    /**\r\n     * Used to speccify if the done editing button is enabled\r\n     */\r\n    ResizeEditorService.prototype.doneEditingEnabled = function () {\r\n        if (!this.imgElement) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     *\r\n     * References:\r\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/UIEvent\r\n     * @param event\r\n     */\r\n    ResizeEditorService.prototype.sliderChanged = function (event) {\r\n        // this.logger.log('slider event recieved');\r\n        // this.logger.object(event);\r\n        var slider = event.target;\r\n        if (!this.slider) {\r\n            this.slider = slider;\r\n        }\r\n        // this.logger.log('value: ' + slider.value);\r\n        this.updateImageSize(+slider.value);\r\n    };\r\n    ResizeEditorService.prototype.getImg = function () {\r\n        if (this.newSize) {\r\n            var resizedImg = this.img;\r\n            resizedImg.attributes = this.newSize;\r\n            return resizedImg;\r\n        }\r\n        else {\r\n            return this.img;\r\n        }\r\n    };\r\n    ResizeEditorService.prototype.resetEditorTarget = function () {\r\n        this.img = null;\r\n        this.imgElement = null;\r\n        this.newSize = null;\r\n        this.originalSize = null;\r\n    };\r\n    ResizeEditorService.prototype.resetEditorCanvas = function () {\r\n        // Reset slider\r\n        if (this.slider) {\r\n            this.slider.value = '0';\r\n            this.sliderLastVal = 0;\r\n        }\r\n        if (this.resizeDiv) {\r\n            /**\r\n            * Will iterate through all child nodes of the\r\n            * img editor element and remove them.\r\n            */\r\n            while (this.resizeDiv.firstChild) {\r\n                this.resizeDiv.removeChild(this.resizeDiv.firstChild);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Provided a src url, this function will load and add\r\n     * the image to the editor\r\n     */\r\n    ResizeEditorService.prototype.addImgToEditor = function () {\r\n        var _this = this;\r\n        if (!this.resizeDiv) {\r\n            //this.logger.log('resize-area during addImgEvent');\r\n            this.resizeDiv = document.getElementById('resize-area');\r\n            //this.logger.object('height: ' + this.resizeDiv.offsetHeight + 'width: ' + this.resizeDiv.offsetWidth);\r\n        }\r\n        var img = new Image();\r\n        img.id = 'resize-img';\r\n        img.draggable = true;\r\n        img.addEventListener('dragstart', this.dragstart);\r\n        img.addEventListener('touchend', this.touchend);\r\n        img.onload = function (ev) {\r\n            /*if (ev) {\r\n                this.logger.object(ev);\r\n            }*/\r\n            // reset the editor div\r\n            _this.resetEditorCanvas();\r\n            // add the new image\r\n            _this.resizeDiv.appendChild(img);\r\n            if (_this.img.attributes) {\r\n                img.width = _this.img.attributes.width;\r\n                img.height = _this.img.attributes.height;\r\n            }\r\n            _this.originalSize = {\r\n                width: img.width,\r\n                height: img.height\r\n            };\r\n            // set the global varriables\r\n            _this.imgElement = img;\r\n        };\r\n        // set the source variable which will immediately start \r\n        // trying to load the image (hence defining onload first)\r\n        img.src = this.img.dataUrl;\r\n    };\r\n    /**\r\n     * Will update the images size adding the sliders increment\r\n     * to the width and height and re-calculating aspect ratio if\r\n     * necessary\r\n     * @param sliderValue - number\r\n     */\r\n    ResizeEditorService.prototype.updateImageSize = function (sliderValue) {\r\n        var sliderDelta;\r\n        sliderDelta = Math.sqrt(Math.pow(sliderValue - this.sliderLastVal, 2));\r\n        if (sliderValue < this.sliderLastVal) {\r\n            sliderDelta *= -1;\r\n        }\r\n        this.sliderLastVal = sliderValue;\r\n        var log = {\r\n            sliderVal: sliderValue,\r\n            lastVal: this.sliderLastVal,\r\n            delta: sliderDelta\r\n        };\r\n        this.logger.object(log);\r\n        if (sliderValue === 0) {\r\n            this.imgElement.width = this.originalSize.width;\r\n            this.imgElement.height = this.originalSize.height;\r\n            this.sliderLastVal = 0;\r\n        }\r\n        else {\r\n            var proposedWidth = void 0;\r\n            var proposedHeight = void 0;\r\n            proposedWidth = this.imgElement.width + sliderDelta;\r\n            proposedHeight = this.imgElement.height + sliderDelta;\r\n            //this.logger.log('proposed size -> width:  ' + proposedWidth + ' height: ' + proposedHeight);\r\n            var isWiderThanContainer = (proposedWidth > this.resizeDiv.clientWidth);\r\n            var isTallerThanContainer = (proposedHeight > this.resizeDiv.clientHeight);\r\n            var requiresAspectRatio = isWiderThanContainer || isTallerThanContainer;\r\n            if (requiresAspectRatio) {\r\n                this.logger.log('new size requires aspect ratio calc..');\r\n                this.newSize = this.calculateAspectRatioFit(proposedWidth, proposedHeight);\r\n            }\r\n            else {\r\n                this.newSize = { width: proposedWidth, height: proposedHeight };\r\n            }\r\n            this.logger.object(this.newSize);\r\n            /*\r\n            this.imgElement.setAttribute('resizeWidth', newSize.width.toString());\r\n            this.imgElement.setAttribute('resizeHeight', newSize.height.toString());\r\n            */\r\n            this.imgElement.width = this.newSize.width;\r\n            this.imgElement.height = this.newSize.height;\r\n            this.logger.log('image after resize: ');\r\n            this.logger.object(this.imgElement);\r\n        }\r\n    };\r\n    /**\r\n     * Ensures that the new size of the image maintains aspect ratio\r\n     * when larget than the container\r\n     *\r\n     * Reference:\r\n     * https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n     * @param proposedWidth\r\n     * @param proposedHeight\r\n     */\r\n    ResizeEditorService.prototype.calculateAspectRatioFit = function (proposedWidth, proposedHeight) {\r\n        var widthRatio = this.resizeDiv.clientWidth / proposedWidth;\r\n        var heightRatio = this.resizeDiv.clientHeight / proposedHeight;\r\n        var ratio = Math.min(widthRatio, heightRatio);\r\n        this.logger.log('widthRatio: ' + widthRatio);\r\n        this.logger.log('heightRatio: ' + heightRatio);\r\n        this.logger.log('aspectRatio: ' + ratio);\r\n        return { width: proposedWidth * ratio, height: proposedHeight * ratio };\r\n    };\r\n    return ResizeEditorService;\r\n}());\r\nResizeEditorService = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [_1.DragEventsHandler,\r\n        shared_1.LoggingService])\r\n], ResizeEditorService);\r\nexports.ResizeEditorService = ResizeEditorService;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQxLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdsaWJyYXJ5XFxyZXNpemVlZGl0b3Iuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQge1xuICAgIEVtb2ppLFxuICAgIEltZ0F0dHJpYnV0ZXMsXG4gICAgSW1nUXVldWVTZXJ2aWNlLFxuICAgIERyYWdFdmVudHNIYW5kbGVyLFxuICAgIFRvdWNoRXZlbnRzSGFuZGxlclxufSBmcm9tICcuLyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBSZXNpemVFZGl0b3JTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBpbWc6IEVtb2ppO1xuICAgIHByb3RlY3RlZCBvcmlnaW5hbFNpemU6IEltZ0F0dHJpYnV0ZXM7XG4gICAgcHJvdGVjdGVkIG5ld1NpemU6IEltZ0F0dHJpYnV0ZXM7XG4gICAgcHJvdGVjdGVkIGltZ0VsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIHJlc2l6ZURpdjogSFRNTERpdkVsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIHNsaWRlcjogSFRNTElucHV0RWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgc2xpZGVyTGFzdFZhbDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB0b3VjaEV2ZW50czogVG91Y2hFdmVudHNIYW5kbGVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBkcmFnRXZlbnRzOiBEcmFnRXZlbnRzSGFuZGxlcixcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogTG9nZ2luZ1NlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5zbGlkZXJMYXN0VmFsID0gMDtcbiAgICB9XG5cbiAgICBpbml0VG91Y2hFdmVudExpc3RlbmVyKCkge1xuICAgICAgICAvLyBhZGQgdG91Y2ggc3VwcG9ydFxuXG4gICAgICAgIHRoaXMudG91Y2hFdmVudHMgPSBuZXcgVG91Y2hFdmVudHNIYW5kbGVyKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy50b3VjaEV2ZW50cy5pbml0VG91Y2hMaXN0ZW5lcnMoKTtcblxuXG4gICAgICAgIGlmICghdGhpcy5yZXNpemVEaXYpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygncmVzaXplLWFyZWEgZHVyaW5nIGluaXRUb3VjaEV2ZW50cycpO1xuICAgICAgICAgICAgdGhpcy5yZXNpemVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzaXplLWFyZWEnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgICAgIC8vdGhpcy5sb2dnZXIub2JqZWN0KCdoZWlnaHQ6ICcgKyB0aGlzLnJlc2l6ZURpdi5vZmZzZXRIZWlnaHQgKyAnIHwgd2lkdGg6ICcgKyB0aGlzLnJlc2l6ZURpdi5vZmZzZXRXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2l6ZURpdi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGRyYWdkcm9wJywgdGhpcy50b3VjaGRyYWdkcm9wKTtcbiAgICB9XG5cbiAgICBhY2NlcHRJbWdUb0VkaXQoaW1nVG9FZGl0OiBFbW9qaSkge1xuICAgICAgICAvLyByZW1vdmUgYW55IHByZXZpb3VzIGVudHJpZXNcbiAgICAgICAgdGhpcy5yZXNldEVkaXRvclRhcmdldCgpO1xuICAgICAgICB0aGlzLmltZyA9IGltZ1RvRWRpdDtcbiAgICAgICAgdGhpcy5hZGRJbWdUb0VkaXRvcigpO1xuICAgIH1cblxuICAgIGRyYWdzdGFydCA9IChldmVudDogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuZHJhZ0V2ZW50cy5kcmFnc3RhcnQoZXZlbnQsIHRoaXMuZ2V0SW1nKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhpcyBkcm9wIERyYWdFdmVudCBoYW5kbGVyIGlzIHVzZWQgdG8gY2FwdHVyZSB0aGUgaW1hZ2VcbiAgICAqIGRyb3BwZWQgb250byB0aGUgc3BhY2Ugb24gdGhlIHRlc3QgY29tcG9uZW50IHdoZXJlIHRoZSBpbWFnZXNcbiAgICAqIGFyZSBiZWluZyBkcmFnZ2VkIG9udG8gdG8gYmUgcmVzaXplZFxuICAgICogQHBhcmFtIGV2ZW50IC0gZHJhZyBldmVudFxuICAgICovXG4gICAgZHJvcChldmVudDogRHJhZ0V2ZW50KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnZHJvcCByZWNldmllZCBpbiBpbWcgZWRpdG9yLi46Jyk7XG4gICAgICAgIC8vIHRoaXMubG9nZ2VyLm9iamVjdChldmVudCk7XG4gICAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2Vtb2ppJyk7XG4gICAgICAgIGxldCBpbWcgPSBKU09OLnBhcnNlKGRhdGEpIGFzIEVtb2ppO1xuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoaW1nKTtcblxuICAgICAgICBpZiAoIXRoaXMucmVzaXplRGl2KSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZURpdiA9ICgoZXZlbnQudGFyZ2V0KSBhcyBIVE1MRGl2RWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjY2VwdEltZ1RvRWRpdChpbWcpO1xuICAgIH1cblxuICAgIHRvdWNoZW5kID0gKGV2ZW50OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMudG91Y2hFdmVudHMudG91Y2hlbmQoZXZlbnQsIHRoaXMuZ2V0SW1nKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgYWNjZXB0IGEgY3VzdG9tIGV2ZW50IG9mIFwidG91Y2hkcmFnZHJvcFwiLCB3aGljaFxuICAgICAqIGluY2x1ZGVzIGEgXCJkZXRhaWxcIiBwcm9wZXJ0eSB3aGljaCBpcyB0aGUgaW1hZ2UvZW1vamkgXG4gICAgICogb2JqZWN0IHdlIHdhbnQgdG8gYWRkIHRvIHRoZSBlZGl0b3JcbiAgICAgKi9cbiAgICB0b3VjaGRyYWdkcm9wID0gKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2ltZyBlZGl0b3IgdG91Y2ggZHJhZyBhbmQgZHJvcCBldmVudCByZWNlaXZlZCcpO1xuICAgICAgICBsZXQgZW1vamkgPSBldmVudC5kZXRhaWwuaW1nO1xuICAgICAgICB0aGlzLmFjY2VwdEltZ1RvRWRpdChlbW9qaSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVkIHRvIHRoZSAnZG9uZSBlZGl0aW5nJyBidXR0b24uIFRoaXNcbiAgICAgKiBtZXRob2Qgd2lsbCBwcm9jZWVkIHRvIHByb3ZpZGUgdGhlIEltZ1F1ZXVlU2VydmljZVxuICAgICAqIGZ1bmN0aW9uIHBhcnNlVGhlbkFkZFRvUXVldWUgd2l0aCB0aGUgbmVjZXNzYXJ5IGRhdGFcbiAgICAgKiB0byBhZGQgdGhlIGVkaXRpZWQgaW1hZ2UgdG8gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIGRvbmVFZGl0aW5nKHF1ZXVlOiBJbWdRdWV1ZVNlcnZpY2UpIHtcbiAgICAgICAgcXVldWUuYWRkSW1hZ2VUb1F1ZXVlKHRoaXMuZ2V0SW1nKCkpO1xuICAgICAgICB0aGlzLnJlc2V0RWRpdG9yQ2FudmFzKCk7XG4gICAgICAgIHRoaXMucmVzZXRFZGl0b3JUYXJnZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHNwZWNjaWZ5IGlmIHRoZSBkb25lIGVkaXRpbmcgYnV0dG9uIGlzIGVuYWJsZWRcbiAgICAgKi9cbiAgICBkb25lRWRpdGluZ0VuYWJsZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbWdFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogUmVmZXJlbmNlczpcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXRcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTElucHV0RWxlbWVudFxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VSUV2ZW50XG4gICAgICogQHBhcmFtIGV2ZW50IFxuICAgICAqL1xuICAgIHNsaWRlckNoYW5nZWQoZXZlbnQ6IEV2ZW50KSB7XG5cbiAgICAgICAgLy8gdGhpcy5sb2dnZXIubG9nKCdzbGlkZXIgZXZlbnQgcmVjaWV2ZWQnKTtcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIub2JqZWN0KGV2ZW50KTtcbiAgICAgICAgbGV0IHNsaWRlciA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCk7XG4gICAgICAgIGlmICghdGhpcy5zbGlkZXIpIHsgdGhpcy5zbGlkZXIgPSBzbGlkZXI7IH1cblxuICAgICAgICAvLyB0aGlzLmxvZ2dlci5sb2coJ3ZhbHVlOiAnICsgc2xpZGVyLnZhbHVlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUltYWdlU2l6ZSgrc2xpZGVyLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SW1nKCk6IEVtb2ppIHtcbiAgICAgICAgaWYgKHRoaXMubmV3U2l6ZSkge1xuICAgICAgICAgICAgbGV0IHJlc2l6ZWRJbWc6IEVtb2ppID0gdGhpcy5pbWc7XG4gICAgICAgICAgICByZXNpemVkSW1nLmF0dHJpYnV0ZXMgPSB0aGlzLm5ld1NpemU7XG4gICAgICAgICAgICByZXR1cm4gcmVzaXplZEltZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmltZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCByZXNldEVkaXRvclRhcmdldCgpIHtcbiAgICAgICAgdGhpcy5pbWcgPSBudWxsO1xuICAgICAgICB0aGlzLmltZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm5ld1NpemUgPSBudWxsO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU2l6ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlc2V0RWRpdG9yQ2FudmFzKCkge1xuICAgICAgICAvLyBSZXNldCBzbGlkZXJcbiAgICAgICAgaWYgKHRoaXMuc2xpZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNsaWRlci52YWx1ZSA9ICcwJztcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyTGFzdFZhbCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgKiBXaWxsIGl0ZXJhdGUgdGhyb3VnaCBhbGwgY2hpbGQgbm9kZXMgb2YgdGhlIFxuICAgICAgICAgICAgKiBpbWcgZWRpdG9yIGVsZW1lbnQgYW5kIHJlbW92ZSB0aGVtLlxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnJlc2l6ZURpdi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVEaXYucmVtb3ZlQ2hpbGQodGhpcy5yZXNpemVEaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlZCBhIHNyYyB1cmwsIHRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGFuZCBhZGRcbiAgICAgKiB0aGUgaW1hZ2UgdG8gdGhlIGVkaXRvciBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYWRkSW1nVG9FZGl0b3IoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXNpemVEaXYpIHtcbiAgICAgICAgICAgIC8vdGhpcy5sb2dnZXIubG9nKCdyZXNpemUtYXJlYSBkdXJpbmcgYWRkSW1nRXZlbnQnKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2l6ZS1hcmVhJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICAgICAgICAvL3RoaXMubG9nZ2VyLm9iamVjdCgnaGVpZ2h0OiAnICsgdGhpcy5yZXNpemVEaXYub2Zmc2V0SGVpZ2h0ICsgJ3dpZHRoOiAnICsgdGhpcy5yZXNpemVEaXYub2Zmc2V0V2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuaWQgPSAncmVzaXplLWltZyc7XG4gICAgICAgIGltZy5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnc3RhcnQpO1xuICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnRvdWNoZW5kKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IChldjogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8qaWYgKGV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGV2KTtcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAvLyByZXNldCB0aGUgZWRpdG9yIGRpdlxuICAgICAgICAgICAgdGhpcy5yZXNldEVkaXRvckNhbnZhcygpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIG5ldyBpbWFnZVxuICAgICAgICAgICAgdGhpcy5yZXNpemVEaXYuYXBwZW5kQ2hpbGQoaW1nKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaW1nLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpbWcud2lkdGggPSB0aGlzLmltZy5hdHRyaWJ1dGVzLndpZHRoO1xuICAgICAgICAgICAgICAgIGltZy5oZWlnaHQgPSB0aGlzLmltZy5hdHRyaWJ1dGVzLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFNpemUgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGltZy5oZWlnaHRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBnbG9iYWwgdmFycmlhYmxlc1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50ID0gaW1nO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCB0aGUgc291cmNlIHZhcmlhYmxlIHdoaWNoIHdpbGwgaW1tZWRpYXRlbHkgc3RhcnQgXG4gICAgICAgIC8vIHRyeWluZyB0byBsb2FkIHRoZSBpbWFnZSAoaGVuY2UgZGVmaW5pbmcgb25sb2FkIGZpcnN0KVxuICAgICAgICBpbWcuc3JjID0gdGhpcy5pbWcuZGF0YVVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHVwZGF0ZSB0aGUgaW1hZ2VzIHNpemUgYWRkaW5nIHRoZSBzbGlkZXJzIGluY3JlbWVudFxuICAgICAqIHRvIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGFuZCByZS1jYWxjdWxhdGluZyBhc3BlY3QgcmF0aW8gaWZcbiAgICAgKiBuZWNlc3NhcnlcbiAgICAgKiBAcGFyYW0gc2xpZGVyVmFsdWUgLSBudW1iZXJcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdXBkYXRlSW1hZ2VTaXplKHNsaWRlclZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBzbGlkZXJEZWx0YTogbnVtYmVyO1xuICAgICAgICBzbGlkZXJEZWx0YSA9IE1hdGguc3FydChNYXRoLnBvdyhzbGlkZXJWYWx1ZSAtIHRoaXMuc2xpZGVyTGFzdFZhbCwgMikpO1xuICAgICAgICBpZiAoIHNsaWRlclZhbHVlIDwgdGhpcy5zbGlkZXJMYXN0VmFsICkgeyBzbGlkZXJEZWx0YSAqPSAtMTsgfVxuICAgICAgICB0aGlzLnNsaWRlckxhc3RWYWwgPSBzbGlkZXJWYWx1ZTtcblxuICAgICAgICBsZXQgbG9nID0ge1xuICAgICAgICAgICAgc2xpZGVyVmFsOiBzbGlkZXJWYWx1ZSxcbiAgICAgICAgICAgIGxhc3RWYWw6IHRoaXMuc2xpZGVyTGFzdFZhbCxcbiAgICAgICAgICAgIGRlbHRhOiBzbGlkZXJEZWx0YVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGxvZyk7XG5cbiAgICAgICAgaWYgKHNsaWRlclZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmltZ0VsZW1lbnQud2lkdGggPSB0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuaW1nRWxlbWVudC5oZWlnaHQgPSB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnNsaWRlckxhc3RWYWwgPSAwO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGxldCBwcm9wb3NlZFdpZHRoOiBudW1iZXI7XG4gICAgICAgICAgICBsZXQgcHJvcG9zZWRIZWlnaHQ6IG51bWJlcjtcblxuICAgICAgICAgICAgcHJvcG9zZWRXaWR0aCA9IHRoaXMuaW1nRWxlbWVudC53aWR0aCArIHNsaWRlckRlbHRhO1xuICAgICAgICAgICAgcHJvcG9zZWRIZWlnaHQgPSB0aGlzLmltZ0VsZW1lbnQuaGVpZ2h0ICsgc2xpZGVyRGVsdGE7XG5cbiAgICAgICAgICAgIC8vdGhpcy5sb2dnZXIubG9nKCdwcm9wb3NlZCBzaXplIC0+IHdpZHRoOiAgJyArIHByb3Bvc2VkV2lkdGggKyAnIGhlaWdodDogJyArIHByb3Bvc2VkSGVpZ2h0KTtcblxuICAgICAgICAgICAgbGV0IGlzV2lkZXJUaGFuQ29udGFpbmVyID0gKHByb3Bvc2VkV2lkdGggPiB0aGlzLnJlc2l6ZURpdi5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICBsZXQgaXNUYWxsZXJUaGFuQ29udGFpbmVyID0gKHByb3Bvc2VkSGVpZ2h0ID4gdGhpcy5yZXNpemVEaXYuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgICAgIGxldCByZXF1aXJlc0FzcGVjdFJhdGlvID0gaXNXaWRlclRoYW5Db250YWluZXIgfHwgaXNUYWxsZXJUaGFuQ29udGFpbmVyO1xuXG4gICAgICAgICAgICBpZiAocmVxdWlyZXNBc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnbmV3IHNpemUgcmVxdWlyZXMgYXNwZWN0IHJhdGlvIGNhbGMuLicpO1xuICAgICAgICAgICAgICAgIHRoaXMubmV3U2l6ZSA9IHRoaXMuY2FsY3VsYXRlQXNwZWN0UmF0aW9GaXQocHJvcG9zZWRXaWR0aCwgcHJvcG9zZWRIZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5ld1NpemUgPSB7IHdpZHRoOiBwcm9wb3NlZFdpZHRoLCBoZWlnaHQ6IHByb3Bvc2VkSGVpZ2h0IH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdCh0aGlzLm5ld1NpemUpO1xuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgncmVzaXplV2lkdGgnLCBuZXdTaXplLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LnNldEF0dHJpYnV0ZSgncmVzaXplSGVpZ2h0JywgbmV3U2l6ZS5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LndpZHRoID0gdGhpcy5uZXdTaXplLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LmhlaWdodCA9IHRoaXMubmV3U2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaW1hZ2UgYWZ0ZXIgcmVzaXplOiAnKTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdCh0aGlzLmltZ0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBuZXcgc2l6ZSBvZiB0aGUgaW1hZ2UgbWFpbnRhaW5zIGFzcGVjdCByYXRpb1xuICAgICAqIHdoZW4gbGFyZ2V0IHRoYW4gdGhlIGNvbnRhaW5lclxuICAgICAqIFxuICAgICAqIFJlZmVyZW5jZTpcbiAgICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTcxODQxL2hvdy10by1yZXNpemUtaW1hZ2VzLXByb3BvcnRpb25hbGx5LWtlZXBpbmctdGhlLWFzcGVjdC1yYXRpb1xuICAgICAqIEBwYXJhbSBwcm9wb3NlZFdpZHRoIFxuICAgICAqIEBwYXJhbSBwcm9wb3NlZEhlaWdodCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2FsY3VsYXRlQXNwZWN0UmF0aW9GaXQocHJvcG9zZWRXaWR0aCwgcHJvcG9zZWRIZWlnaHQpIHtcblxuICAgICAgICBsZXQgd2lkdGhSYXRpbyA9IHRoaXMucmVzaXplRGl2LmNsaWVudFdpZHRoIC8gcHJvcG9zZWRXaWR0aDtcbiAgICAgICAgbGV0IGhlaWdodFJhdGlvID0gdGhpcy5yZXNpemVEaXYuY2xpZW50SGVpZ2h0IC8gcHJvcG9zZWRIZWlnaHQ7XG5cbiAgICAgICAgbGV0IHJhdGlvID0gTWF0aC5taW4od2lkdGhSYXRpbywgaGVpZ2h0UmF0aW8pO1xuXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnd2lkdGhSYXRpbzogJyArIHdpZHRoUmF0aW8pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2hlaWdodFJhdGlvOiAnICsgaGVpZ2h0UmF0aW8pO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2FzcGVjdFJhdGlvOiAnICsgcmF0aW8pO1xuXG4gICAgICAgIHJldHVybiB7IHdpZHRoOiBwcm9wb3NlZFdpZHRoICogcmF0aW8sIGhlaWdodDogcHJvcG9zZWRIZWlnaHQgKiByYXRpbyB9O1xuICAgIH1cblxuXG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdsaWJyYXJ5L3Jlc2l6ZWVkaXRvci5zZXJ2aWNlLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFTQTtBQVdBO0FBQUE7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9EQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWtCQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBaFNBO0FBREE7QUFhQTtBQUNBO0FBYkE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///841\n");

/***/ }),

/***/ 842:
/* no static exports found */
/* all exports used */
/*!************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawinglibrary/touchevents.service.ts ***!
  \************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n// App Imports\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar TouchEventsHandler = (function () {\r\n    function TouchEventsHandler(logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        /**\r\n         * This method is intended to allow emoji drag and drop events\r\n         * to work on mobile browsers driven by touch events.\r\n         *\r\n         * This is done by attaching to the touch event \"touchend\"\r\n         * and creating a new custom event that we have already subsribed to\r\n         * \"touchdragdrop\" and dispatching that event to the dom element\r\n         * where the touch event ended.\r\n         *\r\n         * References:\r\n         * https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events\r\n         * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\r\n         * https://mobiforge.com/design-development/touch-friendly-drag-and-drop\r\n         *\r\n         */\r\n        this.touchend = function (event, emoji) {\r\n            _this.logger.log('touchend event recevied...:');\r\n            var lastTouch = event.changedTouches[0];\r\n            /*\r\n            this.logger.log(\r\n                'img id: ' + emoji.id + ' | pageX: ' +\r\n                lastTouch.pageX + ' | pageY: ' + lastTouch.pageY);\r\n            */\r\n            var listeners = [_this.drawingboard, _this.imgQueue, _this.editor];\r\n            _this.logger.log('touchend event listeners');\r\n            _this.logger.object(listeners);\r\n            var located;\r\n            var index = 0;\r\n            while (!located && index < listeners.length) {\r\n                located = _this.detectHit(listeners[index], lastTouch.pageX, lastTouch.pageY);\r\n                index++;\r\n            }\r\n            _this.logger.log('located element: ');\r\n            _this.logger.object(located);\r\n            var eventData = {\r\n                img: emoji,\r\n                touchEvent: event,\r\n                target: located\r\n            };\r\n            var customEvent = new CustomEvent('touchdragdrop', { detail: eventData });\r\n            located.dispatchEvent(customEvent);\r\n        };\r\n    }\r\n    /**\r\n     * Will search the DOM to instantiate our class\r\n     * member values.\r\n     */\r\n    TouchEventsHandler.prototype.initTouchListeners = function () {\r\n        this.drawingboard = document.getElementById('drawing-board-canvas');\r\n        this.imgQueue = document.getElementById('img-queue');\r\n        this.editor = document.getElementById('resize-area');\r\n        /*\r\n        this.logger.log('initializing touch events...');\r\n        \r\n        this.logger.log('drawingboard')\r\n        this.logger.object(this.drawingboard);\r\n\r\n        this.logger.log('img queue')\r\n        this.logger.object(this.imgQueue);\r\n\r\n        this.logger.log('img editor')\r\n        this.logger.object(this.editor);\r\n        */\r\n    };\r\n    /**\r\n     * Given an html element and the location of a touch event\r\n     * we are able to calculatw if the touch event occured\r\n     * within the boundries of that element.\r\n     *\r\n     * If that is the case it will return that element otherwise\r\n     * it will return null\r\n     *\r\n     * References:\r\n     * https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\r\n     *\r\n     * @param elem html element\r\n     * @param pageX touch event pageX value\r\n     * @param pageY touch event pageY value\r\n     */\r\n    TouchEventsHandler.prototype.detectHit = function (elem, pageX, pageY) {\r\n        var clientRect = elem.getBoundingClientRect();\r\n        this.logger.log('client rect value:');\r\n        this.logger.object(clientRect);\r\n        var inVerticalSpace = pageY > clientRect.top && pageY < clientRect.bottom;\r\n        var inHorizontalSpace = pageX > clientRect.left && pageX < clientRect.right;\r\n        var hitDetected = inVerticalSpace && inHorizontalSpace;\r\n        this.logger.log('hit detected: ' + hitDetected);\r\n        return hitDetected ? elem : null;\r\n    };\r\n    return TouchEventsHandler;\r\n}());\r\nTouchEventsHandler = __decorate([\r\n    core_1.Injectable(),\r\n    __metadata(\"design:paramtypes\", [shared_1.LoggingService])\r\n], TouchEventsHandler);\r\nexports.TouchEventsHandler = TouchEventsHandler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQyLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdsaWJyYXJ5XFx0b3VjaGV2ZW50cy5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFZlbmRvciBJbXBvcnRzXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cblxuLy8gQXBwIEltcG9ydHNcbmltcG9ydCB7IExvZ2dpbmdTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkJztcbmltcG9ydCB7IEVtb2ppLCBUb3VjaERuREV2ZW50RGF0YSB9IGZyb20gJy4vJztcblxuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBUb3VjaEV2ZW50c0hhbmRsZXIge1xuXG4gICAgcHJvdGVjdGVkIGRyYXdpbmdib2FyZDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIGltZ1F1ZXVlOiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgZWRpdG9yOiBIVE1MRGl2RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSkgeyB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHNlYXJjaCB0aGUgRE9NIHRvIGluc3RhbnRpYXRlIG91ciBjbGFzc1xuICAgICAqIG1lbWJlciB2YWx1ZXMuXG4gICAgICovXG4gICAgcHVibGljIGluaXRUb3VjaExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5kcmF3aW5nYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhd2luZy1ib2FyZC1jYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5pbWdRdWV1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWctcXVldWUnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzaXplLWFyZWEnKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgLypcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdpbml0aWFsaXppbmcgdG91Y2ggZXZlbnRzLi4uJyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2RyYXdpbmdib2FyZCcpXG4gICAgICAgIHRoaXMubG9nZ2VyLm9iamVjdCh0aGlzLmRyYXdpbmdib2FyZCk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdpbWcgcXVldWUnKVxuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QodGhpcy5pbWdRdWV1ZSk7XG5cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdpbWcgZWRpdG9yJylcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KHRoaXMuZWRpdG9yKTtcbiAgICAgICAgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBhbGxvdyBlbW9qaSBkcmFnIGFuZCBkcm9wIGV2ZW50c1xuICAgICAqIHRvIHdvcmsgb24gbW9iaWxlIGJyb3dzZXJzIGRyaXZlbiBieSB0b3VjaCBldmVudHMuIFxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgZG9uZSBieSBhdHRhY2hpbmcgdG8gdGhlIHRvdWNoIGV2ZW50IFwidG91Y2hlbmRcIlxuICAgICAqIGFuZCBjcmVhdGluZyBhIG5ldyBjdXN0b20gZXZlbnQgdGhhdCB3ZSBoYXZlIGFscmVhZHkgc3Vic3JpYmVkIHRvXG4gICAgICogXCJ0b3VjaGRyYWdkcm9wXCIgYW5kIGRpc3BhdGNoaW5nIHRoYXQgZXZlbnQgdG8gdGhlIGRvbSBlbGVtZW50XG4gICAgICogd2hlcmUgdGhlIHRvdWNoIGV2ZW50IGVuZGVkLlxuICAgICAqIFxuICAgICAqIFJlZmVyZW5jZXM6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvRXZlbnRzL0NyZWF0aW5nX2FuZF90cmlnZ2VyaW5nX2V2ZW50c1xuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudFxuICAgICAqIGh0dHBzOi8vbW9iaWZvcmdlLmNvbS9kZXNpZ24tZGV2ZWxvcG1lbnQvdG91Y2gtZnJpZW5kbHktZHJhZy1hbmQtZHJvcFxuICAgICAqIFxuICAgICAqL1xuICAgIHB1YmxpYyB0b3VjaGVuZCA9IChldmVudDogVG91Y2hFdmVudCwgZW1vamk6IEVtb2ppKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygndG91Y2hlbmQgZXZlbnQgcmVjZXZpZWQuLi46Jyk7XG4gICAgICAgIGxldCBsYXN0VG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcblxuICAgICAgICAvKlxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgICAnaW1nIGlkOiAnICsgZW1vamkuaWQgKyAnIHwgcGFnZVg6ICcgK1xuICAgICAgICAgICAgbGFzdFRvdWNoLnBhZ2VYICsgJyB8IHBhZ2VZOiAnICsgbGFzdFRvdWNoLnBhZ2VZKTtcbiAgICAgICAgKi9cblxuICAgICAgICBsZXQgbGlzdGVuZXJzID0gW3RoaXMuZHJhd2luZ2JvYXJkLCB0aGlzLmltZ1F1ZXVlLCB0aGlzLmVkaXRvcl07XG5cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCd0b3VjaGVuZCBldmVudCBsaXN0ZW5lcnMnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGxpc3RlbmVycyk7XG5cbiAgICAgICAgbGV0IGxvY2F0ZWQ6IEhUTUxFbGVtZW50O1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoIWxvY2F0ZWQgJiYgaW5kZXggPCBsaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2NhdGVkID0gdGhpcy5kZXRlY3RIaXQobGlzdGVuZXJzW2luZGV4XSwgbGFzdFRvdWNoLnBhZ2VYLCBsYXN0VG91Y2gucGFnZVkpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnbG9jYXRlZCBlbGVtZW50OiAnKTtcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGxvY2F0ZWQpO1xuXG4gICAgICAgIGxldCBldmVudERhdGE6IFRvdWNoRG5ERXZlbnREYXRhID0ge1xuICAgICAgICAgICAgaW1nOiBlbW9qaSxcbiAgICAgICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgdGFyZ2V0OiBsb2NhdGVkXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50OiBDdXN0b21FdmVudCA9XG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ3RvdWNoZHJhZ2Ryb3AnLCB7IGRldGFpbDogZXZlbnREYXRhIH0pO1xuXG4gICAgICAgIGxvY2F0ZWQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW4gaHRtbCBlbGVtZW50IGFuZCB0aGUgbG9jYXRpb24gb2YgYSB0b3VjaCBldmVudFxuICAgICAqIHdlIGFyZSBhYmxlIHRvIGNhbGN1bGF0dyBpZiB0aGUgdG91Y2ggZXZlbnQgb2NjdXJlZCBcbiAgICAgKiB3aXRoaW4gdGhlIGJvdW5kcmllcyBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICogXG4gICAgICogSWYgdGhhdCBpcyB0aGUgY2FzZSBpdCB3aWxsIHJldHVybiB0aGF0IGVsZW1lbnQgb3RoZXJ3aXNlXG4gICAgICogaXQgd2lsbCByZXR1cm4gbnVsbFxuICAgICAqIFxuICAgICAqIFJlZmVyZW5jZXM6XG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gICAgICogXG4gICAgICogQHBhcmFtIGVsZW0gaHRtbCBlbGVtZW50XG4gICAgICogQHBhcmFtIHBhZ2VYIHRvdWNoIGV2ZW50IHBhZ2VYIHZhbHVlXG4gICAgICogQHBhcmFtIHBhZ2VZIHRvdWNoIGV2ZW50IHBhZ2VZIHZhbHVlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGRldGVjdEhpdChcbiAgICAgICAgZWxlbTogSFRNTEVsZW1lbnQsIHBhZ2VYOiBudW1iZXIsIHBhZ2VZOiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XG5cbiAgICAgICAgbGV0IGNsaWVudFJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2NsaWVudCByZWN0IHZhbHVlOicpO1xuICAgICAgICB0aGlzLmxvZ2dlci5vYmplY3QoY2xpZW50UmVjdCk7XG5cbiAgICAgICAgbGV0IGluVmVydGljYWxTcGFjZSA9IHBhZ2VZID4gY2xpZW50UmVjdC50b3AgJiYgcGFnZVkgPCBjbGllbnRSZWN0LmJvdHRvbTtcbiAgICAgICAgbGV0IGluSG9yaXpvbnRhbFNwYWNlID0gcGFnZVggPiBjbGllbnRSZWN0LmxlZnQgJiYgcGFnZVggPCBjbGllbnRSZWN0LnJpZ2h0O1xuICAgICAgICBsZXQgaGl0RGV0ZWN0ZWQgPSBpblZlcnRpY2FsU3BhY2UgJiYgaW5Ib3Jpem9udGFsU3BhY2U7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnaGl0IGRldGVjdGVkOiAnICsgaGl0RGV0ZWN0ZWQpO1xuICAgICAgICByZXR1cm4gaGl0RGV0ZWN0ZWQgPyBlbGVtIDogbnVsbDtcblxuICAgIH1cblxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBub2RlX21vZHVsZXMvYW5ndWxhci1yb3V0ZXItbG9hZGVyL3NyYyEuL34vYW5ndWxhcjItdGVtcGxhdGUtbG9hZGVyIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC9kcmF3aW5nbGlicmFyeS90b3VjaGV2ZW50cy5zZXJ2aWNlLnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFNQTtBQUFBO0FBQ0E7QUF3QkE7Ozs7Ozs7Ozs7Ozs7O0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUExRUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQVdBO0FBQ0E7QUFzREE7Ozs7Ozs7Ozs7Ozs7O0FBY0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFqSEE7QUFEQTtBQVFBO0FBUEE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///842\n");

/***/ }),

/***/ 843:
/* no static exports found */
/* all exports used */
/*!********************************************************!*\
  !*** ./src/app/modules/gameloop/gameloop.component.ts ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\n/**\r\n * Purpose: Root component that is bootstraped by NgModule\r\n * for the playgame feature module\r\n *\r\n * To-do:\r\n *\r\n */\r\nvar RootGameLoopComponent = (function () {\r\n    function RootGameLoopComponent() {\r\n    }\r\n    return RootGameLoopComponent;\r\n}());\r\nRootGameLoopComponent = __decorate([\r\n    core_1.Component({\r\n        template: \"\\n    <router-outlet></router-outlet>\\n    <ng-template ngbModalContainer></ng-template>\\n    \",\r\n        providers: []\r\n    })\r\n], RootGameLoopComponent);\r\nexports.RootGameLoopComponent = RootGameLoopComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQzLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGdhbWVsb29wLmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uL3NoYXJlZCc7XG5cbi8qKlxuICogUHVycG9zZTogUm9vdCBjb21wb25lbnQgdGhhdCBpcyBib290c3RyYXBlZCBieSBOZ01vZHVsZSBcbiAqIGZvciB0aGUgcGxheWdhbWUgZmVhdHVyZSBtb2R1bGVcbiAqIFxuICogVG8tZG86XG4gKiBcbiAqL1xuQENvbXBvbmVudCh7XG4gICAgdGVtcGxhdGU6XG4gICAgYFxuICAgIDxyb3V0ZXItb3V0bGV0Pjwvcm91dGVyLW91dGxldD5cbiAgICA8bmctdGVtcGxhdGUgbmdiTW9kYWxDb250YWluZXI+PC9uZy10ZW1wbGF0ZT5cbiAgICBgLFxuICAgIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgUm9vdEdhbWVMb29wQ29tcG9uZW50IHtcblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2dhbWVsb29wLmNvbXBvbmVudC50cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBS0E7Ozs7OztBQU1BO0FBU0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUZBO0FBUkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///843\n");

/***/ }),

/***/ 844:
/* no static exports found */
/* all exports used */
/*!*************************************************************!*\
  !*** ./src/app/modules/gameloop/noview/noview.component.ts ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar noview_service_1 = __webpack_require__(/*! ./noview.service */ 818);\r\nvar NoViewComponent = (function () {\r\n    function NoViewComponent(noViewService, logger) {\r\n        var _this = this;\r\n        this.noViewService = noViewService;\r\n        this.logger = logger;\r\n        this.changeValue = 10;\r\n        this.myCallback = function () {\r\n            _this.logger.log('NoView Callback Invoked!!');\r\n            _this.changeValue = 12;\r\n            _this.logger.object(_this.changeValue);\r\n            var domTextElm = document.getElementById('domValElm');\r\n            _this.logger.object(domTextElm);\r\n            var domText = domTextElm.textContent; // this is expected to throw an error\r\n            _this.logger.log(domText);\r\n        };\r\n        this.message = 'Welcome to the no view component.\\n \\\n        This component is used to test the behavior of injected \\\n        services and callback functions when the view where that \\\n        function lives is no longer in view.\\n To understand the test \\\n        and the behavior please see the console logs and actual source \\\n        code for this component.\\n\\nThank you!';\r\n        this.noViewService.noViewCallback = this.myCallback;\r\n    }\r\n    return NoViewComponent;\r\n}());\r\nNoViewComponent = __decorate([\r\n    core_1.Component({\r\n        template: \"<div>\\n        <p>{{ message }}</p>\\n        <p id=\\\"domValElm\\\">this is dom text to be read later</p>\\n    </div>\"\r\n    }),\r\n    __metadata(\"design:paramtypes\", [noview_service_1.NoViewService,\r\n        shared_1.LoggingService])\r\n], NoViewComponent);\r\nexports.NoViewComponent = NoViewComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ0LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXG5vdmlld1xcbm92aWV3LmNvbXBvbmVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWZW5kb3IgSW1wb3J0c1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgICBGb3JtQnVpbGRlcixcbiAgICBGb3JtR3JvdXAsXG4gICAgVmFsaWRhdG9yc1xufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cblxuLy8gQXBwIEltcG9ydHNcbmltcG9ydCB7XG4gICAgTmdNb2RhbENvbXBvbmVudFRlbXBsYXRlLFxuICAgIE5nTW9kYWxTZXJ2aWNlXG59IGZyb20gJy4uLy4uLy4uL3NoYXJlZC9uZ21vZGFsc2VydmljZSc7XG5pbXBvcnQgeyBMb2dnaW5nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBOb1ZpZXdTZXJ2aWNlIH0gZnJvbSAnLi9ub3ZpZXcuc2VydmljZSc7XG5cblxuQENvbXBvbmVudCh7XG4gICAgdGVtcGxhdGU6IFxuICAgIGA8ZGl2PlxuICAgICAgICA8cD57eyBtZXNzYWdlIH19PC9wPlxuICAgICAgICA8cCBpZD1cImRvbVZhbEVsbVwiPnRoaXMgaXMgZG9tIHRleHQgdG8gYmUgcmVhZCBsYXRlcjwvcD5cbiAgICA8L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIE5vVmlld0NvbXBvbmVudCB7XG5cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY2hhbmdlVmFsdWUgPSAxMDtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIG5vVmlld1NlcnZpY2U6IE5vVmlld1NlcnZpY2UsXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IExvZ2dpbmdTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9ICdXZWxjb21lIHRvIHRoZSBubyB2aWV3IGNvbXBvbmVudC5cXG4gXFxcbiAgICAgICAgVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byB0ZXN0IHRoZSBiZWhhdmlvciBvZiBpbmplY3RlZCBcXFxuICAgICAgICBzZXJ2aWNlcyBhbmQgY2FsbGJhY2sgZnVuY3Rpb25zIHdoZW4gdGhlIHZpZXcgd2hlcmUgdGhhdCBcXFxuICAgICAgICBmdW5jdGlvbiBsaXZlcyBpcyBubyBsb25nZXIgaW4gdmlldy5cXG4gVG8gdW5kZXJzdGFuZCB0aGUgdGVzdCBcXFxuICAgICAgICBhbmQgdGhlIGJlaGF2aW9yIHBsZWFzZSBzZWUgdGhlIGNvbnNvbGUgbG9ncyBhbmQgYWN0dWFsIHNvdXJjZSBcXFxuICAgICAgICBjb2RlIGZvciB0aGlzIGNvbXBvbmVudC5cXG5cXG5UaGFuayB5b3UhJztcblxuICAgICAgICB0aGlzLm5vVmlld1NlcnZpY2Uubm9WaWV3Q2FsbGJhY2sgPSB0aGlzLm15Q2FsbGJhY2s7XG4gICAgfVxuXG4gICAgbXlDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdOb1ZpZXcgQ2FsbGJhY2sgSW52b2tlZCEhJyk7XG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUgPSAxMjtcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KHRoaXMuY2hhbmdlVmFsdWUpO1xuICAgICAgICBsZXQgZG9tVGV4dEVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb21WYWxFbG0nKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcbiAgICAgICAgdGhpcy5sb2dnZXIub2JqZWN0KGRvbVRleHRFbG0pO1xuICAgICAgICBsZXQgZG9tVGV4dCA9IGRvbVRleHRFbG0udGV4dENvbnRlbnQ7IC8vIHRoaXMgaXMgZXhwZWN0ZWQgdG8gdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGRvbVRleHQpO1xuXG4gICAgfVxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIG5vZGVfbW9kdWxlcy9hbmd1bGFyLXJvdXRlci1sb2FkZXIvc3JjIS4vfi9hbmd1bGFyMi10ZW1wbGF0ZS1sb2FkZXIhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL25vdmlldy9ub3ZpZXcuY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFnQkE7QUFDQTtBQVVBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQW5CQTs7Ozs7QUFLQTtBQUVBO0FBQ0E7QUFhQTtBQUFBO0FBNUJBO0FBUEE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQU5BO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///844\n");

/***/ }),

/***/ 845:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/app/modules/gameloop/textframe/text.component.ts ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// Vendor Imports\r\nvar core_1 = __webpack_require__(/*! @angular/core */ 1);\r\nvar forms_1 = __webpack_require__(/*! @angular/forms */ 31);\r\nvar ngmodalservice_1 = __webpack_require__(/*! ../../../shared/ngmodalservice */ 160);\r\nvar shared_1 = __webpack_require__(/*! ../../../shared */ 9);\r\nvar TestTextFrameComponent = (function () {\r\n    function TestTextFrameComponent(modalService, formBuilder, logger, labelFocuser) {\r\n        this.modalService = modalService;\r\n        this.formBuilder = formBuilder;\r\n        this.logger = logger;\r\n        this.labelFocuser = labelFocuser;\r\n        this.formErrors = {\r\n            'guess': ''\r\n        };\r\n        this.validationMessages = {\r\n            'guess': {\r\n                'required': '*Guess is required',\r\n                'minlength': '*Guess must be at least 2 characters long',\r\n                'maxlength': '*Guess cannot be more than 240 characters long'\r\n            }\r\n        };\r\n        this.mainMessage = 'Write Your Secret!';\r\n    }\r\n    TestTextFrameComponent.prototype.ngOnInit = function () {\r\n        this.setupFormGroup();\r\n        this.imgFrameUrl = '/img/heyarnold.jpg';\r\n        // Enable showImgFrame to show the box where the previous image is supposed to be\r\n        this.showImgFrame = true;\r\n    };\r\n    TestTextFrameComponent.prototype.ngAfterViewInit = function () {\r\n        this.labelFocuser.registerListeners('guess', 'guess-label');\r\n    };\r\n    TestTextFrameComponent.prototype.displayGuess = function () {\r\n        var options;\r\n        var buttons = [ngmodalservice_1.Buttons.crossClose];\r\n        var message = 'isValid Entry: ' + this.userGuessForm.valid +\r\n            '\\nYour guess: ' + this.userGuessForm.controls['guess'].value;\r\n        options = new ngmodalservice_1.DialogOptions('Your guess...', buttons, message);\r\n        this.modalService.show(ngmodalservice_1.NgModalComponentTemplate, options);\r\n    };\r\n    TestTextFrameComponent.prototype.setupFormGroup = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                this.userGuessForm = this.formBuilder.group({\r\n                    'guess': ['',\r\n                        [\r\n                            forms_1.Validators.required,\r\n                            forms_1.Validators.minLength(2),\r\n                            forms_1.Validators.maxLength(240)\r\n                        ],\r\n                    ]\r\n                });\r\n                this.userGuessForm.valueChanges\r\n                    .subscribe(function (data) { return _this.onUserGuessAuthFormValueChanged(data); });\r\n                this.onUserGuessAuthFormValueChanged();\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    TestTextFrameComponent.prototype.onUserGuessAuthFormValueChanged = function (data) {\r\n        var form = this.userGuessForm;\r\n        for (var field in this.formErrors) {\r\n            // clear previous error message (if any)\r\n            this.formErrors[field] = '';\r\n            var control = form.get(field);\r\n            if (control && control.dirty && !control.valid) {\r\n                var messages = this.validationMessages[field];\r\n                for (var key in control.errors) {\r\n                    this.formErrors[field] += messages[key] + ' ';\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return TestTextFrameComponent;\r\n}());\r\nTestTextFrameComponent = __decorate([\r\n    core_1.Component({\r\n        template: __webpack_require__(/*! ./text.component.html */ 859),\r\n        styles: [__webpack_require__(/*! ./text.component.css */ 873)],\r\n        providers: [shared_1.LabelFocusDetector]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [ngmodalservice_1.NgModalService,\r\n        forms_1.FormBuilder,\r\n        shared_1.LoggingService,\r\n        shared_1.LabelFocusDetector])\r\n], TestTextFrameComponent);\r\nexports.TestTextFrameComponent = TestTextFrameComponent;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ1LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHRleHRmcmFtZVxcdGV4dC5jb21wb25lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVmVuZG9yIEltcG9ydHNcbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIE9uSW5pdFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgRm9ybUJ1aWxkZXIsXG4gICAgRm9ybUdyb3VwLFxuICAgIFZhbGlkYXRvcnNcbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5cbi8vIEFwcCBJbXBvcnRzXG5pbXBvcnQgeyBOb2RlUGF0aHMsIEZyYW1lIH0gZnJvbSAnbWlhYmxpYi9taWFiJztcbmltcG9ydCB7IGNvbmNhdFBhdGggfSBmcm9tICdtaWFibGliL2dsb2JhbCc7XG5pbXBvcnQge1xuICAgIERpYWxvZ09wdGlvbnMsXG4gICAgQnV0dG9ucyxcbiAgICBOZ01vZGFsQ29tcG9uZW50VGVtcGxhdGUsXG4gICAgTmdNb2RhbFNlcnZpY2Vcbn0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL25nbW9kYWxzZXJ2aWNlJztcbmltcG9ydCB7IExvZ2dpbmdTZXJ2aWNlLCBMYWJlbEZvY3VzRGV0ZWN0b3IgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQnO1xuXG5cbkBDb21wb25lbnQoe1xuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3RleHQuY29tcG9uZW50Lmh0bWwnKSxcbiAgICBzdHlsZXM6IFtyZXF1aXJlKCcuL3RleHQuY29tcG9uZW50LmNzcycpXSxcbiAgICBwcm92aWRlcnM6IFtMYWJlbEZvY3VzRGV0ZWN0b3JdXG59KVxuZXhwb3J0IGNsYXNzIFRlc3RUZXh0RnJhbWVDb21wb25lbnQge1xuXG4gICAgdXNlckd1ZXNzRm9ybTogRm9ybUdyb3VwO1xuICAgIHNob3dJbWdGcmFtZTogYm9vbGVhbjtcbiAgICBpbWdGcmFtZVVybDogc3RyaW5nO1xuICAgIG1haW5NZXNzYWdlOiBzdHJpbmc7XG4gICAgbGFiZWxGb2N1czogTGFiZWxGb2N1c0RldGVjdG9yO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBtb2RhbFNlcnZpY2U6IE5nTW9kYWxTZXJ2aWNlLFxuICAgICAgICBwcm90ZWN0ZWQgZm9ybUJ1aWxkZXI6IEZvcm1CdWlsZGVyLFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBMb2dnaW5nU2VydmljZSxcbiAgICAgICAgcHJvdGVjdGVkIGxhYmVsRm9jdXNlcjogTGFiZWxGb2N1c0RldGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLm1haW5NZXNzYWdlID0gJ1dyaXRlIFlvdXIgU2VjcmV0ISc7XG5cbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zZXR1cEZvcm1Hcm91cCgpO1xuICAgICAgICB0aGlzLmltZ0ZyYW1lVXJsID0gJy9pbWcvaGV5YXJub2xkLmpwZyc7XG4gICAgICAgIC8vIEVuYWJsZSBzaG93SW1nRnJhbWUgdG8gc2hvdyB0aGUgYm94IHdoZXJlIHRoZSBwcmV2aW91cyBpbWFnZSBpcyBzdXBwb3NlZCB0byBiZVxuICAgICAgICB0aGlzLnNob3dJbWdGcmFtZSA9IHRydWU7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCl7XG4gICAgICAgIHRoaXMubGFiZWxGb2N1c2VyLnJlZ2lzdGVyTGlzdGVuZXJzKCdndWVzcycsICdndWVzcy1sYWJlbCcpO1xuICAgIH1cblxuICAgIGRpc3BsYXlHdWVzcygpIHtcblxuICAgICAgICBsZXQgb3B0aW9uczogRGlhbG9nT3B0aW9ucztcbiAgICAgICAgbGV0IGJ1dHRvbnM6IEJ1dHRvbnNbXSA9IFtCdXR0b25zLmNyb3NzQ2xvc2VdO1xuICAgICAgICBsZXQgbWVzc2FnZSA9ICdpc1ZhbGlkIEVudHJ5OiAnICsgdGhpcy51c2VyR3Vlc3NGb3JtLnZhbGlkICtcbiAgICAgICAgICAgICdcXG5Zb3VyIGd1ZXNzOiAnICsgdGhpcy51c2VyR3Vlc3NGb3JtLmNvbnRyb2xzWydndWVzcyddLnZhbHVlO1xuXG4gICAgICAgIG9wdGlvbnMgPSBuZXcgRGlhbG9nT3B0aW9ucygnWW91ciBndWVzcy4uLicsIGJ1dHRvbnMsIG1lc3NhZ2UpO1xuXG4gICAgICAgIHRoaXMubW9kYWxTZXJ2aWNlLnNob3coTmdNb2RhbENvbXBvbmVudFRlbXBsYXRlLCBvcHRpb25zKTtcblxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhc3luYyBzZXR1cEZvcm1Hcm91cCgpIHtcbiAgICAgICAgdGhpcy51c2VyR3Vlc3NGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICAgICAgICAnZ3Vlc3MnOiBbJycsXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBWYWxpZGF0b3JzLnJlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBWYWxpZGF0b3JzLm1pbkxlbmd0aCgyKSxcbiAgICAgICAgICAgICAgICAgICAgVmFsaWRhdG9ycy5tYXhMZW5ndGgoMjQwKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudXNlckd1ZXNzRm9ybS52YWx1ZUNoYW5nZXNcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZGF0YSA9PiB0aGlzLm9uVXNlckd1ZXNzQXV0aEZvcm1WYWx1ZUNoYW5nZWQoZGF0YSkpO1xuXG4gICAgICAgIHRoaXMub25Vc2VyR3Vlc3NBdXRoRm9ybVZhbHVlQ2hhbmdlZCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmb3JtRXJyb3JzID0ge1xuICAgICAgICAnZ3Vlc3MnOiAnJ1xuICAgIH07XG5cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGlvbk1lc3NhZ2VzID0ge1xuICAgICAgICAnZ3Vlc3MnOiB7XG4gICAgICAgICAgICAncmVxdWlyZWQnOiAnKkd1ZXNzIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgICdtaW5sZW5ndGgnOiAnKkd1ZXNzIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIGxvbmcnLFxuICAgICAgICAgICAgJ21heGxlbmd0aCc6ICcqR3Vlc3MgY2Fubm90IGJlIG1vcmUgdGhhbiAyNDAgY2hhcmFjdGVycyBsb25nJ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RlY3RlZCBvblVzZXJHdWVzc0F1dGhGb3JtVmFsdWVDaGFuZ2VkKGRhdGE/OiBhbnkpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMudXNlckd1ZXNzRm9ybTtcbiAgICAgICAgZm9yIChjb25zdCBmaWVsZCBpbiB0aGlzLmZvcm1FcnJvcnMpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHByZXZpb3VzIGVycm9yIG1lc3NhZ2UgKGlmIGFueSlcbiAgICAgICAgICAgIHRoaXMuZm9ybUVycm9yc1tmaWVsZF0gPSAnJztcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2wgPSBmb3JtLmdldChmaWVsZCk7XG4gICAgICAgICAgICBpZiAoY29udHJvbCAmJiBjb250cm9sLmRpcnR5ICYmICFjb250cm9sLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLnZhbGlkYXRpb25NZXNzYWdlc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29udHJvbC5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtRXJyb3JzW2ZpZWxkXSArPSBtZXNzYWdlc1trZXldICsgJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgcHJvdGVjdGVkIHByb2Nlc3NHYW1lVHVybigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGV0YWlscy5wcmV2aW91c0ZyYW1lKSB7XG5cbiAgICAgICAgICAgIHRoaXMubWFpbk1lc3NhZ2UgPSAnWW91ciBUdXJuIHRvIEd1ZXNzISc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBpc0V2ZW4gPSAodGhpcy5kZXRhaWxzLmN1cnJlbnRUdXJuICUgMikgPT09IDA7XG4gICAgICAgICAgICBsZXQgb3B0aW9uczogRGlhbG9nT3B0aW9ucztcbiAgICAgICAgICAgIGxldCBidXR0b25zOiBCdXR0b25zW10gPSBbQnV0dG9ucy5jcm9zc0Nsb3NlXTtcblxuICAgICAgICAgICAgaWYgKGlzRXZlbikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBuZXcgRGlhbG9nT3B0aW9ucygnUHJldmlvdXMgVHVybi4uLicsIGJ1dHRvbnMsIHRoaXMuZGV0YWlscy5wcmV2aW91c0ZyYW1lLnZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBuZXcgRGlhbG9nT3B0aW9ucygnUHJldmlvdXMgVHVybi4uLicsIGJ1dHRvbnMpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaW1nU3JjVXJsID0gdGhpcy5kZXRhaWxzLnByZXZpb3VzRnJhbWUudmFsO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRoaXMubW9kYWxSZWYgPSB0aGlzLm1vZGFsU2VydmljZS5zaG93KE5nTW9kYWxDb21wb25lbnRUZW1wbGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5jbG9zZU1vZGFsLCAxMDAwMCk7XG4gICAgICAgIH1cbiAgICB9Ki9cblxuXG59XG5cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXItcm91dGVyLWxvYWRlci9zcmMhLi9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvdGV4dGZyYW1lL3RleHQuY29tcG9uZW50LnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUlBO0FBVUE7QUFNQTtBQVFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXZEQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBOzs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQUE7QUE5R0E7QUFMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///845\n");

/***/ }),

/***/ 846:
/* no static exports found */
/* all exports used */
/*!**************************************************************!*\
  !*** ./src/app/modules/gameloop/twemoji/collection.emoji.ts ***!
  \**************************************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.collection = '&#x1F004;|\\\n&#x1F0CF;|\\\n&#x1F170;|\\\n&#x1F171;|\\\n&#x1F17E;|\\\n&#x1F17F;|\\\n&#x1F18E;|\\\n&#x1F191;|\\\n&#x1F192;|\\\n&#x1F193;|\\\n&#x1F194;|\\\n&#x1F195;|\\\n&#x1F196;|\\\n&#x1F197;|\\\n&#x1F198;|\\\n&#x1F199;|\\\n&#x1F19A;|\\\n&#x1F1E6;|\\\n&#x1F1E7;|\\\n&#x1F1E8;&#x1F1F3;|\\\n&#x1F1E8;|\\\n&#x1F1E9;&#x1F1EA;|\\\n&#x1F1E9;|\\\n&#x1F1EA;&#x1F1F8;|\\\n&#x1F1EA;|\\\n&#x1F1EB;&#x1F1F7;|\\\n&#x1F1EB;|\\\n&#x1F1EC;&#x1F1E7;|\\\n&#x1F1EC;|\\\n&#x1F1ED;|\\\n&#x1F1EE;&#x1F1F9;|\\\n&#x1F1EE;|\\\n&#x1F1EF;&#x1F1F5;|\\\n&#x1F1EF;|\\\n&#x1F1F0;&#x1F1F7;|\\\n&#x1F1F0;|\\\n&#x1F1F1;|\\\n&#x1F1F2;|\\\n&#x1F1F3;|\\\n&#x1F1F4;|\\\n&#x1F1F5;|\\\n&#x1F1F6;|\\\n&#x1F1F7;&#x1F1FA;|\\\n&#x1F1F7;|\\\n&#x1F1F8;|\\\n&#x1F1F9;|\\\n&#x1F1FA;&#x1F1F8;|\\\n&#x1F1FA;|\\\n&#x1F1FB;|\\\n&#x1F1FC;|\\\n&#x1F1FD;|\\\n&#x1F1FE;|\\\n&#x1F1FF;|\\\n&#x1F201;|\\\n&#x1F202;|\\\n&#x1F21A;|\\\n&#x1F22F;|\\\n&#x1F232;|\\\n&#x1F233;|\\\n&#x1F234;|\\\n&#x1F235;|\\\n&#x1F236;|\\\n&#x1F237;|\\\n&#x1F238;|\\\n&#x1F239;|\\\n&#x1F23A;|\\\n&#x1F250;|\\\n&#x1F251;|\\\n&#x1F300;|\\\n&#x1F301;|\\\n&#x1F302;|\\\n&#x1F303;|\\\n&#x1F304;|\\\n&#x1F305;|\\\n&#x1F306;|\\\n&#x1F307;|\\\n&#x1F308;|\\\n&#x1F309;|\\\n&#x1F30A;|\\\n&#x1F30B;|\\\n&#x1F30C;|\\\n&#x1F30D;|\\\n&#x1F30E;|\\\n&#x1F30F;|\\\n&#x1F310;|\\\n&#x1F311;|\\\n&#x1F312;|\\\n&#x1F313;|\\\n&#x1F314;|\\\n&#x1F315;|\\\n&#x1F316;|\\\n&#x1F317;|\\\n&#x1F318;|\\\n&#x1F319;|\\\n&#x1F31A;|\\\n&#x1F31B;|\\\n&#x1F31C;|\\\n&#x1F31D;|\\\n&#x1F31E;|\\\n&#x1F31F;|\\\n&#x1F320;|\\\n&#x1F330;|\\\n&#x1F331;|\\\n&#x1F332;|\\\n&#x1F333;|\\\n&#x1F334;|\\\n&#x1F335;|\\\n&#x1F337;|\\\n&#x1F338;|\\\n&#x1F339;|\\\n&#x1F33A;|\\\n&#x1F33B;|\\\n&#x1F33C;|\\\n&#x1F33D;|\\\n&#x1F33E;|\\\n&#x1F33F;|\\\n&#x1F340;|\\\n&#x1F341;|\\\n&#x1F342;|\\\n&#x1F343;|\\\n&#x1F344;|\\\n&#x1F345;|\\\n&#x1F346;|\\\n&#x1F347;|\\\n&#x1F348;|\\\n&#x1F349;|\\\n&#x1F34A;|\\\n&#x1F34B;|\\\n&#x1F34C;|\\\n&#x1F34D;|\\\n&#x1F34E;|\\\n&#x1F34F;|\\\n&#x1F350;|\\\n&#x1F351;|\\\n&#x1F352;|\\\n&#x1F353;|\\\n&#x1F354;|\\\n&#x1F355;|\\\n&#x1F356;|\\\n&#x1F357;|\\\n&#x1F358;|\\\n&#x1F359;|\\\n&#x1F35A;|\\\n&#x1F35B;|\\\n&#x1F35C;|\\\n&#x1F35D;|\\\n&#x1F35E;|\\\n&#x1F35F;|\\\n&#x1F360;|\\\n&#x1F361;|\\\n&#x1F362;|\\\n&#x1F363;|\\\n&#x1F364;|\\\n&#x1F365;|\\\n&#x1F366;|\\\n&#x1F367;|\\\n&#x1F368;|\\\n&#x1F369;|\\\n&#x1F36A;|\\\n&#x1F36B;|\\\n&#x1F36C;|\\\n&#x1F36D;|\\\n&#x1F36E;|\\\n&#x1F36F;|\\\n&#x1F370;|\\\n&#x1F371;|\\\n&#x1F372;|\\\n&#x1F373;|\\\n&#x1F374;|\\\n&#x1F375;|\\\n&#x1F376;|\\\n&#x1F377;|\\\n&#x1F378;|\\\n&#x1F379;|\\\n&#x1F37A;|\\\n&#x1F37B;|\\\n&#x1F37C;|\\\n&#x1F380;|\\\n&#x1F381;|\\\n&#x1F382;|\\\n&#x1F383;|\\\n&#x1F384;|\\\n&#x1F385;|\\\n&#x1F386;|\\\n&#x1F387;|\\\n&#x1F388;|\\\n&#x1F389;|\\\n&#x1F38A;|\\\n&#x1F38B;|\\\n&#x1F38C;|\\\n&#x1F38D;|\\\n&#x1F38E;|\\\n&#x1F38F;|\\\n&#x1F390;|\\\n&#x1F391;|\\\n&#x1F392;|\\\n&#x1F393;|\\\n&#x1F3A0;|\\\n&#x1F3A1;|\\\n&#x1F3A2;|\\\n&#x1F3A3;|\\\n&#x1F3A4;|\\\n&#x1F3A5;|\\\n&#x1F3A6;|\\\n&#x1F3A7;|\\\n&#x1F3A8;|\\\n&#x1F3A9;|\\\n&#x1F3AA;|\\\n&#x1F3AB;|\\\n&#x1F3AC;|\\\n&#x1F3AD;|\\\n&#x1F3AE;|\\\n&#x1F3AF;|\\\n&#x1F3B0;|\\\n&#x1F3B1;|\\\n&#x1F3B2;|\\\n&#x1F3B3;|\\\n&#x1F3B4;|\\\n&#x1F3B5;|\\\n&#x1F3B6;|\\\n&#x1F3B7;|\\\n&#x1F3B8;|\\\n&#x1F3B9;|\\\n&#x1F3BA;|\\\n&#x1F3BB;|\\\n&#x1F3BC;|\\\n&#x1F3BD;|\\\n&#x1F3BE;|\\\n&#x1F3BF;|\\\n&#x1F3C0;|\\\n&#x1F3C1;|\\\n&#x1F3C2;|\\\n&#x1F3C3;|\\\n&#x1F3C4;|\\\n&#x1F3C6;|\\\n&#x1F3C7;|\\\n&#x1F3C8;|\\\n&#x1F3C9;|\\\n&#x1F3CA;|\\\n&#x1F3E0;|\\\n&#x1F3E1;|\\\n&#x1F3E2;|\\\n&#x1F3E3;|\\\n&#x1F3E4;|\\\n&#x1F3E5;|\\\n&#x1F3E6;|\\\n&#x1F3E7;|\\\n&#x1F3E8;|\\\n&#x1F3E9;|\\\n&#x1F3EA;|\\\n&#x1F3EB;|\\\n&#x1F3EC;|\\\n&#x1F3ED;|\\\n&#x1F3EE;|\\\n&#x1F3EF;|\\\n&#x1F3F0;|\\\n&#x1F400;|\\\n&#x1F401;|\\\n&#x1F402;|\\\n&#x1F403;|\\\n&#x1F404;|\\\n&#x1F405;|\\\n&#x1F406;|\\\n&#x1F407;|\\\n&#x1F408;|\\\n&#x1F409;|\\\n&#x1F40A;|\\\n&#x1F40B;|\\\n&#x1F40C;|\\\n&#x1F40D;|\\\n&#x1F40E;|\\\n&#x1F40F;|\\\n&#x1F410;|\\\n&#x1F411;|\\\n&#x1F412;|\\\n&#x1F413;|\\\n&#x1F414;|\\\n&#x1F415;|\\\n&#x1F416;|\\\n&#x1F417;|\\\n&#x1F418;|\\\n&#x1F419;|\\\n&#x1F41A;|\\\n&#x1F41B;|\\\n&#x1F41C;|\\\n&#x1F41D;|\\\n&#x1F41E;|\\\n&#x1F41F;|\\\n&#x1F420;|\\\n&#x1F421;|\\\n&#x1F422;|\\\n&#x1F423;|\\\n&#x1F424;|\\\n&#x1F425;|\\\n&#x1F426;|\\\n&#x1F427;|\\\n&#x1F428;|\\\n&#x1F429;|\\\n&#x1F42A;|\\\n&#x1F42B;|\\\n&#x1F42C;|\\\n&#x1F42D;|\\\n&#x1F42E;|\\\n&#x1F42F;|\\\n&#x1F430;|\\\n&#x1F431;|\\\n&#x1F432;|\\\n&#x1F433;|\\\n&#x1F434;|\\\n&#x1F435;|\\\n&#x1F436;|\\\n&#x1F437;|\\\n&#x1F438;|\\\n&#x1F439;|\\\n&#x1F43A;|\\\n&#x1F43B;|\\\n&#x1F43C;|\\\n&#x1F43D;|\\\n&#x1F43E;|\\\n&#x1F440;|\\\n&#x1F442;|\\\n&#x1F443;|\\\n&#x1F444;|\\\n&#x1F445;|\\\n&#x1F446;|\\\n&#x1F447;|\\\n&#x1F448;|\\\n&#x1F449;|\\\n&#x1F44A;|\\\n&#x1F44B;|\\\n&#x1F44C;|\\\n&#x1F44D;|\\\n&#x1F44E;|\\\n&#x1F44F;|\\\n&#x1F450;|\\\n&#x1F451;|\\\n&#x1F452;|\\\n&#x1F453;|\\\n&#x1F454;|\\\n&#x1F455;|\\\n&#x1F456;|\\\n&#x1F457;|\\\n&#x1F458;|\\\n&#x1F459;|\\\n&#x1F45A;|\\\n&#x1F45B;|\\\n&#x1F45C;|\\\n&#x1F45D;|\\\n&#x1F45E;|\\\n&#x1F45F;|\\\n&#x1F460;|\\\n&#x1F461;|\\\n&#x1F462;|\\\n&#x1F463;|\\\n&#x1F464;|\\\n&#x1F465;|\\\n&#x1F466;|\\\n&#x1F467;|\\\n&#x1F468;|\\\n&#x1F469;|\\\n&#x1F46A;|\\\n&#x1F46B;|\\\n&#x1F46C;|\\\n&#x1F46D;|\\\n&#x1F46E;|\\\n&#x1F46F;|\\\n&#x1F470;|\\\n&#x1F471;|\\\n&#x1F472;|\\\n&#x1F473;|\\\n&#x1F474;|\\\n&#x1F475;|\\\n&#x1F476;|\\\n&#x1F477;|\\\n&#x1F478;|\\\n&#x1F479;|\\\n&#x1F47A;|\\\n&#x1F47B;|\\\n&#x1F47C;|\\\n&#x1F47D;|\\\n&#x1F47E;|\\\n&#x1F47F;|\\\n&#x1F480;|\\\n&#x1F481;|\\\n&#x1F482;|\\\n&#x1F483;|\\\n&#x1F484;|\\\n&#x1F485;|\\\n&#x1F486;|\\\n&#x1F487;|\\\n&#x1F488;|\\\n&#x1F489;|\\\n&#x1F48A;|\\\n&#x1F48B;|\\\n&#x1F48C;|\\\n&#x1F48D;|\\\n&#x1F48E;|\\\n&#x1F48F;|\\\n&#x1F490;|\\\n&#x1F491;|\\\n&#x1F492;|\\\n&#x1F493;|\\\n&#x1F494;|\\\n&#x1F495;|\\\n&#x1F496;|\\\n&#x1F497;|\\\n&#x1F498;|\\\n&#x1F499;|\\\n&#x1F49A;|\\\n&#x1F49B;|\\\n&#x1F49C;|\\\n&#x1F49D;|\\\n&#x1F49E;|\\\n&#x1F49F;|\\\n&#x1F4A0;|\\\n&#x1F4A1;|\\\n&#x1F4A2;|\\\n&#x1F4A3;|\\\n&#x1F4A4;|\\\n&#x1F4A5;|\\\n&#x1F4A6;|\\\n&#x1F4A7;|\\\n&#x1F4A8;|\\\n&#x1F4A9;|\\\n&#x1F4AA;|\\\n&#x1F4AB;|\\\n&#x1F4AC;|\\\n&#x1F4AD;|\\\n&#x1F4AE;|\\\n&#x1F4AF;|\\\n&#x1F4B0;|\\\n&#x1F4B1;|\\\n&#x1F4B2;|\\\n&#x1F4B3;|\\\n&#x1F4B4;|\\\n&#x1F4B5;|\\\n&#x1F4B6;|\\\n&#x1F4B7;|\\\n&#x1F4B8;|\\\n&#x1F4B9;|\\\n&#x1F4BA;|\\\n&#x1F4BB;|\\\n&#x1F4BC;|\\\n&#x1F4BD;|\\\n&#x1F4BE;|\\\n&#x1F4BF;|\\\n&#x1F4C0;|\\\n&#x1F4C1;|\\\n&#x1F4C2;|\\\n&#x1F4C3;|\\\n&#x1F4C4;|\\\n&#x1F4C5;|\\\n&#x1F4C6;|\\\n&#x1F4C7;|\\\n&#x1F4C8;|\\\n&#x1F4C9;|\\\n&#x1F4CA;|\\\n&#x1F4CB;|\\\n&#x1F4CC;|\\\n&#x1F4CD;|\\\n&#x1F4CE;|\\\n&#x1F4CF;|\\\n&#x1F4D0;|\\\n&#x1F4D1;|\\\n&#x1F4D2;|\\\n&#x1F4D3;|\\\n&#x1F4D4;|\\\n&#x1F4D5;|\\\n&#x1F4D6;|\\\n&#x1F4D7;|\\\n&#x1F4D8;|\\\n&#x1F4D9;|\\\n&#x1F4DA;|\\\n&#x1F4DB;|\\\n&#x1F4DC;|\\\n&#x1F4DD;|\\\n&#x1F4DE;|\\\n&#x1F4DF;|\\\n&#x1F4E0;|\\\n&#x1F4E1;|\\\n&#x1F4E2;|\\\n&#x1F4E3;|\\\n&#x1F4E4;|\\\n&#x1F4E5;|\\\n&#x1F4E6;|\\\n&#x1F4E7;|\\\n&#x1F4E8;|\\\n&#x1F4E9;|\\\n&#x1F4EA;|\\\n&#x1F4EB;|\\\n&#x1F4EC;|\\\n&#x1F4ED;|\\\n&#x1F4EE;|\\\n&#x1F4EF;|\\\n&#x1F4F0;|\\\n&#x1F4F1;|\\\n&#x1F4F2;|\\\n&#x1F4F3;|\\\n&#x1F4F4;|\\\n&#x1F4F5;|\\\n&#x1F4F6;|\\\n&#x1F4F7;|\\\n&#x1F4F9;|\\\n&#x1F4FA;|\\\n&#x1F4FB;|\\\n&#x1F4FC;|\\\n&#x1F500;|\\\n&#x1F501;|\\\n&#x1F502;|\\\n&#x1F503;|\\\n&#x1F504;|\\\n&#x1F505;|\\\n&#x1F506;|\\\n&#x1F507;|\\\n&#x1F508;|\\\n&#x1F509;|\\\n&#x1F50A;|\\\n&#x1F50B;|\\\n&#x1F50C;|\\\n&#x1F50D;|\\\n&#x1F50E;|\\\n&#x1F50F;|\\\n&#x1F510;|\\\n&#x1F511;|\\\n&#x1F512;|\\\n&#x1F513;|\\\n&#x1F514;|\\\n&#x1F515;|\\\n&#x1F516;|\\\n&#x1F517;|\\\n&#x1F518;|\\\n&#x1F519;|\\\n&#x1F51A;|\\\n&#x1F51B;|\\\n&#x1F51C;|\\\n&#x1F51D;|\\\n&#x1F51E;|\\\n&#x1F51F;|\\\n&#x1F520;|\\\n&#x1F521;|\\\n&#x1F522;|\\\n&#x1F523;|\\\n&#x1F524;|\\\n&#x1F525;|\\\n&#x1F526;|\\\n&#x1F527;|\\\n&#x1F528;|\\\n&#x1F529;|\\\n&#x1F52A;|\\\n&#x1F52B;|\\\n&#x1F52C;|\\\n&#x1F52D;|\\\n&#x1F52E;|\\\n&#x1F52F;|\\\n&#x1F530;|\\\n&#x1F531;|\\\n&#x1F532;|\\\n&#x1F533;|\\\n&#x1F534;|\\\n&#x1F535;|\\\n&#x1F536;|\\\n&#x1F537;|\\\n&#x1F538;|\\\n&#x1F539;|\\\n&#x1F53A;|\\\n&#x1F53B;|\\\n&#x1F53C;|\\\n&#x1F53D;|\\\n&#x1F550;|\\\n&#x1F551;|\\\n&#x1F552;|\\\n&#x1F553;|\\\n&#x1F554;|\\\n&#x1F555;|\\\n&#x1F556;|\\\n&#x1F557;|\\\n&#x1F558;|\\\n&#x1F559;|\\\n&#x1F55A;|\\\n&#x1F55B;|\\\n&#x1F55C;|\\\n&#x1F55D;|\\\n&#x1F55E;|\\\n&#x1F55F;|\\\n&#x1F560;|\\\n&#x1F561;|\\\n&#x1F562;|\\\n&#x1F563;|\\\n&#x1F564;|\\\n&#x1F565;|\\\n&#x1F566;|\\\n&#x1F567;|\\\n&#x1F5FB;|\\\n&#x1F5FC;|\\\n&#x1F5FD;|\\\n&#x1F5FE;|\\\n&#x1F5FF;|\\\n&#x1F600;|\\\n&#x1F601;|\\\n&#x1F602;|\\\n&#x1F603;|\\\n&#x1F604;|\\\n&#x1F605;|\\\n&#x1F606;|\\\n&#x1F607;|\\\n&#x1F608;|\\\n&#x1F609;|\\\n&#x1F60A;|\\\n&#x1F60B;|\\\n&#x1F60C;|\\\n&#x1F60D;|\\\n&#x1F60E;|\\\n&#x1F60F;|\\\n&#x1F610;|\\\n&#x1F611;|\\\n&#x1F612;|\\\n&#x1F613;|\\\n&#x1F614;|\\\n&#x1F615;|\\\n&#x1F616;|\\\n&#x1F617;|\\\n&#x1F618;|\\\n&#x1F619;|\\\n&#x1F61A;|\\\n&#x1F61B;|\\\n&#x1F61C;|\\\n&#x1F61D;|\\\n&#x1F61E;|\\\n&#x1F61F;|\\\n&#x1F620;|\\\n&#x1F621;|\\\n&#x1F622;|\\\n&#x1F623;|\\\n&#x1F624;|\\\n&#x1F625;|\\\n&#x1F626;|\\\n&#x1F627;|\\\n&#x1F628;|\\\n&#x1F629;|\\\n&#x1F62A;|\\\n&#x1F62B;|\\\n&#x1F62C;|\\\n&#x1F62D;|\\\n&#x1F62E;|\\\n&#x1F62F;|\\\n&#x1F630;|\\\n&#x1F631;|\\\n&#x1F632;|\\\n&#x1F633;|\\\n&#x1F634;|\\\n&#x1F635;|\\\n&#x1F636;|\\\n&#x1F637;|\\\n&#x1F638;|\\\n&#x1F639;|\\\n&#x1F63A;|\\\n&#x1F63B;|\\\n&#x1F63C;|\\\n&#x1F63D;|\\\n&#x1F63E;|\\\n&#x1F63F;|\\\n&#x1F640;|\\\n&#x1F641;|\\\n&#x1F642;|\\\n&#x1F645;|\\\n&#x1F646;|\\\n&#x1F647;|\\\n&#x1F648;|\\\n&#x1F649;|\\\n&#x1F64A;|\\\n&#x1F64B;|\\\n&#x1F64C;|\\\n&#x1F64D;|\\\n&#x1F64E;|\\\n&#x1F64F;|\\\n&#x1F680;|\\\n&#x1F681;|\\\n&#x1F682;|\\\n&#x1F683;|\\\n&#x1F684;|\\\n&#x1F685;|\\\n&#x1F686;|\\\n&#x1F687;|\\\n&#x1F688;|\\\n&#x1F689;|\\\n&#x1F68A;|\\\n&#x1F68B;|\\\n&#x1F68C;|\\\n&#x1F68D;|\\\n&#x1F68E;|\\\n&#x1F68F;|\\\n&#x1F690;|\\\n&#x1F691;|\\\n&#x1F692;|\\\n&#x1F693;|\\\n&#x1F694;|\\\n&#x1F695;|\\\n&#x1F696;|\\\n&#x1F697;|\\\n&#x1F698;|\\\n&#x1F699;|\\\n&#x1F69A;|\\\n&#x1F69B;|\\\n&#x1F69C;|\\\n&#x1F69D;|\\\n&#x1F69E;|\\\n&#x1F69F;|\\\n&#x1F6A0;|\\\n&#x1F6A1;|\\\n&#x1F6A2;|\\\n&#x1F6A3;|\\\n&#x1F6A4;|\\\n&#x1F6A5;|\\\n&#x1F6A6;|\\\n&#x1F6A7;|\\\n&#x1F6A8;|\\\n&#x1F6A9;|\\\n&#x1F6AA;|\\\n&#x1F6AB;|\\\n&#x1F6AC;|\\\n&#x1F6AD;|\\\n&#x1F6AE;|\\\n&#x1F6AF;|\\\n&#x1F6B0;|\\\n&#x1F6B1;|\\\n&#x1F6B2;|\\\n&#x1F6B3;|\\\n&#x1F6B4;|\\\n&#x1F6B5;|\\\n&#x1F6B6;|\\\n&#x1F6B7;|\\\n&#x1F6B8;|\\\n&#x1F6B9;|\\\n&#x1F6BA;|\\\n&#x1F6BB;|\\\n&#x1F6BC;|\\\n&#x1F6BD;|\\\n&#x1F6BE;|\\\n&#x1F6BF;|\\\n&#x1F6C0;|\\\n&#x1F6C1;|\\\n&#x1F6C2;|\\\n&#x1F6C3;|\\\n&#x1F6C4;|\\\n&#x1F6C5;|\\\n&#x203C;|\\\n&#x2049;|\\\n&#x2122;|\\\n&#x2139;|\\\n&#x2194;|\\\n&#x2195;|\\\n&#x2196;|\\\n&#x2197;|\\\n&#x2198;|\\\n&#x2199;|\\\n&#x21A9;|\\\n&#x21AA;|\\\n&#x23;&#x20E3;|\\\n&#x231A;|\\\n&#x231B;|\\\n&#x23E9;|\\\n&#x23EA;|\\\n&#x23EB;|\\\n&#x23EC;|\\\n&#x23F0;|\\\n&#x23F3;|\\\n&#x24C2;|\\\n&#x25AA;|\\\n&#x25AB;|\\\n&#x25B6;|\\\n&#x25C0;|\\\n&#x25FB;|\\\n&#x25FC;|\\\n&#x25FD;|\\\n&#x25FE;|\\\n&#x2600;|\\\n&#x2601;|\\\n&#x260E;|\\\n&#x2611;|\\\n&#x2614;|\\\n&#x2615;|\\\n&#x261D;|\\\n&#x263A;|\\\n&#x2648;|\\\n&#x2649;|\\\n&#x264A;|\\\n&#x264B;|\\\n&#x264C;|\\\n&#x264D;|\\\n&#x264E;|\\\n&#x264F;|\\\n&#x2650;|\\\n&#x2651;|\\\n&#x2652;|\\\n&#x2653;|\\\n&#x2660;|\\\n&#x2663;|\\\n&#x2665;|\\\n&#x2666;|\\\n&#x2668;|\\\n&#x267B;|\\\n&#x267F;|\\\n&#x2693;|\\\n&#x26A0;|\\\n&#x26A1;|\\\n&#x26AA;|\\\n&#x26AB;|\\\n&#x26BD;|\\\n&#x26BE;|\\\n&#x26C4;|\\\n&#x26C5;|\\\n&#x26CE;|\\\n&#x26D4;|\\\n&#x26EA;|\\\n&#x26F2;|\\\n&#x26F3;|\\\n&#x26F5;|\\\n&#x26FA;|\\\n&#x26FD;|\\\n&#x2702;|\\\n&#x2705;|\\\n&#x2708;|\\\n&#x2709;|\\\n&#x270A;|\\\n&#x270B;|\\\n&#x270C;|\\\n&#x270F;|\\\n&#x2712;|\\\n&#x2714;|\\\n&#x2716;|\\\n&#x2728;|\\\n&#x2733;|\\\n&#x2734;|\\\n&#x2744;|\\\n&#x2747;|\\\n&#x274C;|\\\n&#x274E;|\\\n&#x2753;|\\\n&#x2754;|\\\n&#x2755;|\\\n&#x2757;|\\\n&#x2764;|\\\n&#x2795;|\\\n&#x2796;|\\\n&#x2797;|\\\n&#x27A1;|\\\n&#x27B0;|\\\n&#x27BF;|\\\n&#x2934;|\\\n&#x2935;|\\\n&#x2B05;|\\\n&#x2B06;|\\\n&#x2B07;|\\\n&#x2B1B;|\\\n&#x2B1C;|\\\n&#x2B50;|\\\n&#x2B55;|\\\n&#x30;&#x20E3;|\\\n&#x3030;|\\\n&#x303D;|\\\n&#x31;&#x20E3;|\\\n&#x32;&#x20E3;|\\\n&#x3297;|\\\n&#x3299;|\\\n&#x33;&#x20E3;|\\\n&#x34;&#x20E3;|\\\n&#x35;&#x20E3;|\\\n&#x36;&#x20E3;|\\\n&#x37;&#x20E3;|\\\n&#x38;&#x20E3;|\\\n&#x39;&#x20E3;|\\\n&#xA9;|\\\n&#xAE;|\\\n&#xE50A;';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ2LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHR3ZW1vamlcXGNvbGxlY3Rpb24uZW1vamkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGxldCBjb2xsZWN0aW9uID1cbicmI3gxRjAwNDt8XFxcbiYjeDFGMENGO3xcXFxuJiN4MUYxNzA7fFxcXG4mI3gxRjE3MTt8XFxcbiYjeDFGMTdFO3xcXFxuJiN4MUYxN0Y7fFxcXG4mI3gxRjE4RTt8XFxcbiYjeDFGMTkxO3xcXFxuJiN4MUYxOTI7fFxcXG4mI3gxRjE5Mzt8XFxcbiYjeDFGMTk0O3xcXFxuJiN4MUYxOTU7fFxcXG4mI3gxRjE5Njt8XFxcbiYjeDFGMTk3O3xcXFxuJiN4MUYxOTg7fFxcXG4mI3gxRjE5OTt8XFxcbiYjeDFGMTlBO3xcXFxuJiN4MUYxRTY7fFxcXG4mI3gxRjFFNzt8XFxcbiYjeDFGMUU4OyYjeDFGMUYzO3xcXFxuJiN4MUYxRTg7fFxcXG4mI3gxRjFFOTsmI3gxRjFFQTt8XFxcbiYjeDFGMUU5O3xcXFxuJiN4MUYxRUE7JiN4MUYxRjg7fFxcXG4mI3gxRjFFQTt8XFxcbiYjeDFGMUVCOyYjeDFGMUY3O3xcXFxuJiN4MUYxRUI7fFxcXG4mI3gxRjFFQzsmI3gxRjFFNzt8XFxcbiYjeDFGMUVDO3xcXFxuJiN4MUYxRUQ7fFxcXG4mI3gxRjFFRTsmI3gxRjFGOTt8XFxcbiYjeDFGMUVFO3xcXFxuJiN4MUYxRUY7JiN4MUYxRjU7fFxcXG4mI3gxRjFFRjt8XFxcbiYjeDFGMUYwOyYjeDFGMUY3O3xcXFxuJiN4MUYxRjA7fFxcXG4mI3gxRjFGMTt8XFxcbiYjeDFGMUYyO3xcXFxuJiN4MUYxRjM7fFxcXG4mI3gxRjFGNDt8XFxcbiYjeDFGMUY1O3xcXFxuJiN4MUYxRjY7fFxcXG4mI3gxRjFGNzsmI3gxRjFGQTt8XFxcbiYjeDFGMUY3O3xcXFxuJiN4MUYxRjg7fFxcXG4mI3gxRjFGOTt8XFxcbiYjeDFGMUZBOyYjeDFGMUY4O3xcXFxuJiN4MUYxRkE7fFxcXG4mI3gxRjFGQjt8XFxcbiYjeDFGMUZDO3xcXFxuJiN4MUYxRkQ7fFxcXG4mI3gxRjFGRTt8XFxcbiYjeDFGMUZGO3xcXFxuJiN4MUYyMDE7fFxcXG4mI3gxRjIwMjt8XFxcbiYjeDFGMjFBO3xcXFxuJiN4MUYyMkY7fFxcXG4mI3gxRjIzMjt8XFxcbiYjeDFGMjMzO3xcXFxuJiN4MUYyMzQ7fFxcXG4mI3gxRjIzNTt8XFxcbiYjeDFGMjM2O3xcXFxuJiN4MUYyMzc7fFxcXG4mI3gxRjIzODt8XFxcbiYjeDFGMjM5O3xcXFxuJiN4MUYyM0E7fFxcXG4mI3gxRjI1MDt8XFxcbiYjeDFGMjUxO3xcXFxuJiN4MUYzMDA7fFxcXG4mI3gxRjMwMTt8XFxcbiYjeDFGMzAyO3xcXFxuJiN4MUYzMDM7fFxcXG4mI3gxRjMwNDt8XFxcbiYjeDFGMzA1O3xcXFxuJiN4MUYzMDY7fFxcXG4mI3gxRjMwNzt8XFxcbiYjeDFGMzA4O3xcXFxuJiN4MUYzMDk7fFxcXG4mI3gxRjMwQTt8XFxcbiYjeDFGMzBCO3xcXFxuJiN4MUYzMEM7fFxcXG4mI3gxRjMwRDt8XFxcbiYjeDFGMzBFO3xcXFxuJiN4MUYzMEY7fFxcXG4mI3gxRjMxMDt8XFxcbiYjeDFGMzExO3xcXFxuJiN4MUYzMTI7fFxcXG4mI3gxRjMxMzt8XFxcbiYjeDFGMzE0O3xcXFxuJiN4MUYzMTU7fFxcXG4mI3gxRjMxNjt8XFxcbiYjeDFGMzE3O3xcXFxuJiN4MUYzMTg7fFxcXG4mI3gxRjMxOTt8XFxcbiYjeDFGMzFBO3xcXFxuJiN4MUYzMUI7fFxcXG4mI3gxRjMxQzt8XFxcbiYjeDFGMzFEO3xcXFxuJiN4MUYzMUU7fFxcXG4mI3gxRjMxRjt8XFxcbiYjeDFGMzIwO3xcXFxuJiN4MUYzMzA7fFxcXG4mI3gxRjMzMTt8XFxcbiYjeDFGMzMyO3xcXFxuJiN4MUYzMzM7fFxcXG4mI3gxRjMzNDt8XFxcbiYjeDFGMzM1O3xcXFxuJiN4MUYzMzc7fFxcXG4mI3gxRjMzODt8XFxcbiYjeDFGMzM5O3xcXFxuJiN4MUYzM0E7fFxcXG4mI3gxRjMzQjt8XFxcbiYjeDFGMzNDO3xcXFxuJiN4MUYzM0Q7fFxcXG4mI3gxRjMzRTt8XFxcbiYjeDFGMzNGO3xcXFxuJiN4MUYzNDA7fFxcXG4mI3gxRjM0MTt8XFxcbiYjeDFGMzQyO3xcXFxuJiN4MUYzNDM7fFxcXG4mI3gxRjM0NDt8XFxcbiYjeDFGMzQ1O3xcXFxuJiN4MUYzNDY7fFxcXG4mI3gxRjM0Nzt8XFxcbiYjeDFGMzQ4O3xcXFxuJiN4MUYzNDk7fFxcXG4mI3gxRjM0QTt8XFxcbiYjeDFGMzRCO3xcXFxuJiN4MUYzNEM7fFxcXG4mI3gxRjM0RDt8XFxcbiYjeDFGMzRFO3xcXFxuJiN4MUYzNEY7fFxcXG4mI3gxRjM1MDt8XFxcbiYjeDFGMzUxO3xcXFxuJiN4MUYzNTI7fFxcXG4mI3gxRjM1Mzt8XFxcbiYjeDFGMzU0O3xcXFxuJiN4MUYzNTU7fFxcXG4mI3gxRjM1Njt8XFxcbiYjeDFGMzU3O3xcXFxuJiN4MUYzNTg7fFxcXG4mI3gxRjM1OTt8XFxcbiYjeDFGMzVBO3xcXFxuJiN4MUYzNUI7fFxcXG4mI3gxRjM1Qzt8XFxcbiYjeDFGMzVEO3xcXFxuJiN4MUYzNUU7fFxcXG4mI3gxRjM1Rjt8XFxcbiYjeDFGMzYwO3xcXFxuJiN4MUYzNjE7fFxcXG4mI3gxRjM2Mjt8XFxcbiYjeDFGMzYzO3xcXFxuJiN4MUYzNjQ7fFxcXG4mI3gxRjM2NTt8XFxcbiYjeDFGMzY2O3xcXFxuJiN4MUYzNjc7fFxcXG4mI3gxRjM2ODt8XFxcbiYjeDFGMzY5O3xcXFxuJiN4MUYzNkE7fFxcXG4mI3gxRjM2Qjt8XFxcbiYjeDFGMzZDO3xcXFxuJiN4MUYzNkQ7fFxcXG4mI3gxRjM2RTt8XFxcbiYjeDFGMzZGO3xcXFxuJiN4MUYzNzA7fFxcXG4mI3gxRjM3MTt8XFxcbiYjeDFGMzcyO3xcXFxuJiN4MUYzNzM7fFxcXG4mI3gxRjM3NDt8XFxcbiYjeDFGMzc1O3xcXFxuJiN4MUYzNzY7fFxcXG4mI3gxRjM3Nzt8XFxcbiYjeDFGMzc4O3xcXFxuJiN4MUYzNzk7fFxcXG4mI3gxRjM3QTt8XFxcbiYjeDFGMzdCO3xcXFxuJiN4MUYzN0M7fFxcXG4mI3gxRjM4MDt8XFxcbiYjeDFGMzgxO3xcXFxuJiN4MUYzODI7fFxcXG4mI3gxRjM4Mzt8XFxcbiYjeDFGMzg0O3xcXFxuJiN4MUYzODU7fFxcXG4mI3gxRjM4Njt8XFxcbiYjeDFGMzg3O3xcXFxuJiN4MUYzODg7fFxcXG4mI3gxRjM4OTt8XFxcbiYjeDFGMzhBO3xcXFxuJiN4MUYzOEI7fFxcXG4mI3gxRjM4Qzt8XFxcbiYjeDFGMzhEO3xcXFxuJiN4MUYzOEU7fFxcXG4mI3gxRjM4Rjt8XFxcbiYjeDFGMzkwO3xcXFxuJiN4MUYzOTE7fFxcXG4mI3gxRjM5Mjt8XFxcbiYjeDFGMzkzO3xcXFxuJiN4MUYzQTA7fFxcXG4mI3gxRjNBMTt8XFxcbiYjeDFGM0EyO3xcXFxuJiN4MUYzQTM7fFxcXG4mI3gxRjNBNDt8XFxcbiYjeDFGM0E1O3xcXFxuJiN4MUYzQTY7fFxcXG4mI3gxRjNBNzt8XFxcbiYjeDFGM0E4O3xcXFxuJiN4MUYzQTk7fFxcXG4mI3gxRjNBQTt8XFxcbiYjeDFGM0FCO3xcXFxuJiN4MUYzQUM7fFxcXG4mI3gxRjNBRDt8XFxcbiYjeDFGM0FFO3xcXFxuJiN4MUYzQUY7fFxcXG4mI3gxRjNCMDt8XFxcbiYjeDFGM0IxO3xcXFxuJiN4MUYzQjI7fFxcXG4mI3gxRjNCMzt8XFxcbiYjeDFGM0I0O3xcXFxuJiN4MUYzQjU7fFxcXG4mI3gxRjNCNjt8XFxcbiYjeDFGM0I3O3xcXFxuJiN4MUYzQjg7fFxcXG4mI3gxRjNCOTt8XFxcbiYjeDFGM0JBO3xcXFxuJiN4MUYzQkI7fFxcXG4mI3gxRjNCQzt8XFxcbiYjeDFGM0JEO3xcXFxuJiN4MUYzQkU7fFxcXG4mI3gxRjNCRjt8XFxcbiYjeDFGM0MwO3xcXFxuJiN4MUYzQzE7fFxcXG4mI3gxRjNDMjt8XFxcbiYjeDFGM0MzO3xcXFxuJiN4MUYzQzQ7fFxcXG4mI3gxRjNDNjt8XFxcbiYjeDFGM0M3O3xcXFxuJiN4MUYzQzg7fFxcXG4mI3gxRjNDOTt8XFxcbiYjeDFGM0NBO3xcXFxuJiN4MUYzRTA7fFxcXG4mI3gxRjNFMTt8XFxcbiYjeDFGM0UyO3xcXFxuJiN4MUYzRTM7fFxcXG4mI3gxRjNFNDt8XFxcbiYjeDFGM0U1O3xcXFxuJiN4MUYzRTY7fFxcXG4mI3gxRjNFNzt8XFxcbiYjeDFGM0U4O3xcXFxuJiN4MUYzRTk7fFxcXG4mI3gxRjNFQTt8XFxcbiYjeDFGM0VCO3xcXFxuJiN4MUYzRUM7fFxcXG4mI3gxRjNFRDt8XFxcbiYjeDFGM0VFO3xcXFxuJiN4MUYzRUY7fFxcXG4mI3gxRjNGMDt8XFxcbiYjeDFGNDAwO3xcXFxuJiN4MUY0MDE7fFxcXG4mI3gxRjQwMjt8XFxcbiYjeDFGNDAzO3xcXFxuJiN4MUY0MDQ7fFxcXG4mI3gxRjQwNTt8XFxcbiYjeDFGNDA2O3xcXFxuJiN4MUY0MDc7fFxcXG4mI3gxRjQwODt8XFxcbiYjeDFGNDA5O3xcXFxuJiN4MUY0MEE7fFxcXG4mI3gxRjQwQjt8XFxcbiYjeDFGNDBDO3xcXFxuJiN4MUY0MEQ7fFxcXG4mI3gxRjQwRTt8XFxcbiYjeDFGNDBGO3xcXFxuJiN4MUY0MTA7fFxcXG4mI3gxRjQxMTt8XFxcbiYjeDFGNDEyO3xcXFxuJiN4MUY0MTM7fFxcXG4mI3gxRjQxNDt8XFxcbiYjeDFGNDE1O3xcXFxuJiN4MUY0MTY7fFxcXG4mI3gxRjQxNzt8XFxcbiYjeDFGNDE4O3xcXFxuJiN4MUY0MTk7fFxcXG4mI3gxRjQxQTt8XFxcbiYjeDFGNDFCO3xcXFxuJiN4MUY0MUM7fFxcXG4mI3gxRjQxRDt8XFxcbiYjeDFGNDFFO3xcXFxuJiN4MUY0MUY7fFxcXG4mI3gxRjQyMDt8XFxcbiYjeDFGNDIxO3xcXFxuJiN4MUY0MjI7fFxcXG4mI3gxRjQyMzt8XFxcbiYjeDFGNDI0O3xcXFxuJiN4MUY0MjU7fFxcXG4mI3gxRjQyNjt8XFxcbiYjeDFGNDI3O3xcXFxuJiN4MUY0Mjg7fFxcXG4mI3gxRjQyOTt8XFxcbiYjeDFGNDJBO3xcXFxuJiN4MUY0MkI7fFxcXG4mI3gxRjQyQzt8XFxcbiYjeDFGNDJEO3xcXFxuJiN4MUY0MkU7fFxcXG4mI3gxRjQyRjt8XFxcbiYjeDFGNDMwO3xcXFxuJiN4MUY0MzE7fFxcXG4mI3gxRjQzMjt8XFxcbiYjeDFGNDMzO3xcXFxuJiN4MUY0MzQ7fFxcXG4mI3gxRjQzNTt8XFxcbiYjeDFGNDM2O3xcXFxuJiN4MUY0Mzc7fFxcXG4mI3gxRjQzODt8XFxcbiYjeDFGNDM5O3xcXFxuJiN4MUY0M0E7fFxcXG4mI3gxRjQzQjt8XFxcbiYjeDFGNDNDO3xcXFxuJiN4MUY0M0Q7fFxcXG4mI3gxRjQzRTt8XFxcbiYjeDFGNDQwO3xcXFxuJiN4MUY0NDI7fFxcXG4mI3gxRjQ0Mzt8XFxcbiYjeDFGNDQ0O3xcXFxuJiN4MUY0NDU7fFxcXG4mI3gxRjQ0Njt8XFxcbiYjeDFGNDQ3O3xcXFxuJiN4MUY0NDg7fFxcXG4mI3gxRjQ0OTt8XFxcbiYjeDFGNDRBO3xcXFxuJiN4MUY0NEI7fFxcXG4mI3gxRjQ0Qzt8XFxcbiYjeDFGNDREO3xcXFxuJiN4MUY0NEU7fFxcXG4mI3gxRjQ0Rjt8XFxcbiYjeDFGNDUwO3xcXFxuJiN4MUY0NTE7fFxcXG4mI3gxRjQ1Mjt8XFxcbiYjeDFGNDUzO3xcXFxuJiN4MUY0NTQ7fFxcXG4mI3gxRjQ1NTt8XFxcbiYjeDFGNDU2O3xcXFxuJiN4MUY0NTc7fFxcXG4mI3gxRjQ1ODt8XFxcbiYjeDFGNDU5O3xcXFxuJiN4MUY0NUE7fFxcXG4mI3gxRjQ1Qjt8XFxcbiYjeDFGNDVDO3xcXFxuJiN4MUY0NUQ7fFxcXG4mI3gxRjQ1RTt8XFxcbiYjeDFGNDVGO3xcXFxuJiN4MUY0NjA7fFxcXG4mI3gxRjQ2MTt8XFxcbiYjeDFGNDYyO3xcXFxuJiN4MUY0NjM7fFxcXG4mI3gxRjQ2NDt8XFxcbiYjeDFGNDY1O3xcXFxuJiN4MUY0NjY7fFxcXG4mI3gxRjQ2Nzt8XFxcbiYjeDFGNDY4O3xcXFxuJiN4MUY0Njk7fFxcXG4mI3gxRjQ2QTt8XFxcbiYjeDFGNDZCO3xcXFxuJiN4MUY0NkM7fFxcXG4mI3gxRjQ2RDt8XFxcbiYjeDFGNDZFO3xcXFxuJiN4MUY0NkY7fFxcXG4mI3gxRjQ3MDt8XFxcbiYjeDFGNDcxO3xcXFxuJiN4MUY0NzI7fFxcXG4mI3gxRjQ3Mzt8XFxcbiYjeDFGNDc0O3xcXFxuJiN4MUY0NzU7fFxcXG4mI3gxRjQ3Njt8XFxcbiYjeDFGNDc3O3xcXFxuJiN4MUY0Nzg7fFxcXG4mI3gxRjQ3OTt8XFxcbiYjeDFGNDdBO3xcXFxuJiN4MUY0N0I7fFxcXG4mI3gxRjQ3Qzt8XFxcbiYjeDFGNDdEO3xcXFxuJiN4MUY0N0U7fFxcXG4mI3gxRjQ3Rjt8XFxcbiYjeDFGNDgwO3xcXFxuJiN4MUY0ODE7fFxcXG4mI3gxRjQ4Mjt8XFxcbiYjeDFGNDgzO3xcXFxuJiN4MUY0ODQ7fFxcXG4mI3gxRjQ4NTt8XFxcbiYjeDFGNDg2O3xcXFxuJiN4MUY0ODc7fFxcXG4mI3gxRjQ4ODt8XFxcbiYjeDFGNDg5O3xcXFxuJiN4MUY0OEE7fFxcXG4mI3gxRjQ4Qjt8XFxcbiYjeDFGNDhDO3xcXFxuJiN4MUY0OEQ7fFxcXG4mI3gxRjQ4RTt8XFxcbiYjeDFGNDhGO3xcXFxuJiN4MUY0OTA7fFxcXG4mI3gxRjQ5MTt8XFxcbiYjeDFGNDkyO3xcXFxuJiN4MUY0OTM7fFxcXG4mI3gxRjQ5NDt8XFxcbiYjeDFGNDk1O3xcXFxuJiN4MUY0OTY7fFxcXG4mI3gxRjQ5Nzt8XFxcbiYjeDFGNDk4O3xcXFxuJiN4MUY0OTk7fFxcXG4mI3gxRjQ5QTt8XFxcbiYjeDFGNDlCO3xcXFxuJiN4MUY0OUM7fFxcXG4mI3gxRjQ5RDt8XFxcbiYjeDFGNDlFO3xcXFxuJiN4MUY0OUY7fFxcXG4mI3gxRjRBMDt8XFxcbiYjeDFGNEExO3xcXFxuJiN4MUY0QTI7fFxcXG4mI3gxRjRBMzt8XFxcbiYjeDFGNEE0O3xcXFxuJiN4MUY0QTU7fFxcXG4mI3gxRjRBNjt8XFxcbiYjeDFGNEE3O3xcXFxuJiN4MUY0QTg7fFxcXG4mI3gxRjRBOTt8XFxcbiYjeDFGNEFBO3xcXFxuJiN4MUY0QUI7fFxcXG4mI3gxRjRBQzt8XFxcbiYjeDFGNEFEO3xcXFxuJiN4MUY0QUU7fFxcXG4mI3gxRjRBRjt8XFxcbiYjeDFGNEIwO3xcXFxuJiN4MUY0QjE7fFxcXG4mI3gxRjRCMjt8XFxcbiYjeDFGNEIzO3xcXFxuJiN4MUY0QjQ7fFxcXG4mI3gxRjRCNTt8XFxcbiYjeDFGNEI2O3xcXFxuJiN4MUY0Qjc7fFxcXG4mI3gxRjRCODt8XFxcbiYjeDFGNEI5O3xcXFxuJiN4MUY0QkE7fFxcXG4mI3gxRjRCQjt8XFxcbiYjeDFGNEJDO3xcXFxuJiN4MUY0QkQ7fFxcXG4mI3gxRjRCRTt8XFxcbiYjeDFGNEJGO3xcXFxuJiN4MUY0QzA7fFxcXG4mI3gxRjRDMTt8XFxcbiYjeDFGNEMyO3xcXFxuJiN4MUY0QzM7fFxcXG4mI3gxRjRDNDt8XFxcbiYjeDFGNEM1O3xcXFxuJiN4MUY0QzY7fFxcXG4mI3gxRjRDNzt8XFxcbiYjeDFGNEM4O3xcXFxuJiN4MUY0Qzk7fFxcXG4mI3gxRjRDQTt8XFxcbiYjeDFGNENCO3xcXFxuJiN4MUY0Q0M7fFxcXG4mI3gxRjRDRDt8XFxcbiYjeDFGNENFO3xcXFxuJiN4MUY0Q0Y7fFxcXG4mI3gxRjREMDt8XFxcbiYjeDFGNEQxO3xcXFxuJiN4MUY0RDI7fFxcXG4mI3gxRjREMzt8XFxcbiYjeDFGNEQ0O3xcXFxuJiN4MUY0RDU7fFxcXG4mI3gxRjRENjt8XFxcbiYjeDFGNEQ3O3xcXFxuJiN4MUY0RDg7fFxcXG4mI3gxRjREOTt8XFxcbiYjeDFGNERBO3xcXFxuJiN4MUY0REI7fFxcXG4mI3gxRjREQzt8XFxcbiYjeDFGNEREO3xcXFxuJiN4MUY0REU7fFxcXG4mI3gxRjRERjt8XFxcbiYjeDFGNEUwO3xcXFxuJiN4MUY0RTE7fFxcXG4mI3gxRjRFMjt8XFxcbiYjeDFGNEUzO3xcXFxuJiN4MUY0RTQ7fFxcXG4mI3gxRjRFNTt8XFxcbiYjeDFGNEU2O3xcXFxuJiN4MUY0RTc7fFxcXG4mI3gxRjRFODt8XFxcbiYjeDFGNEU5O3xcXFxuJiN4MUY0RUE7fFxcXG4mI3gxRjRFQjt8XFxcbiYjeDFGNEVDO3xcXFxuJiN4MUY0RUQ7fFxcXG4mI3gxRjRFRTt8XFxcbiYjeDFGNEVGO3xcXFxuJiN4MUY0RjA7fFxcXG4mI3gxRjRGMTt8XFxcbiYjeDFGNEYyO3xcXFxuJiN4MUY0RjM7fFxcXG4mI3gxRjRGNDt8XFxcbiYjeDFGNEY1O3xcXFxuJiN4MUY0RjY7fFxcXG4mI3gxRjRGNzt8XFxcbiYjeDFGNEY5O3xcXFxuJiN4MUY0RkE7fFxcXG4mI3gxRjRGQjt8XFxcbiYjeDFGNEZDO3xcXFxuJiN4MUY1MDA7fFxcXG4mI3gxRjUwMTt8XFxcbiYjeDFGNTAyO3xcXFxuJiN4MUY1MDM7fFxcXG4mI3gxRjUwNDt8XFxcbiYjeDFGNTA1O3xcXFxuJiN4MUY1MDY7fFxcXG4mI3gxRjUwNzt8XFxcbiYjeDFGNTA4O3xcXFxuJiN4MUY1MDk7fFxcXG4mI3gxRjUwQTt8XFxcbiYjeDFGNTBCO3xcXFxuJiN4MUY1MEM7fFxcXG4mI3gxRjUwRDt8XFxcbiYjeDFGNTBFO3xcXFxuJiN4MUY1MEY7fFxcXG4mI3gxRjUxMDt8XFxcbiYjeDFGNTExO3xcXFxuJiN4MUY1MTI7fFxcXG4mI3gxRjUxMzt8XFxcbiYjeDFGNTE0O3xcXFxuJiN4MUY1MTU7fFxcXG4mI3gxRjUxNjt8XFxcbiYjeDFGNTE3O3xcXFxuJiN4MUY1MTg7fFxcXG4mI3gxRjUxOTt8XFxcbiYjeDFGNTFBO3xcXFxuJiN4MUY1MUI7fFxcXG4mI3gxRjUxQzt8XFxcbiYjeDFGNTFEO3xcXFxuJiN4MUY1MUU7fFxcXG4mI3gxRjUxRjt8XFxcbiYjeDFGNTIwO3xcXFxuJiN4MUY1MjE7fFxcXG4mI3gxRjUyMjt8XFxcbiYjeDFGNTIzO3xcXFxuJiN4MUY1MjQ7fFxcXG4mI3gxRjUyNTt8XFxcbiYjeDFGNTI2O3xcXFxuJiN4MUY1Mjc7fFxcXG4mI3gxRjUyODt8XFxcbiYjeDFGNTI5O3xcXFxuJiN4MUY1MkE7fFxcXG4mI3gxRjUyQjt8XFxcbiYjeDFGNTJDO3xcXFxuJiN4MUY1MkQ7fFxcXG4mI3gxRjUyRTt8XFxcbiYjeDFGNTJGO3xcXFxuJiN4MUY1MzA7fFxcXG4mI3gxRjUzMTt8XFxcbiYjeDFGNTMyO3xcXFxuJiN4MUY1MzM7fFxcXG4mI3gxRjUzNDt8XFxcbiYjeDFGNTM1O3xcXFxuJiN4MUY1MzY7fFxcXG4mI3gxRjUzNzt8XFxcbiYjeDFGNTM4O3xcXFxuJiN4MUY1Mzk7fFxcXG4mI3gxRjUzQTt8XFxcbiYjeDFGNTNCO3xcXFxuJiN4MUY1M0M7fFxcXG4mI3gxRjUzRDt8XFxcbiYjeDFGNTUwO3xcXFxuJiN4MUY1NTE7fFxcXG4mI3gxRjU1Mjt8XFxcbiYjeDFGNTUzO3xcXFxuJiN4MUY1NTQ7fFxcXG4mI3gxRjU1NTt8XFxcbiYjeDFGNTU2O3xcXFxuJiN4MUY1NTc7fFxcXG4mI3gxRjU1ODt8XFxcbiYjeDFGNTU5O3xcXFxuJiN4MUY1NUE7fFxcXG4mI3gxRjU1Qjt8XFxcbiYjeDFGNTVDO3xcXFxuJiN4MUY1NUQ7fFxcXG4mI3gxRjU1RTt8XFxcbiYjeDFGNTVGO3xcXFxuJiN4MUY1NjA7fFxcXG4mI3gxRjU2MTt8XFxcbiYjeDFGNTYyO3xcXFxuJiN4MUY1NjM7fFxcXG4mI3gxRjU2NDt8XFxcbiYjeDFGNTY1O3xcXFxuJiN4MUY1NjY7fFxcXG4mI3gxRjU2Nzt8XFxcbiYjeDFGNUZCO3xcXFxuJiN4MUY1RkM7fFxcXG4mI3gxRjVGRDt8XFxcbiYjeDFGNUZFO3xcXFxuJiN4MUY1RkY7fFxcXG4mI3gxRjYwMDt8XFxcbiYjeDFGNjAxO3xcXFxuJiN4MUY2MDI7fFxcXG4mI3gxRjYwMzt8XFxcbiYjeDFGNjA0O3xcXFxuJiN4MUY2MDU7fFxcXG4mI3gxRjYwNjt8XFxcbiYjeDFGNjA3O3xcXFxuJiN4MUY2MDg7fFxcXG4mI3gxRjYwOTt8XFxcbiYjeDFGNjBBO3xcXFxuJiN4MUY2MEI7fFxcXG4mI3gxRjYwQzt8XFxcbiYjeDFGNjBEO3xcXFxuJiN4MUY2MEU7fFxcXG4mI3gxRjYwRjt8XFxcbiYjeDFGNjEwO3xcXFxuJiN4MUY2MTE7fFxcXG4mI3gxRjYxMjt8XFxcbiYjeDFGNjEzO3xcXFxuJiN4MUY2MTQ7fFxcXG4mI3gxRjYxNTt8XFxcbiYjeDFGNjE2O3xcXFxuJiN4MUY2MTc7fFxcXG4mI3gxRjYxODt8XFxcbiYjeDFGNjE5O3xcXFxuJiN4MUY2MUE7fFxcXG4mI3gxRjYxQjt8XFxcbiYjeDFGNjFDO3xcXFxuJiN4MUY2MUQ7fFxcXG4mI3gxRjYxRTt8XFxcbiYjeDFGNjFGO3xcXFxuJiN4MUY2MjA7fFxcXG4mI3gxRjYyMTt8XFxcbiYjeDFGNjIyO3xcXFxuJiN4MUY2MjM7fFxcXG4mI3gxRjYyNDt8XFxcbiYjeDFGNjI1O3xcXFxuJiN4MUY2MjY7fFxcXG4mI3gxRjYyNzt8XFxcbiYjeDFGNjI4O3xcXFxuJiN4MUY2Mjk7fFxcXG4mI3gxRjYyQTt8XFxcbiYjeDFGNjJCO3xcXFxuJiN4MUY2MkM7fFxcXG4mI3gxRjYyRDt8XFxcbiYjeDFGNjJFO3xcXFxuJiN4MUY2MkY7fFxcXG4mI3gxRjYzMDt8XFxcbiYjeDFGNjMxO3xcXFxuJiN4MUY2MzI7fFxcXG4mI3gxRjYzMzt8XFxcbiYjeDFGNjM0O3xcXFxuJiN4MUY2MzU7fFxcXG4mI3gxRjYzNjt8XFxcbiYjeDFGNjM3O3xcXFxuJiN4MUY2Mzg7fFxcXG4mI3gxRjYzOTt8XFxcbiYjeDFGNjNBO3xcXFxuJiN4MUY2M0I7fFxcXG4mI3gxRjYzQzt8XFxcbiYjeDFGNjNEO3xcXFxuJiN4MUY2M0U7fFxcXG4mI3gxRjYzRjt8XFxcbiYjeDFGNjQwO3xcXFxuJiN4MUY2NDE7fFxcXG4mI3gxRjY0Mjt8XFxcbiYjeDFGNjQ1O3xcXFxuJiN4MUY2NDY7fFxcXG4mI3gxRjY0Nzt8XFxcbiYjeDFGNjQ4O3xcXFxuJiN4MUY2NDk7fFxcXG4mI3gxRjY0QTt8XFxcbiYjeDFGNjRCO3xcXFxuJiN4MUY2NEM7fFxcXG4mI3gxRjY0RDt8XFxcbiYjeDFGNjRFO3xcXFxuJiN4MUY2NEY7fFxcXG4mI3gxRjY4MDt8XFxcbiYjeDFGNjgxO3xcXFxuJiN4MUY2ODI7fFxcXG4mI3gxRjY4Mzt8XFxcbiYjeDFGNjg0O3xcXFxuJiN4MUY2ODU7fFxcXG4mI3gxRjY4Njt8XFxcbiYjeDFGNjg3O3xcXFxuJiN4MUY2ODg7fFxcXG4mI3gxRjY4OTt8XFxcbiYjeDFGNjhBO3xcXFxuJiN4MUY2OEI7fFxcXG4mI3gxRjY4Qzt8XFxcbiYjeDFGNjhEO3xcXFxuJiN4MUY2OEU7fFxcXG4mI3gxRjY4Rjt8XFxcbiYjeDFGNjkwO3xcXFxuJiN4MUY2OTE7fFxcXG4mI3gxRjY5Mjt8XFxcbiYjeDFGNjkzO3xcXFxuJiN4MUY2OTQ7fFxcXG4mI3gxRjY5NTt8XFxcbiYjeDFGNjk2O3xcXFxuJiN4MUY2OTc7fFxcXG4mI3gxRjY5ODt8XFxcbiYjeDFGNjk5O3xcXFxuJiN4MUY2OUE7fFxcXG4mI3gxRjY5Qjt8XFxcbiYjeDFGNjlDO3xcXFxuJiN4MUY2OUQ7fFxcXG4mI3gxRjY5RTt8XFxcbiYjeDFGNjlGO3xcXFxuJiN4MUY2QTA7fFxcXG4mI3gxRjZBMTt8XFxcbiYjeDFGNkEyO3xcXFxuJiN4MUY2QTM7fFxcXG4mI3gxRjZBNDt8XFxcbiYjeDFGNkE1O3xcXFxuJiN4MUY2QTY7fFxcXG4mI3gxRjZBNzt8XFxcbiYjeDFGNkE4O3xcXFxuJiN4MUY2QTk7fFxcXG4mI3gxRjZBQTt8XFxcbiYjeDFGNkFCO3xcXFxuJiN4MUY2QUM7fFxcXG4mI3gxRjZBRDt8XFxcbiYjeDFGNkFFO3xcXFxuJiN4MUY2QUY7fFxcXG4mI3gxRjZCMDt8XFxcbiYjeDFGNkIxO3xcXFxuJiN4MUY2QjI7fFxcXG4mI3gxRjZCMzt8XFxcbiYjeDFGNkI0O3xcXFxuJiN4MUY2QjU7fFxcXG4mI3gxRjZCNjt8XFxcbiYjeDFGNkI3O3xcXFxuJiN4MUY2Qjg7fFxcXG4mI3gxRjZCOTt8XFxcbiYjeDFGNkJBO3xcXFxuJiN4MUY2QkI7fFxcXG4mI3gxRjZCQzt8XFxcbiYjeDFGNkJEO3xcXFxuJiN4MUY2QkU7fFxcXG4mI3gxRjZCRjt8XFxcbiYjeDFGNkMwO3xcXFxuJiN4MUY2QzE7fFxcXG4mI3gxRjZDMjt8XFxcbiYjeDFGNkMzO3xcXFxuJiN4MUY2QzQ7fFxcXG4mI3gxRjZDNTt8XFxcbiYjeDIwM0M7fFxcXG4mI3gyMDQ5O3xcXFxuJiN4MjEyMjt8XFxcbiYjeDIxMzk7fFxcXG4mI3gyMTk0O3xcXFxuJiN4MjE5NTt8XFxcbiYjeDIxOTY7fFxcXG4mI3gyMTk3O3xcXFxuJiN4MjE5ODt8XFxcbiYjeDIxOTk7fFxcXG4mI3gyMUE5O3xcXFxuJiN4MjFBQTt8XFxcbiYjeDIzOyYjeDIwRTM7fFxcXG4mI3gyMzFBO3xcXFxuJiN4MjMxQjt8XFxcbiYjeDIzRTk7fFxcXG4mI3gyM0VBO3xcXFxuJiN4MjNFQjt8XFxcbiYjeDIzRUM7fFxcXG4mI3gyM0YwO3xcXFxuJiN4MjNGMzt8XFxcbiYjeDI0QzI7fFxcXG4mI3gyNUFBO3xcXFxuJiN4MjVBQjt8XFxcbiYjeDI1QjY7fFxcXG4mI3gyNUMwO3xcXFxuJiN4MjVGQjt8XFxcbiYjeDI1RkM7fFxcXG4mI3gyNUZEO3xcXFxuJiN4MjVGRTt8XFxcbiYjeDI2MDA7fFxcXG4mI3gyNjAxO3xcXFxuJiN4MjYwRTt8XFxcbiYjeDI2MTE7fFxcXG4mI3gyNjE0O3xcXFxuJiN4MjYxNTt8XFxcbiYjeDI2MUQ7fFxcXG4mI3gyNjNBO3xcXFxuJiN4MjY0ODt8XFxcbiYjeDI2NDk7fFxcXG4mI3gyNjRBO3xcXFxuJiN4MjY0Qjt8XFxcbiYjeDI2NEM7fFxcXG4mI3gyNjREO3xcXFxuJiN4MjY0RTt8XFxcbiYjeDI2NEY7fFxcXG4mI3gyNjUwO3xcXFxuJiN4MjY1MTt8XFxcbiYjeDI2NTI7fFxcXG4mI3gyNjUzO3xcXFxuJiN4MjY2MDt8XFxcbiYjeDI2NjM7fFxcXG4mI3gyNjY1O3xcXFxuJiN4MjY2Njt8XFxcbiYjeDI2Njg7fFxcXG4mI3gyNjdCO3xcXFxuJiN4MjY3Rjt8XFxcbiYjeDI2OTM7fFxcXG4mI3gyNkEwO3xcXFxuJiN4MjZBMTt8XFxcbiYjeDI2QUE7fFxcXG4mI3gyNkFCO3xcXFxuJiN4MjZCRDt8XFxcbiYjeDI2QkU7fFxcXG4mI3gyNkM0O3xcXFxuJiN4MjZDNTt8XFxcbiYjeDI2Q0U7fFxcXG4mI3gyNkQ0O3xcXFxuJiN4MjZFQTt8XFxcbiYjeDI2RjI7fFxcXG4mI3gyNkYzO3xcXFxuJiN4MjZGNTt8XFxcbiYjeDI2RkE7fFxcXG4mI3gyNkZEO3xcXFxuJiN4MjcwMjt8XFxcbiYjeDI3MDU7fFxcXG4mI3gyNzA4O3xcXFxuJiN4MjcwOTt8XFxcbiYjeDI3MEE7fFxcXG4mI3gyNzBCO3xcXFxuJiN4MjcwQzt8XFxcbiYjeDI3MEY7fFxcXG4mI3gyNzEyO3xcXFxuJiN4MjcxNDt8XFxcbiYjeDI3MTY7fFxcXG4mI3gyNzI4O3xcXFxuJiN4MjczMzt8XFxcbiYjeDI3MzQ7fFxcXG4mI3gyNzQ0O3xcXFxuJiN4Mjc0Nzt8XFxcbiYjeDI3NEM7fFxcXG4mI3gyNzRFO3xcXFxuJiN4Mjc1Mzt8XFxcbiYjeDI3NTQ7fFxcXG4mI3gyNzU1O3xcXFxuJiN4Mjc1Nzt8XFxcbiYjeDI3NjQ7fFxcXG4mI3gyNzk1O3xcXFxuJiN4Mjc5Njt8XFxcbiYjeDI3OTc7fFxcXG4mI3gyN0ExO3xcXFxuJiN4MjdCMDt8XFxcbiYjeDI3QkY7fFxcXG4mI3gyOTM0O3xcXFxuJiN4MjkzNTt8XFxcbiYjeDJCMDU7fFxcXG4mI3gyQjA2O3xcXFxuJiN4MkIwNzt8XFxcbiYjeDJCMUI7fFxcXG4mI3gyQjFDO3xcXFxuJiN4MkI1MDt8XFxcbiYjeDJCNTU7fFxcXG4mI3gzMDsmI3gyMEUzO3xcXFxuJiN4MzAzMDt8XFxcbiYjeDMwM0Q7fFxcXG4mI3gzMTsmI3gyMEUzO3xcXFxuJiN4MzI7JiN4MjBFMzt8XFxcbiYjeDMyOTc7fFxcXG4mI3gzMjk5O3xcXFxuJiN4MzM7JiN4MjBFMzt8XFxcbiYjeDM0OyYjeDIwRTM7fFxcXG4mI3gzNTsmI3gyMEUzO3xcXFxuJiN4MzY7JiN4MjBFMzt8XFxcbiYjeDM3OyYjeDIwRTM7fFxcXG4mI3gzODsmI3gyMEUzO3xcXFxuJiN4Mzk7JiN4MjBFMzt8XFxcbiYjeEE5O3xcXFxuJiN4QUU7fFxcXG4mI3hFNTBBOyc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gbm9kZV9tb2R1bGVzL2FuZ3VsYXItcm91dGVyLWxvYWRlci9zcmMhLi9+L2FuZ3VsYXIyLXRlbXBsYXRlLWxvYWRlciEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvdHdlbW9qaS9jb2xsZWN0aW9uLmVtb2ppLnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwMkJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///846\n");

/***/ }),

/***/ 857:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/fullview/fullview.component.html ***!
  \********************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"<div id=\\\"drawing-component\\\">\\n        <div id=\\\"overlay\\\"></div>\\n        \\n          <div id=\\\"default-board\\\">\\n            <div class=\\\"btn-group-vertical\\\">\\n            <button class=\\\"btn btn-primary-outline\\\">Submit</button>  \\n            </div>  \\n          </div> \\n        \\n          <div id=\\\"emojiControls\\\">\\n            <div id=\\\"lastFrame\\\"></div>\\n            \\n            <div id=\\\"emojiList\\\">\\n              <div *ngIf=\\\"setupEmojiList\\\">\\n                <ul id=\\\"emoji-list\\\">\\n                    <li *ngFor=\\\"let icon of emojis\\\" >\\n                      <img [id]=\\\"icon.id\\\" class=\\\"emoji\\\" draggable=\\\"true\\\" [alt]=\\\"icon.alt\\\" [src]=\\\"icon?.dataUrl\\\"  \\n                      (dragstart)=\\\"dragEvents.dragstart($event, icon)\\\"\\n                      (click)=\\\"imgQueue.queueEmoji($event, icon)\\\">\\n                    </li>\\n                </ul>\\n              </div>\\n            </div>\\n        \\n            <div id=\\\"resizeEditor\\\">\\n              <div id=\\\"imgQueue\\\" (drop)=\\\"imgQueue.drop($event)\\\" (dragover)=\\\"dragEvents.allowDrop($event)\\\">\\n                image queue\\n              </div>\\n              \\n              <div id=\\\"resizeArea\\\" (drop)=\\\"resizeEditor.drop($event)\\\" (dragover)=\\\"dragEvents.allowDrop($event)\\\">\\n                drop imges to be resized inside of here...\\n              </div>\\n              \\n              <div id=\\\"control-box\\\">\\n                <div>\\n                  <input (change)=\\\"resizeEditor.sliderChanged($event)\\\" id=\\\"resize-slider\\\" type=\\\"range\\\" [value]=\\\"sliderValue\\\" min=\\\"-100\\\" max=\\\"100\\\">\\n                </div>\\n                <div>\\n                  <button id=\\\"resizeBtn\\\" [attr.href]=\\\"imgQueue.editButtonEnabled() ? '#' : null\\\" \\n                  [class.disabled]=\\\"imgQueue.editButtonEnabled()\\\" \\n                  (click)=\\\"imgQueue.editButtonEnabled() && imgQueue.editImage(resizeEditor)\\\">2. Resize</button>\\n                </div>\\n                <div>\\n                  <button id=\\\"doneResizeBtn\\\" [attr.href]=\\\"resizeEditor.doneEditingEnabled() ? '#' : null\\\" \\n                  [class.disabled]=\\\"resizeEditor.doneEditingEnabled()\\\" \\n                  (click)=\\\"resizeEditor.doneEditingEnabled() && resizeEditor.doneEditing(imgQueue)\\\">3. Done Resizing</button>\\n                </div>\\n              </div>\\n              \\n            \\n              \\n           \\n          \\n          </div>\\n        </div>\\n        </div>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU3LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcZnVsbHZpZXdcXGZ1bGx2aWV3LmNvbXBvbmVudC5odG1sIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJkcmF3aW5nLWNvbXBvbmVudFxcXCI+XFxuICAgICAgICA8ZGl2IGlkPVxcXCJvdmVybGF5XFxcIj48L2Rpdj5cXG4gICAgICAgIFxcbiAgICAgICAgICA8ZGl2IGlkPVxcXCJkZWZhdWx0LWJvYXJkXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAtdmVydGljYWxcXFwiPlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeS1vdXRsaW5lXFxcIj5TdWJtaXQ8L2J1dHRvbj4gIFxcbiAgICAgICAgICAgIDwvZGl2PiAgXFxuICAgICAgICAgIDwvZGl2PiBcXG4gICAgICAgIFxcbiAgICAgICAgICA8ZGl2IGlkPVxcXCJlbW9qaUNvbnRyb2xzXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGlkPVxcXCJsYXN0RnJhbWVcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcImVtb2ppTGlzdFxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVxcXCJzZXR1cEVtb2ppTGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgIDx1bCBpZD1cXFwiZW1vamktbGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVxcXCJsZXQgaWNvbiBvZiBlbW9qaXNcXFwiID5cXG4gICAgICAgICAgICAgICAgICAgICAgPGltZyBbaWRdPVxcXCJpY29uLmlkXFxcIiBjbGFzcz1cXFwiZW1vamlcXFwiIGRyYWdnYWJsZT1cXFwidHJ1ZVxcXCIgW2FsdF09XFxcImljb24uYWx0XFxcIiBbc3JjXT1cXFwiaWNvbj8uZGF0YVVybFxcXCIgIFxcbiAgICAgICAgICAgICAgICAgICAgICAoZHJhZ3N0YXJ0KT1cXFwiZHJhZ0V2ZW50cy5kcmFnc3RhcnQoJGV2ZW50LCBpY29uKVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cXFwiaW1nUXVldWUucXVldWVFbW9qaSgkZXZlbnQsIGljb24pXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFxcbiAgICAgICAgICAgIDxkaXYgaWQ9XFxcInJlc2l6ZUVkaXRvclxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJpbWdRdWV1ZVxcXCIgKGRyb3ApPVxcXCJpbWdRdWV1ZS5kcm9wKCRldmVudClcXFwiIChkcmFnb3Zlcik9XFxcImRyYWdFdmVudHMuYWxsb3dEcm9wKCRldmVudClcXFwiPlxcbiAgICAgICAgICAgICAgICBpbWFnZSBxdWV1ZVxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XFxcInJlc2l6ZUFyZWFcXFwiIChkcm9wKT1cXFwicmVzaXplRWRpdG9yLmRyb3AoJGV2ZW50KVxcXCIgKGRyYWdvdmVyKT1cXFwiZHJhZ0V2ZW50cy5hbGxvd0Ryb3AoJGV2ZW50KVxcXCI+XFxuICAgICAgICAgICAgICAgIGRyb3AgaW1nZXMgdG8gYmUgcmVzaXplZCBpbnNpZGUgb2YgaGVyZS4uLlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XFxcImNvbnRyb2wtYm94XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XFxcInJlc2l6ZUVkaXRvci5zbGlkZXJDaGFuZ2VkKCRldmVudClcXFwiIGlkPVxcXCJyZXNpemUtc2xpZGVyXFxcIiB0eXBlPVxcXCJyYW5nZVxcXCIgW3ZhbHVlXT1cXFwic2xpZGVyVmFsdWVcXFwiIG1pbj1cXFwiLTEwMFxcXCIgbWF4PVxcXCIxMDBcXFwiPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdj5cXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJyZXNpemVCdG5cXFwiIFthdHRyLmhyZWZdPVxcXCJpbWdRdWV1ZS5lZGl0QnV0dG9uRW5hYmxlZCgpID8gJyMnIDogbnVsbFxcXCIgXFxuICAgICAgICAgICAgICAgICAgW2NsYXNzLmRpc2FibGVkXT1cXFwiaW1nUXVldWUuZWRpdEJ1dHRvbkVuYWJsZWQoKVxcXCIgXFxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cXFwiaW1nUXVldWUuZWRpdEJ1dHRvbkVuYWJsZWQoKSAmJiBpbWdRdWV1ZS5lZGl0SW1hZ2UocmVzaXplRWRpdG9yKVxcXCI+Mi4gUmVzaXplPC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcImRvbmVSZXNpemVCdG5cXFwiIFthdHRyLmhyZWZdPVxcXCJyZXNpemVFZGl0b3IuZG9uZUVkaXRpbmdFbmFibGVkKCkgPyAnIycgOiBudWxsXFxcIiBcXG4gICAgICAgICAgICAgICAgICBbY2xhc3MuZGlzYWJsZWRdPVxcXCJyZXNpemVFZGl0b3IuZG9uZUVkaXRpbmdFbmFibGVkKClcXFwiIFxcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XFxcInJlc2l6ZUVkaXRvci5kb25lRWRpdGluZ0VuYWJsZWQoKSAmJiByZXNpemVFZGl0b3IuZG9uZUVkaXRpbmcoaW1nUXVldWUpXFxcIj4zLiBEb25lIFJlc2l6aW5nPC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICBcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICAgIFxcbiAgICAgICAgICAgXFxuICAgICAgICAgIFxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvZHJhd2luZ2ZyYW1lL2Z1bGx2aWV3L2Z1bGx2aWV3LmNvbXBvbmVudC5odG1sXG4vLyBtb2R1bGUgaWQgPSA4NTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///857\n");

/***/ }),

/***/ 858:
/* no static exports found */
/* all exports used */
/*!********************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/mobile/mobileview.component.html ***!
  \********************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"<div id=\\\"drawing-component\\\">\\n  <!--<div *ngIf=\\\"isLandscape\\\" id=\\\"landscape-overlay\\\"></div>-->\\n  <div id=\\\"default-board\\\"></div>\\n\\n  <button class=\\\"btn-lights\\\" id=\\\"submit-btn\\\" (click)=\\\"submitFrame(true)\\\">SUBMIT</button>\\n\\n  <div id=\\\"emoji-controls\\\" [style.margin-top]=\\\"openControls ? '0px' : '-1000px'\\\">\\n\\n    <div id=\\\"resize-controls\\\">\\n\\n      <div id=\\\"resize-area\\\" (drop)=\\\"resizeEditor.drop($event)\\\" (dragover)=\\\"dragEvents.allowDrop($event)\\\">\\n        <ol>\\n          <li>Touch an emoji to add it to your Emoji Queue.</li>\\n          <li>Drag an emoji from the queue to add it to your drawing.</li>\\n          <li>Use the Resize Button to move emoji from emoji queue to resize area.</li>\\n          <li>Drag the slider to resize your emoji.</li>\\n          <li>Use the Done Resizing button to save your edit to the emoji queue. </li>\\n          <li>Drag your resized emoji from the queue to your drawing.</li>\\n          <li>Good luck and have fun!</li>\\n        </ol>\\n      </div>\\n\\n      <div id=\\\"control-box\\\">\\n\\n        <div>\\n          <input (change)=\\\"resizeEditor.sliderChanged($event)\\\" id=\\\"resize-slider\\\" type=\\\"range\\\" [value]=\\\"sliderValue\\\" min=\\\"-50\\\" max=\\\"100\\\">\\n        </div>\\n\\n        <div>\\n          <button class=\\\"btn-lights\\\" id=\\\"resize-btn\\\" [attr.href]=\\\"imgQueue.editButtonEnabled() ? '#' : null\\\" [class.disabled]=\\\"imgQueue.editButtonEnabled()\\\"\\n            (click)=\\\"imgQueue.editButtonEnabled() && imgQueue.editImage(resizeEditor)\\\">1. Resize</button>\\n        </div>\\n\\n        <div>\\n          <button class=\\\"btn-lights\\\" id=\\\"resizefinished-btn\\\" [attr.href]=\\\"resizeEditor.doneEditingEnabled() ? '#' : null\\\" [class.disabled]=\\\"resizeEditor.doneEditingEnabled()\\\"\\n            (click)=\\\"doneEditingWrapper()\\\">2. Done Resizing</button>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n\\n    <div id=\\\"emoji-container\\\">\\n      <div id=\\\"emoji-list-msg\\\" *ngIf=\\\"!setupEmojiList\\\">\\n        {{ collectionMsg }}\\n        <div class=\\\"load-bar\\\">\\n          <div class=\\\"bar\\\"></div>\\n          <div class=\\\"bar\\\"></div>\\n          <div class=\\\"bar\\\"></div>\\n        </div>\\n      </div>\\n      \\n      <div id=\\\"emoji-list\\\" *ngIf=\\\"setupEmojiList\\\">\\n        <div *ngFor=\\\"let icon of emojis\\\" class=\\\"emoji-div\\\" >\\n          <img [id]=\\\"icon.id\\\" class=\\\"emoji\\\" draggable=\\\"true\\\" [alt]=\\\"icon.alt\\\" [src]=\\\"icon?.dataUrl\\\" (dragstart)=\\\"dragEvents.dragstart($event, icon)\\\"\\n            (click)=\\\"imgQueue.queueEmoji($event, icon)\\\">\\n        </div>\\n      \\n        \\n      </div>\\n\\n    </div>\\n\\n    \\n\\n  </div>\\n\\n  <div id=\\\"control-bar\\\">\\n\\n    <div id=\\\"img-queue\\\" (drop)=\\\"imgQueue.drop($event)\\\" (dragover)=\\\"dragEvents.allowDrop($event)\\\">\\n      <p>Emoji Queue</p>\\n    </div>\\n\\n    <div id=\\\"last-frame\\\">\\n      <p *ngIf=\\\"!openControls\\\" >This is a test. This is a test. This is a test. \\n        This is a test. This is a test. This is a test. \\n        This is a test. This is a test. This is a test. \\n        This is a test. This is a test. This is a test.</p>\\n        <div id=\\\"scroll-btns\\\">\\n          <button (click)=\\\"previousEmojis()\\\" [class.disabled]=\\\"!backAvail()\\\" class=\\\"btn-lights\\\" id=\\\"scroll-btn-left\\\"><i class=\\\"fa fa-arrow-circle-left\\\" aria-hidden=\\\"true\\\"></i></button>\\n          <button (click)=\\\"nextEmojis()\\\" [class.disabled]=\\\"!nextAvail\\\" class=\\\"btn-lights\\\" id=\\\"scroll-btn-right\\\"><i class=\\\"fa fa-arrow-circle-right\\\" aria-hidden=\\\"true\\\"></i></button>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"emoji-btn\\\">\\n      <button *ngIf=\\\"!openControls\\\" (click)=\\\"toggleControls()\\\" class=\\\"btn-darks\\\" id=\\\"emoji-btn\\\">\\n          <i id=\\\"emoji-btn-icon\\\" class=\\\"fa fa-smile-o\\\" aria-hidden=\\\"true\\\"></i>Emojis\\n      </button>\\n      <button *ngIf=\\\"openControls\\\" (click)=\\\"toggleControls()\\\" class=\\\"btn-darks\\\" id=\\\"emoji-btn\\\">\\n            <i id=\\\"emoji-btn-icon\\\" class=\\\"fa fa-smile-o\\\" aria-hidden=\\\"true\\\"></i>Close\\n        </button>\\n      <!--<i id=\\\"emoji-btn-icon\\\" class=\\\"fa fa-smile-o\\\" aria-hidden=\\\"true\\\"></i>-->\\n    </div>\\n  </div>\\n\\n</div>\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU4LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcbW9iaWxlXFxtb2JpbGV2aWV3LmNvbXBvbmVudC5odG1sIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGlkPVxcXCJkcmF3aW5nLWNvbXBvbmVudFxcXCI+XFxuICA8IS0tPGRpdiAqbmdJZj1cXFwiaXNMYW5kc2NhcGVcXFwiIGlkPVxcXCJsYW5kc2NhcGUtb3ZlcmxheVxcXCI+PC9kaXY+LS0+XFxuICA8ZGl2IGlkPVxcXCJkZWZhdWx0LWJvYXJkXFxcIj48L2Rpdj5cXG5cXG4gIDxidXR0b24gY2xhc3M9XFxcImJ0bi1saWdodHNcXFwiIGlkPVxcXCJzdWJtaXQtYnRuXFxcIiAoY2xpY2spPVxcXCJzdWJtaXRGcmFtZSh0cnVlKVxcXCI+U1VCTUlUPC9idXR0b24+XFxuXFxuICA8ZGl2IGlkPVxcXCJlbW9qaS1jb250cm9sc1xcXCIgW3N0eWxlLm1hcmdpbi10b3BdPVxcXCJvcGVuQ29udHJvbHMgPyAnMHB4JyA6ICctMTAwMHB4J1xcXCI+XFxuXFxuICAgIDxkaXYgaWQ9XFxcInJlc2l6ZS1jb250cm9sc1xcXCI+XFxuXFxuICAgICAgPGRpdiBpZD1cXFwicmVzaXplLWFyZWFcXFwiIChkcm9wKT1cXFwicmVzaXplRWRpdG9yLmRyb3AoJGV2ZW50KVxcXCIgKGRyYWdvdmVyKT1cXFwiZHJhZ0V2ZW50cy5hbGxvd0Ryb3AoJGV2ZW50KVxcXCI+XFxuICAgICAgICA8b2w+XFxuICAgICAgICAgIDxsaT5Ub3VjaCBhbiBlbW9qaSB0byBhZGQgaXQgdG8geW91ciBFbW9qaSBRdWV1ZS48L2xpPlxcbiAgICAgICAgICA8bGk+RHJhZyBhbiBlbW9qaSBmcm9tIHRoZSBxdWV1ZSB0byBhZGQgaXQgdG8geW91ciBkcmF3aW5nLjwvbGk+XFxuICAgICAgICAgIDxsaT5Vc2UgdGhlIFJlc2l6ZSBCdXR0b24gdG8gbW92ZSBlbW9qaSBmcm9tIGVtb2ppIHF1ZXVlIHRvIHJlc2l6ZSBhcmVhLjwvbGk+XFxuICAgICAgICAgIDxsaT5EcmFnIHRoZSBzbGlkZXIgdG8gcmVzaXplIHlvdXIgZW1vamkuPC9saT5cXG4gICAgICAgICAgPGxpPlVzZSB0aGUgRG9uZSBSZXNpemluZyBidXR0b24gdG8gc2F2ZSB5b3VyIGVkaXQgdG8gdGhlIGVtb2ppIHF1ZXVlLiA8L2xpPlxcbiAgICAgICAgICA8bGk+RHJhZyB5b3VyIHJlc2l6ZWQgZW1vamkgZnJvbSB0aGUgcXVldWUgdG8geW91ciBkcmF3aW5nLjwvbGk+XFxuICAgICAgICAgIDxsaT5Hb29kIGx1Y2sgYW5kIGhhdmUgZnVuITwvbGk+XFxuICAgICAgICA8L29sPlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDxkaXYgaWQ9XFxcImNvbnRyb2wtYm94XFxcIj5cXG5cXG4gICAgICAgIDxkaXY+XFxuICAgICAgICAgIDxpbnB1dCAoY2hhbmdlKT1cXFwicmVzaXplRWRpdG9yLnNsaWRlckNoYW5nZWQoJGV2ZW50KVxcXCIgaWQ9XFxcInJlc2l6ZS1zbGlkZXJcXFwiIHR5cGU9XFxcInJhbmdlXFxcIiBbdmFsdWVdPVxcXCJzbGlkZXJWYWx1ZVxcXCIgbWluPVxcXCItNTBcXFwiIG1heD1cXFwiMTAwXFxcIj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuLWxpZ2h0c1xcXCIgaWQ9XFxcInJlc2l6ZS1idG5cXFwiIFthdHRyLmhyZWZdPVxcXCJpbWdRdWV1ZS5lZGl0QnV0dG9uRW5hYmxlZCgpID8gJyMnIDogbnVsbFxcXCIgW2NsYXNzLmRpc2FibGVkXT1cXFwiaW1nUXVldWUuZWRpdEJ1dHRvbkVuYWJsZWQoKVxcXCJcXG4gICAgICAgICAgICAoY2xpY2spPVxcXCJpbWdRdWV1ZS5lZGl0QnV0dG9uRW5hYmxlZCgpICYmIGltZ1F1ZXVlLmVkaXRJbWFnZShyZXNpemVFZGl0b3IpXFxcIj4xLiBSZXNpemU8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuLWxpZ2h0c1xcXCIgaWQ9XFxcInJlc2l6ZWZpbmlzaGVkLWJ0blxcXCIgW2F0dHIuaHJlZl09XFxcInJlc2l6ZUVkaXRvci5kb25lRWRpdGluZ0VuYWJsZWQoKSA/ICcjJyA6IG51bGxcXFwiIFtjbGFzcy5kaXNhYmxlZF09XFxcInJlc2l6ZUVkaXRvci5kb25lRWRpdGluZ0VuYWJsZWQoKVxcXCJcXG4gICAgICAgICAgICAoY2xpY2spPVxcXCJkb25lRWRpdGluZ1dyYXBwZXIoKVxcXCI+Mi4gRG9uZSBSZXNpemluZzwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgPC9kaXY+XFxuXFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGlkPVxcXCJlbW9qaS1jb250YWluZXJcXFwiPlxcbiAgICAgIDxkaXYgaWQ9XFxcImVtb2ppLWxpc3QtbXNnXFxcIiAqbmdJZj1cXFwiIXNldHVwRW1vamlMaXN0XFxcIj5cXG4gICAgICAgIHt7IGNvbGxlY3Rpb25Nc2cgfX1cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImxvYWQtYmFyXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYmFyXFxcIj48L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYmFyXFxcIj48L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYmFyXFxcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIFxcbiAgICAgIDxkaXYgaWQ9XFxcImVtb2ppLWxpc3RcXFwiICpuZ0lmPVxcXCJzZXR1cEVtb2ppTGlzdFxcXCI+XFxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IGljb24gb2YgZW1vamlzXFxcIiBjbGFzcz1cXFwiZW1vamktZGl2XFxcIiA+XFxuICAgICAgICAgIDxpbWcgW2lkXT1cXFwiaWNvbi5pZFxcXCIgY2xhc3M9XFxcImVtb2ppXFxcIiBkcmFnZ2FibGU9XFxcInRydWVcXFwiIFthbHRdPVxcXCJpY29uLmFsdFxcXCIgW3NyY109XFxcImljb24/LmRhdGFVcmxcXFwiIChkcmFnc3RhcnQpPVxcXCJkcmFnRXZlbnRzLmRyYWdzdGFydCgkZXZlbnQsIGljb24pXFxcIlxcbiAgICAgICAgICAgIChjbGljayk9XFxcImltZ1F1ZXVlLnF1ZXVlRW1vamkoJGV2ZW50LCBpY29uKVxcXCI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICBcXG4gICAgICAgIFxcbiAgICAgIDwvZGl2PlxcblxcbiAgICA8L2Rpdj5cXG5cXG4gICAgXFxuXFxuICA8L2Rpdj5cXG5cXG4gIDxkaXYgaWQ9XFxcImNvbnRyb2wtYmFyXFxcIj5cXG5cXG4gICAgPGRpdiBpZD1cXFwiaW1nLXF1ZXVlXFxcIiAoZHJvcCk9XFxcImltZ1F1ZXVlLmRyb3AoJGV2ZW50KVxcXCIgKGRyYWdvdmVyKT1cXFwiZHJhZ0V2ZW50cy5hbGxvd0Ryb3AoJGV2ZW50KVxcXCI+XFxuICAgICAgPHA+RW1vamkgUXVldWU8L3A+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGlkPVxcXCJsYXN0LWZyYW1lXFxcIj5cXG4gICAgICA8cCAqbmdJZj1cXFwiIW9wZW5Db250cm9sc1xcXCIgPlRoaXMgaXMgYSB0ZXN0LiBUaGlzIGlzIGEgdGVzdC4gVGhpcyBpcyBhIHRlc3QuIFxcbiAgICAgICAgVGhpcyBpcyBhIHRlc3QuIFRoaXMgaXMgYSB0ZXN0LiBUaGlzIGlzIGEgdGVzdC4gXFxuICAgICAgICBUaGlzIGlzIGEgdGVzdC4gVGhpcyBpcyBhIHRlc3QuIFRoaXMgaXMgYSB0ZXN0LiBcXG4gICAgICAgIFRoaXMgaXMgYSB0ZXN0LiBUaGlzIGlzIGEgdGVzdC4gVGhpcyBpcyBhIHRlc3QuPC9wPlxcbiAgICAgICAgPGRpdiBpZD1cXFwic2Nyb2xsLWJ0bnNcXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIChjbGljayk9XFxcInByZXZpb3VzRW1vamlzKClcXFwiIFtjbGFzcy5kaXNhYmxlZF09XFxcIiFiYWNrQXZhaWwoKVxcXCIgY2xhc3M9XFxcImJ0bi1saWdodHNcXFwiIGlkPVxcXCJzY3JvbGwtYnRuLWxlZnRcXFwiPjxpIGNsYXNzPVxcXCJmYSBmYS1hcnJvdy1jaXJjbGUtbGVmdFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgPGJ1dHRvbiAoY2xpY2spPVxcXCJuZXh0RW1vamlzKClcXFwiIFtjbGFzcy5kaXNhYmxlZF09XFxcIiFuZXh0QXZhaWxcXFwiIGNsYXNzPVxcXCJidG4tbGlnaHRzXFxcIiBpZD1cXFwic2Nyb2xsLWJ0bi1yaWdodFxcXCI+PGkgY2xhc3M9XFxcImZhIGZhLWFycm93LWNpcmNsZS1yaWdodFxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZW1vamktYnRuXFxcIj5cXG4gICAgICA8YnV0dG9uICpuZ0lmPVxcXCIhb3BlbkNvbnRyb2xzXFxcIiAoY2xpY2spPVxcXCJ0b2dnbGVDb250cm9scygpXFxcIiBjbGFzcz1cXFwiYnRuLWRhcmtzXFxcIiBpZD1cXFwiZW1vamktYnRuXFxcIj5cXG4gICAgICAgICAgPGkgaWQ9XFxcImVtb2ppLWJ0bi1pY29uXFxcIiBjbGFzcz1cXFwiZmEgZmEtc21pbGUtb1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvaT5FbW9qaXNcXG4gICAgICA8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uICpuZ0lmPVxcXCJvcGVuQ29udHJvbHNcXFwiIChjbGljayk9XFxcInRvZ2dsZUNvbnRyb2xzKClcXFwiIGNsYXNzPVxcXCJidG4tZGFya3NcXFwiIGlkPVxcXCJlbW9qaS1idG5cXFwiPlxcbiAgICAgICAgICAgIDxpIGlkPVxcXCJlbW9qaS1idG4taWNvblxcXCIgY2xhc3M9XFxcImZhIGZhLXNtaWxlLW9cXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L2k+Q2xvc2VcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgIDwhLS08aSBpZD1cXFwiZW1vamktYnRuLWljb25cXFwiIGNsYXNzPVxcXCJmYSBmYS1zbWlsZS1vXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9pPi0tPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcblxcbjwvZGl2PlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdmcmFtZS9tb2JpbGUvbW9iaWxldmlldy5jb21wb25lbnQuaHRtbFxuLy8gbW9kdWxlIGlkID0gODU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///858\n");

/***/ }),

/***/ 859:
/* no static exports found */
/* all exports used */
/*!****************************************************************!*\
  !*** ./src/app/modules/gameloop/textframe/text.component.html ***!
  \****************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"<div class=\\\"container-fluid\\\">\\n    <div *ngIf=\\\"showImgFrame\\\" id=\\\"previousFrameImg\\\" class=\\\"cards\\\">\\n        <div class=\\\"cards-header\\\">\\n            <h1>{{ mainMessage }}</h1>\\n        </div>\\n\\n        <div class=\\\"cards-body\\\">\\n            <div id=\\\"img-box\\\">  \\n                <img id=\\\"img-frame\\\" [src]=\\\"imgFrameUrl\\\">\\n            </div>  \\n\\n            <div id=\\\"guess-box\\\">\\n                <form [formGroup]=\\\"userGuessForm\\\">\\n                    <div class=\\\"md-form animated fadeIn\\\" id=\\\"guess-input\\\">\\n                        <input id=\\\"guess\\\" formControlName=\\\"guess\\\" type=\\\"text\\\" class=\\\"form-control\\\">\\n                        <label id=\\\"guess-label\\\" for=\\\"guess\\\">Enter a guess...</label>\\n                        <div *ngIf=\\\"formErrors.guess\\\" class=\\\"input-error\\\"><small>{{ formErrors.guess }}</small></div>\\n                    </div>\\n                </form>\\n            </div>\\n            <button class=\\\"btn-lights\\\" id=\\\"guess-btn\\\" (click)=\\\"displayGuess()\\\" type=\\\"submit\\\">Display Guess</button>\\n        </div>\\n\\n        <div class=\\\"cards-footer\\\"></div>\\n    </div>\\n</div>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU5LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHRleHRmcmFtZVxcdGV4dC5jb21wb25lbnQuaHRtbCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyLWZsdWlkXFxcIj5cXG4gICAgPGRpdiAqbmdJZj1cXFwic2hvd0ltZ0ZyYW1lXFxcIiBpZD1cXFwicHJldmlvdXNGcmFtZUltZ1xcXCIgY2xhc3M9XFxcImNhcmRzXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmRzLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgPGgxPnt7IG1haW5NZXNzYWdlIH19PC9oMT5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZHMtYm9keVxcXCI+XFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwiaW1nLWJveFxcXCI+ICBcXG4gICAgICAgICAgICAgICAgPGltZyBpZD1cXFwiaW1nLWZyYW1lXFxcIiBbc3JjXT1cXFwiaW1nRnJhbWVVcmxcXFwiPlxcbiAgICAgICAgICAgIDwvZGl2PiAgXFxuXFxuICAgICAgICAgICAgPGRpdiBpZD1cXFwiZ3Vlc3MtYm94XFxcIj5cXG4gICAgICAgICAgICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XFxcInVzZXJHdWVzc0Zvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWQtZm9ybSBhbmltYXRlZCBmYWRlSW5cXFwiIGlkPVxcXCJndWVzcy1pbnB1dFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJndWVzc1xcXCIgZm9ybUNvbnRyb2xOYW1lPVxcXCJndWVzc1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGlkPVxcXCJndWVzcy1sYWJlbFxcXCIgZm9yPVxcXCJndWVzc1xcXCI+RW50ZXIgYSBndWVzcy4uLjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cXFwiZm9ybUVycm9ycy5ndWVzc1xcXCIgY2xhc3M9XFxcImlucHV0LWVycm9yXFxcIj48c21hbGw+e3sgZm9ybUVycm9ycy5ndWVzcyB9fTwvc21hbGw+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9mb3JtPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0bi1saWdodHNcXFwiIGlkPVxcXCJndWVzcy1idG5cXFwiIChjbGljayk9XFxcImRpc3BsYXlHdWVzcygpXFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiPkRpc3BsYXkgR3Vlc3M8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZHMtZm9vdGVyXFxcIj48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvdGV4dGZyYW1lL3RleHQuY29tcG9uZW50Lmh0bWxcbi8vIG1vZHVsZSBpZCA9IDg1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///859\n");

/***/ }),

/***/ 871:
/* no static exports found */
/* all exports used */
/*!*******************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/fullview/fullview.component.css ***!
  \*******************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"#drawing-component {\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n  }\\n  #default-board {\\n    height: 80%;\\n    border: 1px solid #ccc;\\n    background-color: #f3f3f3;\\n    margin: 0 auto;\\n    width: 60%;\\n    position: absolute;\\n    top: 8%;\\n    right: 9.5%;\\n    z-index: 4;\\n    opacity: .9;\\n    -webkit-box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.2);\\n    -moz-box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.2);\\n    box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.2);\\n  }\\n  \\n  #default-board .btn {\\n    float: right;\\n    background: blue;\\n    height: 20px;\\n    padding: 5px;\\n    margin-top: 0;\\n  } \\n  \\n  /*#overlay {\\n    background: white;\\n    opacity: .4;\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    z-index: 3;\\n  }*/\\n  \\n  #emojiControls {\\n    width: 20%;\\n    height: 84%;\\n    margin: 0 auto;\\n    position: absolute;\\n    top: 8%;\\n    left: 9.5%;\\n    z-index: 1000;\\n    padding: 0;\\n    background:black;\\n   /* -webkit-box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.25);\\n    -moz-box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.25);\\n    box-shadow: 0px -1px 5px 1px rgba(0,0,0,0.25); */\\n    \\n  }\\n  \\n  \\n  /*\\n  Great resource on css text/content alignment\\n  https://www.w3.org/Style/Examples/007/center.en.html\\n  */\\n  \\n  #lastFrame {\\n    position: relative;\\n    margin: 0 auto;\\n    \\n    margin-top: 5px;\\n    width: 98%;\\n    height: 10%;\\n    background: white;\\n    -webkit-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    -moz-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n  }\\n  \\n  #Instructions {\\n    position: absolute;\\n    top: 337.5px;\\n    height: 85px;\\n    width: 98.5%;\\n    background: white;\\n    margin-left: 5px;\\n    overflow-y: scroll;\\n  \\n  }\\n  \\n  #resizeEditor {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    margin: 0 auto;\\n    margin-top: 10px;\\n    width: 98%;\\n    height: 40%;\\n    -webkit-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    -moz-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    background: white;\\n    opacity: .9;\\n  }\\n  \\n  #resizeArea {\\n    position: absolute;\\n    width: 100%;\\n    height: 74.5%;\\n    background: white;\\n    -webkit-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    -moz-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    display: block;\\n    padding: 0;\\n  }\\n  \\n  #resize-img {\\n    display: block;\\n    position: absolute;\\n    top: 50%;\\n    transform: translateY(-50%);\\n    -moz-transform: translateY(-50%);\\n    -webkit-transform: translateY(-50%);\\n    left: 0;\\n    right: 0;\\n    margin: 0 auto;\\n    \\n  }\\n  \\n  #control-box {\\n    width: 74.5%;\\n    height: 24.5%;\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n  }\\n  \\n  #resize-slider {\\n    width: 99%;\\n    z-index: 5;\\n    position: absolute;\\n    right: 1%;\\n    margin-top: 2%;\\n    margin: 0 auto;\\n  }\\n  \\n  #resizeBtn {\\n    position: absolute;\\n    bottom: 4%;\\n    left: 0;\\n    width: 49.5%;\\n    \\n  }\\n  \\n  #doneResizeBtn {\\n    width: 49.5%;\\n    \\n    right: 1.2%;\\n    bottom: 4%;\\n    position: absolute;\\n  }\\n  \\n  #imgQueue {\\n    width: 21.5%;\\n    /** 225 = 45 * 5 */\\n    height: 24%;\\n    background: white;\\n    border: 1px solid #aaaaaa;\\n    border-style: inset;\\n    bottom: 1%;\\n    left: 1%;\\n    position: absolute;\\n    z-index: 1001;\\n  }\\n  \\n  #emojiBtn {\\n   position: absolute;\\n    z-index: 1001;\\n    \\n  }\\n  \\n  .btn-group-vertical {\\n    float: right;\\n  }\\n  #imgQueueList {\\n    \\n    list-style: disc;\\n    align-items: left;\\n    justify-content: left;\\n    vertical-align: middle;\\n  }\\n  \\n  #imgQueueList li {\\n    display: inline;\\n    vertical-align: middle;\\n    columns: 1;\\n  }\\n  \\n  #queueImg {\\n    height: 5em;\\n    width: 5em;\\n    vertical-align: middle;\\n    position: absolute;\\n    top: 0;\\n   \\n    -webkit-transition: all 1s ease; /* Safari and Chrome */\\n    -moz-transition: all 1s ease; /* Firefox */\\n    -ms-transition: all 1s ease; /* IE 9 */\\n    -o-transition: all 1s ease; /* Opera */\\n    transition: all 1s ease;\\n  }\\n  \\n  #queueImg:hover {\\n    -webkit-transform:scale(1.15); /* Safari and Chrome */\\n    -moz-transform:scale(1.15); /* Firefox */\\n    -ms-transform:scale(1.15); /* IE 9 */\\n    -o-transform:scale(1.15); /* Opera */\\n     transform:scale(1.15);\\n     cursor: pointer;\\n  }\\n  \\n  \\n  \\n  #emojilist {\\n    position: absolute;\\n    width: 98%;\\n    height: 50%;\\n    z-index: 50;\\n  }\\n  \\n  #emoji-list {\\n    columns: 5;\\n    list-style-type: none;\\n   \\n    padding: 5px;\\n    overflow-y: scroll;\\n    overflow-x: scroll;\\n    width: 98.5%;\\n    height:48%;\\n    -webkit-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    -moz-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n    bottom: 0;\\n    position: absolute;\\n    margin: 0 auto;\\n    background:white;\\n    left: 0;\\n    right: 0;\\n    margin: 5px;\\n  }\\n  \\n   ul {\\n    \\n    columns: 5;\\n    width: 22.5em;\\n  }\\n  \\n  #emoji-list li {\\n    margin-bottom: 8px;\\n    display: block;\\n  }\\n  \\n  #emoji-list li:hover {\\n    cursor: pointer;\\n  }\\n  \\n  #emoji-list li img {\\n    width: 1.5em;\\n    height: auto;\\n    float: left;\\n  }\\n  \"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcxLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcZnVsbHZpZXdcXGZ1bGx2aWV3LmNvbXBvbmVudC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIiNkcmF3aW5nLWNvbXBvbmVudCB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIH1cXG4gICNkZWZhdWx0LWJvYXJkIHtcXG4gICAgaGVpZ2h0OiA4MCU7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICB3aWR0aDogNjAlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogOCU7XFxuICAgIHJpZ2h0OiA5LjUlO1xcbiAgICB6LWluZGV4OiA0O1xcbiAgICBvcGFjaXR5OiAuOTtcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCA1cHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCA1cHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgYm94LXNoYWRvdzogMHB4IC0xcHggNXB4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICB9XFxuICBcXG4gICNkZWZhdWx0LWJvYXJkIC5idG4ge1xcbiAgICBmbG9hdDogcmlnaHQ7XFxuICAgIGJhY2tncm91bmQ6IGJsdWU7XFxuICAgIGhlaWdodDogMjBweDtcXG4gICAgcGFkZGluZzogNXB4O1xcbiAgICBtYXJnaW4tdG9wOiAwO1xcbiAgfSBcXG4gIFxcbiAgLyojb3ZlcmxheSB7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBvcGFjaXR5OiAuNDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiAzO1xcbiAgfSovXFxuICBcXG4gICNlbW9qaUNvbnRyb2xzIHtcXG4gICAgd2lkdGg6IDIwJTtcXG4gICAgaGVpZ2h0OiA4NCU7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogOCU7XFxuICAgIGxlZnQ6IDkuNSU7XFxuICAgIHotaW5kZXg6IDEwMDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGJhY2tncm91bmQ6YmxhY2s7XFxuICAgLyogLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCA1cHggMXB4IHJnYmEoMCwwLDAsMC4yNSk7XFxuICAgIC1tb3otYm94LXNoYWRvdzogMHB4IC0xcHggNXB4IDFweCByZ2JhKDAsMCwwLDAuMjUpO1xcbiAgICBib3gtc2hhZG93OiAwcHggLTFweCA1cHggMXB4IHJnYmEoMCwwLDAsMC4yNSk7ICovXFxuICAgIFxcbiAgfVxcbiAgXFxuICBcXG4gIC8qXFxuICBHcmVhdCByZXNvdXJjZSBvbiBjc3MgdGV4dC9jb250ZW50IGFsaWdubWVudFxcbiAgaHR0cHM6Ly93d3cudzMub3JnL1N0eWxlL0V4YW1wbGVzLzAwNy9jZW50ZXIuZW4uaHRtbFxcbiAgKi9cXG4gIFxcbiAgI2xhc3RGcmFtZSB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIFxcbiAgICBtYXJnaW4tdG9wOiA1cHg7XFxuICAgIHdpZHRoOiA5OCU7XFxuICAgIGhlaWdodDogMTAlO1xcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICB9XFxuICBcXG4gICNJbnN0cnVjdGlvbnMge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMzM3LjVweDtcXG4gICAgaGVpZ2h0OiA4NXB4O1xcbiAgICB3aWR0aDogOTguNSU7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XFxuICBcXG4gIH1cXG4gIFxcbiAgI3Jlc2l6ZUVkaXRvciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgICB3aWR0aDogOTglO1xcbiAgICBoZWlnaHQ6IDQwJTtcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBvcGFjaXR5OiAuOTtcXG4gIH1cXG4gIFxcbiAgI3Jlc2l6ZUFyZWEge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDc0LjUlO1xcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgLW1vei1ib3gtc2hhZG93OiAwcHggLTFweCAzcHggMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgfVxcbiAgXFxuICAjcmVzaXplLWltZyB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgIC1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICBcXG4gIH1cXG4gIFxcbiAgI2NvbnRyb2wtYm94IHtcXG4gICAgd2lkdGg6IDc0LjUlO1xcbiAgICBoZWlnaHQ6IDI0LjUlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICB9XFxuICBcXG4gICNyZXNpemUtc2xpZGVyIHtcXG4gICAgd2lkdGg6IDk5JTtcXG4gICAgei1pbmRleDogNTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMSU7XFxuICAgIG1hcmdpbi10b3A6IDIlO1xcbiAgICBtYXJnaW46IDAgYXV0bztcXG4gIH1cXG4gIFxcbiAgI3Jlc2l6ZUJ0biB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYm90dG9tOiA0JTtcXG4gICAgbGVmdDogMDtcXG4gICAgd2lkdGg6IDQ5LjUlO1xcbiAgICBcXG4gIH1cXG4gIFxcbiAgI2RvbmVSZXNpemVCdG4ge1xcbiAgICB3aWR0aDogNDkuNSU7XFxuICAgIFxcbiAgICByaWdodDogMS4yJTtcXG4gICAgYm90dG9tOiA0JTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgfVxcbiAgXFxuICAjaW1nUXVldWUge1xcbiAgICB3aWR0aDogMjEuNSU7XFxuICAgIC8qKiAyMjUgPSA0NSAqIDUgKi9cXG4gICAgaGVpZ2h0OiAyNCU7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhYWFhO1xcbiAgICBib3JkZXItc3R5bGU6IGluc2V0O1xcbiAgICBib3R0b206IDElO1xcbiAgICBsZWZ0OiAxJTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB6LWluZGV4OiAxMDAxO1xcbiAgfVxcbiAgXFxuICAjZW1vamlCdG4ge1xcbiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgei1pbmRleDogMTAwMTtcXG4gICAgXFxuICB9XFxuICBcXG4gIC5idG4tZ3JvdXAtdmVydGljYWwge1xcbiAgICBmbG9hdDogcmlnaHQ7XFxuICB9XFxuICAjaW1nUXVldWVMaXN0IHtcXG4gICAgXFxuICAgIGxpc3Qtc3R5bGU6IGRpc2M7XFxuICAgIGFsaWduLWl0ZW1zOiBsZWZ0O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICB9XFxuICBcXG4gICNpbWdRdWV1ZUxpc3QgbGkge1xcbiAgICBkaXNwbGF5OiBpbmxpbmU7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAgIGNvbHVtbnM6IDE7XFxuICB9XFxuICBcXG4gICNxdWV1ZUltZyB7XFxuICAgIGhlaWdodDogNWVtO1xcbiAgICB3aWR0aDogNWVtO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMDtcXG4gICBcXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMXMgZWFzZTsgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi9cXG4gICAgLW1vei10cmFuc2l0aW9uOiBhbGwgMXMgZWFzZTsgLyogRmlyZWZveCAqL1xcbiAgICAtbXMtdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7IC8qIElFIDkgKi9cXG4gICAgLW8tdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7IC8qIE9wZXJhICovXFxuICAgIHRyYW5zaXRpb246IGFsbCAxcyBlYXNlO1xcbiAgfVxcbiAgXFxuICAjcXVldWVJbWc6aG92ZXIge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjE1KTsgLyogU2FmYXJpIGFuZCBDaHJvbWUgKi9cXG4gICAgLW1vei10cmFuc2Zvcm06c2NhbGUoMS4xNSk7IC8qIEZpcmVmb3ggKi9cXG4gICAgLW1zLXRyYW5zZm9ybTpzY2FsZSgxLjE1KTsgLyogSUUgOSAqL1xcbiAgICAtby10cmFuc2Zvcm06c2NhbGUoMS4xNSk7IC8qIE9wZXJhICovXFxuICAgICB0cmFuc2Zvcm06c2NhbGUoMS4xNSk7XFxuICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICB9XFxuICBcXG4gIFxcbiAgXFxuICAjZW1vamlsaXN0IHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB3aWR0aDogOTglO1xcbiAgICBoZWlnaHQ6IDUwJTtcXG4gICAgei1pbmRleDogNTA7XFxuICB9XFxuICBcXG4gICNlbW9qaS1saXN0IHtcXG4gICAgY29sdW1uczogNTtcXG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgIFxcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcXG4gICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xcbiAgICB3aWR0aDogOTguNSU7XFxuICAgIGhlaWdodDo0OCU7XFxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAgIC1tb3otYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAgIGJveC1zaGFkb3c6IDBweCAtMXB4IDNweCAxcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgICBib3R0b206IDA7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIGJhY2tncm91bmQ6d2hpdGU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBtYXJnaW46IDVweDtcXG4gIH1cXG4gIFxcbiAgIHVsIHtcXG4gICAgXFxuICAgIGNvbHVtbnM6IDU7XFxuICAgIHdpZHRoOiAyMi41ZW07XFxuICB9XFxuICBcXG4gICNlbW9qaS1saXN0IGxpIHtcXG4gICAgbWFyZ2luLWJvdHRvbTogOHB4O1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gIH1cXG4gIFxcbiAgI2Vtb2ppLWxpc3QgbGk6aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICB9XFxuICBcXG4gICNlbW9qaS1saXN0IGxpIGltZyB7XFxuICAgIHdpZHRoOiAxLjVlbTtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgICBmbG9hdDogbGVmdDtcXG4gIH1cXG4gIFwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvZHJhd2luZ2ZyYW1lL2Z1bGx2aWV3L2Z1bGx2aWV3LmNvbXBvbmVudC5jc3Ncbi8vIG1vZHVsZSBpZCA9IDg3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///871\n");

/***/ }),

/***/ 872:
/* no static exports found */
/* all exports used */
/*!*******************************************************************************!*\
  !*** ./src/app/modules/gameloop/drawingframe/mobile/mobileview.component.css ***!
  \*******************************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"/***COMPONENT CONTAINER DIV***/\\n#drawing-component {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/***LANDSCAPE NOT SUPPORTED OVERLAY***/\\n#landscape-overlay {\\n  min-width: 100%;\\n  min-height: 100%;\\n  position: absolute;\\n  top: 0;\\n  z-index: 10000;\\n  /*background: url(/img/MIAB-Landscape-overlay.png) no-repeat center center fixed;\\n  background-size: cover;*/\\n}\\n\\n/***DRAWING BOARD***/\\n#default-board {\\n  height: 80%;\\n  border: 1px solid #ccc;\\n  background-color: #f3f3f3;\\n  margin: 0 auto;\\n  width: 100%;\\n  top: 0;\\n  opacity: .9;\\n}\\n\\n#submit-btn {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  font-size: 3.5vw;\\n  padding: .3em;\\n  margin-top: 4%;\\n  margin-right: 2%;\\n}\\n\\n\\n\\n/***EMOJI CONTROLS***/\\n/*Emoji Controls Container*/\\n#emoji-controls {\\n  width: 100%;\\n  height: 90%;\\n  margin: 0 auto;\\n  position: absolute;\\n  z-index: 1000;\\n  padding: 0;\\n  background:black;\\n  top:  0; \\n  transition: 0.5s;\\n  animation-timing-function: ease-in-out;\\n  -webkit-animation-timing-function: ease-out;\\n}\\n\\n/*Emoji Controls - Resize Controls Container*/\\n#resize-controls {\\n  margin: 0 auto;\\n  width: 98%;\\n  height: 49%;\\n  -webkit-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n  -moz-box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n  box-shadow: 0px -1px 3px 1px rgba(0,0,0,0.2);\\n  background: white;\\n  opacity: .9;\\n  margin-bottom: 1%;\\n}\\n\\n/*Emoji Controls - Resize Controls - Resize Area Containter*/\\n#resize-area {\\n  position: relative;\\n  width: 100%;\\n  height: 74.5%;\\n  background: white;\\n  display: block;\\n  padding: 0;\\n}\\n\\n/*Emoji Controls - Resize Controls - Instructions*/\\n#resize-area ol {\\n  padding-top: 2%;\\n  font-size: 3.5vw;\\n  font-family: Kalam;\\n  margin: 0;\\n}\\n\\n/*Emoji Controls - Resize Controls - Resizable Image*/\\n#resize-area img {\\n  position: absolute;\\n  margin: 0 auto;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n  \\n/*Emoji Controls - Resize Control Box Container*/  \\n#control-box {\\n  width: 100%;\\n  height: 25%;\\n  bottom: 0;\\n}\\n\\n/*Emoji Controls - Resize Control Box - Controls*/\\n#resize-slider {\\n  width: 98%;\\n  padding: 1%;\\n  margin-left: 1%;\\n}\\n\\n/*Emoji Controls - Resize Button*/\\n#resize-btn {\\n  width: 48%;\\n  float: left;\\n  margin: 0;\\n  margin-left: 1%;\\n  font-size: 4vw;\\n}\\n\\n/*Resize Controls - Done Resizing Button*/\\n#resizefinished-btn {\\n  width: 48%;\\n  float: right;\\n  margin: 0;\\n  margin-right: 1%;\\n  font-size: 4vw;\\n}\\n\\n/*Emoji Controls - Emoji Grid Container*/\\n#emoji-container {\\n  width: 98%;\\n  height:49.5%;\\n  background: white;\\n  margin: 0 auto;\\n  margin-top: 1%;\\n  text-align: center;\\n  margin-bottom: 1.5%;\\n  position: relative;\\n}\\n\\n#emoji-list {\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  -webkit-transform: translateY(-50%);\\n}\\n\\n#emoji-list-msg {\\n  position: absolute;\\n  bottom: 0;\\n  width: 100%;\\n  padding: 0;\\n  margin: 0;\\n  margin-bottom: 2%;\\n  font-family: Lobster;\\n}\\n\\n/*Emoji Controls - Emoji Block Div*/\\n.emoji-div {\\n  display: inline-block;\\n  width: 12.5%;\\n  height: auto;\\n  padding: 0.5%;\\n  padding-left: 1%;\\n  padding-right: 1%;\\n}\\n\\n/*Emoji Controls - Emoji Block Div Img*/\\n.emoji-div img {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/*Emoji Controls - Pagination Container (nested within LastFrame)*/\\n#scroll-btns {\\n\\n}\\n\\n/*Emoji Controls - Pagination Buttons (nested within LastFrame)*/\\n#scroll-btns button {\\n  font-size: 10vw;\\n  padding: 0;\\n  border-radius: 100%;\\n  width: 12vw;\\n  height: 12vw;\\n  text-align: center;\\n  vertical-align: middle;\\n  margin: 2vw;\\n}\\n\\n\\n\\n/***DRAWING FRAME - CONTROL BAR***/\\n#control-bar {\\n  width: 100%;\\n  height: 20%;\\n  position: relative;\\n}\\n\\n/*Control Bar - Emoji Queue*/\\n#img-queue {\\n  width: 15%;\\n  height: 100%;\\n  background:rgba(33, 37, 41, 1);\\n  position: absolute; \\n  box-shadow: inset 0 0 1px #000000;\\n  color: white;\\n}\\n\\n/*Control Bar - Emoji Queue - Label*/\\n#img-queue p {\\n  font-size: 5vw;\\n  line-height: 4.5vw;\\n  color: white;\\n  text-align: center;\\n  font-family: lobster;\\n  position: absolute;\\n  top: 15%;\\n  transform: translateY(-15%);\\n \\n}\\n\\n/*Control Bar - Emoji Queue - Queue Img*/\\n#img-queue img {\\n  width: 65%;\\n  height: auto;\\n  position: absolute;\\n  margin: 0 auto;\\n  left: 0;\\n  right: 0;\\n  top: 15%;\\n  transform: translateY(-15%);\\n}\\n\\n/*Control Bar - Last Frame Text Box*/\\n#last-frame {\\n  position: absolute;\\n  bottom: 0;\\n  left:15%;\\n  width: 70%;\\n  height: 100%;\\n  background: white;\\n  overflow-y: auto;\\n  box-shadow: inset 0 0 3px #000000;\\n  text-align: center;\\n}\\n\\n/*Control Bar - Last Frame Text*/\\n#last-frame p {\\n  font-family: Kalam;\\n  font-size: 3.5vw;\\n  padding: 1.5%;\\n  line-height: 4vw;\\n}\\n\\n/*Control Bar - Emoji Button Container*/\\n.emoji-btn {\\n  width: 15%;\\n  height: 100%;\\n  position: relative;\\n  float: right;\\n  padding-bottom: 10%;\\n  font-size: 3vw;\\n  \\n}\\n\\n/*Control Bar - Emoji Button*/\\n#emoji-btn {\\n  width: 100%;\\n  height: 100%;\\n  font-family: Lobster;\\n}\\n\\n/*Control Bar - Emoji Button Icon*/\\n#emoji-btn-icon {\\n  position: absolute;\\n  margin: 0 auto;\\n  line-height: normal;\\n  top: 10%;\\n  left: 0px;\\n  right: 0px;\\n\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\n   \\n\\n\\n\\n\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODcyLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGRyYXdpbmdmcmFtZVxcbW9iaWxlXFxtb2JpbGV2aWV3LmNvbXBvbmVudC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIi8qKipDT01QT05FTlQgQ09OVEFJTkVSIERJVioqKi9cXG4jZHJhd2luZy1jb21wb25lbnQge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi8qKipMQU5EU0NBUEUgTk9UIFNVUFBPUlRFRCBPVkVSTEFZKioqL1xcbiNsYW5kc2NhcGUtb3ZlcmxheSB7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgei1pbmRleDogMTAwMDA7XFxuICAvKmJhY2tncm91bmQ6IHVybCgvaW1nL01JQUItTGFuZHNjYXBlLW92ZXJsYXkucG5nKSBuby1yZXBlYXQgY2VudGVyIGNlbnRlciBmaXhlZDtcXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7Ki9cXG59XFxuXFxuLyoqKkRSQVdJTkcgQk9BUkQqKiovXFxuI2RlZmF1bHQtYm9hcmQge1xcbiAgaGVpZ2h0OiA4MCU7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0b3A6IDA7XFxuICBvcGFjaXR5OiAuOTtcXG59XFxuXFxuI3N1Ym1pdC1idG4ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBmb250LXNpemU6IDMuNXZ3O1xcbiAgcGFkZGluZzogLjNlbTtcXG4gIG1hcmdpbi10b3A6IDQlO1xcbiAgbWFyZ2luLXJpZ2h0OiAyJTtcXG59XFxuXFxuXFxuXFxuLyoqKkVNT0pJIENPTlRST0xTKioqL1xcbi8qRW1vamkgQ29udHJvbHMgQ29udGFpbmVyKi9cXG4jZW1vamktY29udHJvbHMge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDkwJTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTAwMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBiYWNrZ3JvdW5kOmJsYWNrO1xcbiAgdG9wOiAgMDsgXFxuICB0cmFuc2l0aW9uOiAwLjVzO1xcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XFxuICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2Utb3V0O1xcbn1cXG5cXG4vKkVtb2ppIENvbnRyb2xzIC0gUmVzaXplIENvbnRyb2xzIENvbnRhaW5lciovXFxuI3Jlc2l6ZS1jb250cm9scyB7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIHdpZHRoOiA5OCU7XFxuICBoZWlnaHQ6IDQ5JTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAtbW96LWJveC1zaGFkb3c6IDBweCAtMXB4IDNweCAxcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgYm94LXNoYWRvdzogMHB4IC0xcHggM3B4IDFweCByZ2JhKDAsMCwwLDAuMik7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIG9wYWNpdHk6IC45O1xcbiAgbWFyZ2luLWJvdHRvbTogMSU7XFxufVxcblxcbi8qRW1vamkgQ29udHJvbHMgLSBSZXNpemUgQ29udHJvbHMgLSBSZXNpemUgQXJlYSBDb250YWludGVyKi9cXG4jcmVzaXplLWFyZWEge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDc0LjUlO1xcbiAgYmFja2dyb3VuZDogd2hpdGU7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbi8qRW1vamkgQ29udHJvbHMgLSBSZXNpemUgQ29udHJvbHMgLSBJbnN0cnVjdGlvbnMqL1xcbiNyZXNpemUtYXJlYSBvbCB7XFxuICBwYWRkaW5nLXRvcDogMiU7XFxuICBmb250LXNpemU6IDMuNXZ3O1xcbiAgZm9udC1mYW1pbHk6IEthbGFtO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG4vKkVtb2ppIENvbnRyb2xzIC0gUmVzaXplIENvbnRyb2xzIC0gUmVzaXphYmxlIEltYWdlKi9cXG4jcmVzaXplLWFyZWEgaW1nIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbiAgXFxuLypFbW9qaSBDb250cm9scyAtIFJlc2l6ZSBDb250cm9sIEJveCBDb250YWluZXIqLyAgXFxuI2NvbnRyb2wtYm94IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAyNSU7XFxuICBib3R0b206IDA7XFxufVxcblxcbi8qRW1vamkgQ29udHJvbHMgLSBSZXNpemUgQ29udHJvbCBCb3ggLSBDb250cm9scyovXFxuI3Jlc2l6ZS1zbGlkZXIge1xcbiAgd2lkdGg6IDk4JTtcXG4gIHBhZGRpbmc6IDElO1xcbiAgbWFyZ2luLWxlZnQ6IDElO1xcbn1cXG5cXG4vKkVtb2ppIENvbnRyb2xzIC0gUmVzaXplIEJ1dHRvbiovXFxuI3Jlc2l6ZS1idG4ge1xcbiAgd2lkdGg6IDQ4JTtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgbWFyZ2luOiAwO1xcbiAgbWFyZ2luLWxlZnQ6IDElO1xcbiAgZm9udC1zaXplOiA0dnc7XFxufVxcblxcbi8qUmVzaXplIENvbnRyb2xzIC0gRG9uZSBSZXNpemluZyBCdXR0b24qL1xcbiNyZXNpemVmaW5pc2hlZC1idG4ge1xcbiAgd2lkdGg6IDQ4JTtcXG4gIGZsb2F0OiByaWdodDtcXG4gIG1hcmdpbjogMDtcXG4gIG1hcmdpbi1yaWdodDogMSU7XFxuICBmb250LXNpemU6IDR2dztcXG59XFxuXFxuLypFbW9qaSBDb250cm9scyAtIEVtb2ppIEdyaWQgQ29udGFpbmVyKi9cXG4jZW1vamktY29udGFpbmVyIHtcXG4gIHdpZHRoOiA5OCU7XFxuICBoZWlnaHQ6NDkuNSU7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbWFyZ2luLXRvcDogMSU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tYm90dG9tOiAxLjUlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4jZW1vamktbGlzdCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbn1cXG5cXG4jZW1vamktbGlzdC1tc2cge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgbWFyZ2luLWJvdHRvbTogMiU7XFxuICBmb250LWZhbWlseTogTG9ic3RlcjtcXG59XFxuXFxuLypFbW9qaSBDb250cm9scyAtIEVtb2ppIEJsb2NrIERpdiovXFxuLmVtb2ppLWRpdiB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMTIuNSU7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBwYWRkaW5nOiAwLjUlO1xcbiAgcGFkZGluZy1sZWZ0OiAxJTtcXG4gIHBhZGRpbmctcmlnaHQ6IDElO1xcbn1cXG5cXG4vKkVtb2ppIENvbnRyb2xzIC0gRW1vamkgQmxvY2sgRGl2IEltZyovXFxuLmVtb2ppLWRpdiBpbWcge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi8qRW1vamkgQ29udHJvbHMgLSBQYWdpbmF0aW9uIENvbnRhaW5lciAobmVzdGVkIHdpdGhpbiBMYXN0RnJhbWUpKi9cXG4jc2Nyb2xsLWJ0bnMge1xcblxcbn1cXG5cXG4vKkVtb2ppIENvbnRyb2xzIC0gUGFnaW5hdGlvbiBCdXR0b25zIChuZXN0ZWQgd2l0aGluIExhc3RGcmFtZSkqL1xcbiNzY3JvbGwtYnRucyBidXR0b24ge1xcbiAgZm9udC1zaXplOiAxMHZ3O1xcbiAgcGFkZGluZzogMDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwMCU7XFxuICB3aWR0aDogMTJ2dztcXG4gIGhlaWdodDogMTJ2dztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBtYXJnaW46IDJ2dztcXG59XFxuXFxuXFxuXFxuLyoqKkRSQVdJTkcgRlJBTUUgLSBDT05UUk9MIEJBUioqKi9cXG4jY29udHJvbC1iYXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDIwJTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLypDb250cm9sIEJhciAtIEVtb2ppIFF1ZXVlKi9cXG4jaW1nLXF1ZXVlIHtcXG4gIHdpZHRoOiAxNSU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kOnJnYmEoMzMsIDM3LCA0MSwgMSk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7IFxcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDFweCAjMDAwMDAwO1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4vKkNvbnRyb2wgQmFyIC0gRW1vamkgUXVldWUgLSBMYWJlbCovXFxuI2ltZy1xdWV1ZSBwIHtcXG4gIGZvbnQtc2l6ZTogNXZ3O1xcbiAgbGluZS1oZWlnaHQ6IDQuNXZ3O1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1mYW1pbHk6IGxvYnN0ZXI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDE1JTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTUlKTtcXG4gXFxufVxcblxcbi8qQ29udHJvbCBCYXIgLSBFbW9qaSBRdWV1ZSAtIFF1ZXVlIEltZyovXFxuI2ltZy1xdWV1ZSBpbWcge1xcbiAgd2lkdGg6IDY1JTtcXG4gIGhlaWdodDogYXV0bztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAxNSU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTE1JSk7XFxufVxcblxcbi8qQ29udHJvbCBCYXIgLSBMYXN0IEZyYW1lIFRleHQgQm94Ki9cXG4jbGFzdC1mcmFtZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OjE1JTtcXG4gIHdpZHRoOiA3MCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgM3B4ICMwMDAwMDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi8qQ29udHJvbCBCYXIgLSBMYXN0IEZyYW1lIFRleHQqL1xcbiNsYXN0LWZyYW1lIHAge1xcbiAgZm9udC1mYW1pbHk6IEthbGFtO1xcbiAgZm9udC1zaXplOiAzLjV2dztcXG4gIHBhZGRpbmc6IDEuNSU7XFxuICBsaW5lLWhlaWdodDogNHZ3O1xcbn1cXG5cXG4vKkNvbnRyb2wgQmFyIC0gRW1vamkgQnV0dG9uIENvbnRhaW5lciovXFxuLmVtb2ppLWJ0biB7XFxuICB3aWR0aDogMTUlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgcGFkZGluZy1ib3R0b206IDEwJTtcXG4gIGZvbnQtc2l6ZTogM3Z3O1xcbiAgXFxufVxcblxcbi8qQ29udHJvbCBCYXIgLSBFbW9qaSBCdXR0b24qL1xcbiNlbW9qaS1idG4ge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBmb250LWZhbWlseTogTG9ic3RlcjtcXG59XFxuXFxuLypDb250cm9sIEJhciAtIEVtb2ppIEJ1dHRvbiBJY29uKi9cXG4jZW1vamktYnRuLWljb24ge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBsaW5lLWhlaWdodDogbm9ybWFsO1xcbiAgdG9wOiAxMCU7XFxuICBsZWZ0OiAwcHg7XFxuICByaWdodDogMHB4O1xcblxcbn1cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG5cXG4gICBcXG5cXG5cXG5cXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2FwcC9tb2R1bGVzL2dhbWVsb29wL2RyYXdpbmdmcmFtZS9tb2JpbGUvbW9iaWxldmlldy5jb21wb25lbnQuY3NzXG4vLyBtb2R1bGUgaWQgPSA4NzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///872\n");

/***/ }),

/***/ 873:
/* no static exports found */
/* all exports used */
/*!***************************************************************!*\
  !*** ./src/app/modules/gameloop/textframe/text.component.css ***!
  \***************************************************************/
/***/ (function(module, exports) {

eval("module.exports = \"@media screen and (max-width: 960px) {\\n    /*.container-fluid {\\n        background: url(/img/MIAB-BG-White-sm.png) no-repeat  fixed;\\n        background-size: auto 100%;\\n\\n    }*/\\n\\n    .cards {\\n        position: absolute;\\n        margin: 0 auto;\\n        left: 0;\\n        right: 0;\\n        top: 20%;\\n          transform: translateY(-20%);\\n        -webkit-transform: translateY(-20%);\\n        height: 80%;\\n        width: 95%;\\n    }\\n\\n    .cards-header {\\n        background: rgba(255,255,255, .5);\\n        margin: 0;\\n        padding: 1%;\\n        border-bottom: 1px solid rgba(255, 255, 255, 0.5);\\n    }\\n\\n    .cards-body {\\n        background: rgba(255,255,255,.1);\\n        margin: 0;\\n        padding:2%;\\n        width: 100%;\\n        position: relative;\\n        height: 100%;\\n    }\\n\\n    .cards-footer {\\n        background: rgba(255,255,255, .5);\\n        border-top: 1px solid rgba(255, 255, 255, 0.5);\\n    }\\n\\n    h1 {\\n        font-family: Kalam;\\n        color: black;\\n        margin: 0;\\n        text-align: center;\\n    }\\n\\n    #img-box {\\n        width: 100%;\\n        height: 60%;\\n        background: rgba(255, 255, 255, 0.5);\\n        position: relative;\\n    }\\n\\n    #img-frame {\\n        max-width: 95%;\\n        max-height: 95%;\\n        position: absolute;\\n        top: 50%;\\n        transform: translateY(-50%);\\n        -webkit-transform: translateY(-50%);\\n        left: 0;\\n        right: 0;\\n        margin: 0 auto; \\n    }\\n\\n    #guess-box {\\n        width: 100%;\\n        height: 24%;\\n        margin-top: 2%;\\n        background: rgba(255, 255, 255, 0.5);\\n        position: relative;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        \\n    }\\n\\n    #guess-input {\\n        width: 96%;\\n        position: relative;\\n        margin: 0 auto;\\n    }\\n\\n    #guess-btn {\\n        width: 96%;\\n        position: absolute;\\n        bottom: 0;\\n        \\n        margin-bottom: 2%;\\n    }\\n\\n    .input-error {\\n        color: black;\\n    }\\n}\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODczLmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXHRleHRmcmFtZVxcdGV4dC5jb21wb25lbnQuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA5NjBweCkge1xcbiAgICAvKi5jb250YWluZXItZmx1aWQge1xcbiAgICAgICAgYmFja2dyb3VuZDogdXJsKC9pbWcvTUlBQi1CRy1XaGl0ZS1zbS5wbmcpIG5vLXJlcGVhdCAgZml4ZWQ7XFxuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGF1dG8gMTAwJTtcXG5cXG4gICAgfSovXFxuXFxuICAgIC5jYXJkcyB7XFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICBtYXJnaW46IDAgYXV0bztcXG4gICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICByaWdodDogMDtcXG4gICAgICAgIHRvcDogMjAlO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwJSk7XFxuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjAlKTtcXG4gICAgICAgIGhlaWdodDogODAlO1xcbiAgICAgICAgd2lkdGg6IDk1JTtcXG4gICAgfVxcblxcbiAgICAuY2FyZHMtaGVhZGVyIHtcXG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsIC41KTtcXG4gICAgICAgIG1hcmdpbjogMDtcXG4gICAgICAgIHBhZGRpbmc6IDElO1xcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcXG4gICAgfVxcblxcbiAgICAuY2FyZHMtYm9keSB7XFxuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC4xKTtcXG4gICAgICAgIG1hcmdpbjogMDtcXG4gICAgICAgIHBhZGRpbmc6MiU7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgfVxcblxcbiAgICAuY2FyZHMtZm9vdGVyIHtcXG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsIC41KTtcXG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XFxuICAgIH1cXG5cXG4gICAgaDEge1xcbiAgICAgICAgZm9udC1mYW1pbHk6IEthbGFtO1xcbiAgICAgICAgY29sb3I6IGJsYWNrO1xcbiAgICAgICAgbWFyZ2luOiAwO1xcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICB9XFxuXFxuICAgICNpbWctYm94IHtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgaGVpZ2h0OiA2MCU7XFxuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIH1cXG5cXG4gICAgI2ltZy1mcmFtZSB7XFxuICAgICAgICBtYXgtd2lkdGg6IDk1JTtcXG4gICAgICAgIG1heC1oZWlnaHQ6IDk1JTtcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIHRvcDogNTAlO1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgcmlnaHQ6IDA7XFxuICAgICAgICBtYXJnaW46IDAgYXV0bzsgXFxuICAgIH1cXG5cXG4gICAgI2d1ZXNzLWJveCB7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIGhlaWdodDogMjQlO1xcbiAgICAgICAgbWFyZ2luLXRvcDogMiU7XFxuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAgICAgXFxuICAgIH1cXG5cXG4gICAgI2d1ZXNzLWlucHV0IHtcXG4gICAgICAgIHdpZHRoOiA5NiU7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICBtYXJnaW46IDAgYXV0bztcXG4gICAgfVxcblxcbiAgICAjZ3Vlc3MtYnRuIHtcXG4gICAgICAgIHdpZHRoOiA5NiU7XFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICBib3R0b206IDA7XFxuICAgICAgICBcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIlO1xcbiAgICB9XFxuXFxuICAgIC5pbnB1dC1lcnJvciB7XFxuICAgICAgICBjb2xvcjogYmxhY2s7XFxuICAgIH1cXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9hcHAvbW9kdWxlcy9nYW1lbG9vcC90ZXh0ZnJhbWUvdGV4dC5jb21wb25lbnQuY3NzXG4vLyBtb2R1bGUgaWQgPSA4NzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///873\n");

/***/ }),

/***/ 877:
/* no static exports found */
/* all exports used */
/*!************************************!*\
  !*** ./~/twemoji/2/twemoji.npm.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var location = global.location || {};\n/*jslint indent: 2, browser: true, bitwise: true, plusplus: true */\nvar twemoji = (function (\n  /*! Copyright Twitter Inc. and other contributors. Licensed under MIT *//*\n    https://github.com/twitter/twemoji/blob/gh-pages/LICENSE\n  */\n\n  // WARNING:   this file is generated automatically via\n  //            `node twemoji-generator.js`\n  //            please update its `createTwemoji` function\n  //            at the bottom of the same file instead.\n\n) {\n  'use strict';\n\n  /*jshint maxparams:4 */\n\n  var\n    // the exported module object\n    twemoji = {\n\n\n    /////////////////////////\n    //      properties     //\n    /////////////////////////\n\n      // default assets url, by default will be Twitter Inc. CDN\n      base: 'https://twemoji.maxcdn.com/2/',\n\n      // default assets file extensions, by default '.png'\n      ext: '.png',\n\n      // default assets/folder size, by default \"72x72\"\n      // available via Twitter CDN: 72\n      size: '72x72',\n\n      // default class name, by default 'emoji'\n      className: 'emoji',\n\n      // basic utilities / helpers to convert code points\n      // to JavaScript surrogates and vice versa\n      convert: {\n\n        /**\n         * Given an HEX codepoint, returns UTF16 surrogate pairs.\n         *\n         * @param   string  generic codepoint, i.e. '1F4A9'\n         * @return  string  codepoint transformed into utf16 surrogates pair,\n         *          i.e. \\uD83D\\uDCA9\n         *\n         * @example\n         *  twemoji.convert.fromCodePoint('1f1e8');\n         *  // \"\\ud83c\\udde8\"\n         *\n         *  '1f1e8-1f1f3'.split('-').map(twemoji.convert.fromCodePoint).join('')\n         *  // \"\\ud83c\\udde8\\ud83c\\uddf3\"\n         */\n        fromCodePoint: fromCodePoint,\n\n        /**\n         * Given UTF16 surrogate pairs, returns the equivalent HEX codepoint.\n         *\n         * @param   string  generic utf16 surrogates pair, i.e. \\uD83D\\uDCA9\n         * @param   string  optional separator for double code points, default='-'\n         * @return  string  utf16 transformed into codepoint, i.e. '1F4A9'\n         *\n         * @example\n         *  twemoji.convert.toCodePoint('\\ud83c\\udde8\\ud83c\\uddf3');\n         *  // \"1f1e8-1f1f3\"\n         *\n         *  twemoji.convert.toCodePoint('\\ud83c\\udde8\\ud83c\\uddf3', '~');\n         *  // \"1f1e8~1f1f3\"\n         */\n        toCodePoint: toCodePoint\n      },\n\n\n    /////////////////////////\n    //       methods       //\n    /////////////////////////\n\n      /**\n       * User first: used to remove missing images\n       * preserving the original text intent when\n       * a fallback for network problems is desired.\n       * Automatically added to Image nodes via DOM\n       * It could be recycled for string operations via:\n       *  $('img.emoji').on('error', twemoji.onerror)\n       */\n      onerror: function onerror() {\n        if (this.parentNode) {\n          this.parentNode.replaceChild(createText(this.alt, false), this);\n        }\n      },\n\n      /**\n       * Main method/logic to generate either <img> tags or HTMLImage nodes.\n       *  \"emojify\" a generic text or DOM Element.\n       *\n       * @overloads\n       *\n       * String replacement for `innerHTML` or server side operations\n       *  twemoji.parse(string);\n       *  twemoji.parse(string, Function);\n       *  twemoji.parse(string, Object);\n       *\n       * HTMLElement tree parsing for safer operations over existing DOM\n       *  twemoji.parse(HTMLElement);\n       *  twemoji.parse(HTMLElement, Function);\n       *  twemoji.parse(HTMLElement, Object);\n       *\n       * @param   string|HTMLElement  the source to parse and enrich with emoji.\n       *\n       *          string              replace emoji matches with <img> tags.\n       *                              Mainly used to inject emoji via `innerHTML`\n       *                              It does **not** parse the string or validate it,\n       *                              it simply replaces found emoji with a tag.\n       *                              NOTE: be sure this won't affect security.\n       *\n       *          HTMLElement         walk through the DOM tree and find emoji\n       *                              that are inside **text node only** (nodeType === 3)\n       *                              Mainly used to put emoji in already generated DOM\n       *                              without compromising surrounding nodes and\n       *                              **avoiding** the usage of `innerHTML`.\n       *                              NOTE: Using DOM elements instead of strings should\n       *                              improve security without compromising too much\n       *                              performance compared with a less safe `innerHTML`.\n       *\n       * @param   Function|Object  [optional]\n       *                              either the callback that will be invoked or an object\n       *                              with all properties to use per each found emoji.\n       *\n       *          Function            if specified, this will be invoked per each emoji\n       *                              that has been found through the RegExp except\n       *                              those follwed by the invariant \\uFE0E (\"as text\").\n       *                              Once invoked, parameters will be:\n       *\n       *                                iconId:string     the lower case HEX code point\n       *                                                  i.e. \"1f4a9\"\n       *\n       *                                options:Object    all info for this parsing operation\n       *\n       *                                variant:char      the optional \\uFE0F (\"as image\")\n       *                                                  variant, in case this info\n       *                                                  is anyhow meaningful.\n       *                                                  By default this is ignored.\n       *\n       *                              If such callback will return a falsy value instead\n       *                              of a valid `src` to use for the image, nothing will\n       *                              actually change for that specific emoji.\n       *\n       *\n       *          Object              if specified, an object containing the following properties\n       *\n       *            callback   Function  the callback to invoke per each found emoji.\n       *            base       string    the base url, by default twemoji.base\n       *            ext        string    the image extension, by default twemoji.ext\n       *            size       string    the assets size, by default twemoji.size\n       *\n       * @example\n       *\n       *  twemoji.parse(\"I \\u2764\\uFE0F emoji!\");\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/2764.gif\"/> emoji!\n       *\n       *\n       *  twemoji.parse(\"I \\u2764\\uFE0F emoji!\", function(iconId, options) {\n       *    return '/assets/' + iconId + '.gif';\n       *  });\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/2764.gif\"/> emoji!\n       *\n       *\n       * twemoji.parse(\"I \\u2764\\uFE0F emoji!\", {\n       *   size: 72,\n       *   callback: function(iconId, options) {\n       *     return '/assets/' + options.size + '/' + iconId + options.ext;\n       *   }\n       * });\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/72x72/2764.png\"/> emoji!\n       *\n       */\n      parse: parse,\n\n      /**\n       * Given a string, invokes the callback argument\n       *  per each emoji found in such string.\n       * This is the most raw version used by\n       *  the .parse(string) method itself.\n       *\n       * @param   string    generic string to parse\n       * @param   Function  a generic callback that will be\n       *                    invoked to replace the content.\n       *                    This calback wil receive standard\n       *                    String.prototype.replace(str, callback)\n       *                    arguments such:\n       *  callback(\n       *    rawText,  // the emoji match\n       *  );\n       *\n       *                    and others commonly received via replace.\n       */\n      replace: replace,\n\n      /**\n       * Simplify string tests against emoji.\n       *\n       * @param   string  some text that might contain emoji\n       * @return  boolean true if any emoji was found, false otherwise.\n       *\n       * @example\n       *\n       *  if (twemoji.test(someContent)) {\n       *    console.log(\"emoji All The Things!\");\n       *  }\n       */\n      test: test\n    },\n\n    // used to escape HTML special chars in attributes\n    escaper = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      \"'\": '&#39;',\n      '\"': '&quot;'\n    },\n\n    // RegExp based on emoji's official Unicode standards\n    // http://www.unicode.org/Public/UNIDATA/EmojiSources.txt\n    re = /\\ud83d[\\udc68-\\udc69](?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d\\udd75|\\u26f9)(?:\\ufe0f|\\ud83c[\\udffb-\\udfff])\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd37-\\udd39\\udd3d\\udd3e\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f|(?:[\\u0023\\u002a\\u0030-\\u0039])\\ufe0f?\\u20e3|(?:(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75\\udd90]|[\\u261d\\u26f7\\u26f9\\u270c\\u270d])(?:\\ufe0f|(?!\\ufe0e))|\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd7a\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\uddd1-\\udddd]|[\\u270a\\u270b])(?:\\ud83c[\\udffb-\\udfff]|)|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\ud800\\udc00|\\ud83c[\\udccf\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude32-\\ude36\\ude38-\\ude3a\\ude50\\ude51\\udf00-\\udf20\\udf2d-\\udf35\\udf37-\\udf7c\\udf7e-\\udf84\\udf86-\\udf93\\udfa0-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcf-\\udfd3\\udfe0-\\udff0\\udff4\\udff8-\\udfff]|\\ud83d[\\udc00-\\udc3e\\udc40\\udc44\\udc45\\udc51-\\udc65\\udc6a-\\udc6d\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udca9\\udcab-\\udcfc\\udcff-\\udd3d\\udd4b-\\udd4e\\udd50-\\udd67\\udda4\\uddfb-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\uded0-\\uded2\\udeeb\\udeec\\udef4-\\udef8]|\\ud83e[\\udd10-\\udd17\\udd1d\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd40-\\udd45\\udd47-\\udd4c\\udd50-\\udd6b\\udd80-\\udd97\\uddc0\\uddd0\\uddde-\\udde6]|[\\u23e9-\\u23ec\\u23f0\\u23f3\\u2640\\u2642\\u2695\\u26ce\\u2705\\u2728\\u274c\\u274e\\u2753-\\u2755\\u2795-\\u2797\\u27b0\\u27bf\\ue50a]|(?:\\ud83c[\\udc04\\udd70\\udd71\\udd7e\\udd7f\\ude02\\ude1a\\ude2f\\ude37\\udf21\\udf24-\\udf2c\\udf36\\udf7d\\udf96\\udf97\\udf99-\\udf9b\\udf9e\\udf9f\\udfcd\\udfce\\udfd4-\\udfdf\\udff3\\udff5\\udff7]|\\ud83d[\\udc3f\\udc41\\udcfd\\udd49\\udd4a\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa\\udecb\\udecd-\\udecf\\udee0-\\udee5\\udee9\\udef0\\udef3]|[\\u00a9\\u00ae\\u203c\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23ed-\\u23ef\\u23f1\\u23f2\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638-\\u263a\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2694\\u2696\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2733\\u2734\\u2744\\u2747\\u2757\\u2763\\u2764\\u27a1\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299])(?:\\ufe0f|(?!\\ufe0e))/g,\n\n    // avoid runtime RegExp creation for not so smart,\n    // not JIT based, and old browsers / engines\n    UFE0Fg = /\\uFE0F/g,\n\n    // avoid using a string literal like '\\u200D' here because minifiers expand it inline\n    U200D = String.fromCharCode(0x200D),\n\n    // used to find HTML special chars in attributes\n    rescaper = /[&<>'\"]/g,\n\n    // nodes with type 1 which should **not** be parsed\n    shouldntBeParsed = /^(?:iframe|noframes|noscript|script|select|style|textarea)$/,\n\n    // just a private shortcut\n    fromCharCode = String.fromCharCode;\n\n  return twemoji;\n\n\n  /////////////////////////\n  //  private functions  //\n  //     declaration     //\n  /////////////////////////\n\n  /**\n   * Shortcut to create text nodes\n   * @param   string  text used to create DOM text node\n   * @return  Node  a DOM node with that text\n   */\n  function createText(text, clean) {\n    return document.createTextNode(clean ? text.replace(UFE0Fg, '') : text);\n  }\n\n  /**\n   * Utility function to escape html attribute text\n   * @param   string  text use in HTML attribute\n   * @return  string  text encoded to use in HTML attribute\n   */\n  function escapeHTML(s) {\n    return s.replace(rescaper, replacer);\n  }\n\n  /**\n   * Default callback used to generate emoji src\n   *  based on Twitter CDN\n   * @param   string    the emoji codepoint string\n   * @param   string    the default size to use, i.e. \"36x36\"\n   * @return  string    the image source to use\n   */\n  function defaultImageSrcGenerator(icon, options) {\n    return ''.concat(options.base, options.size, '/', icon, options.ext);\n  }\n\n  /**\n   * Given a generic DOM nodeType 1, walk through all children\n   * and store every nodeType 3 (#text) found in the tree.\n   * @param   Element a DOM Element with probably some text in it\n   * @param   Array the list of previously discovered text nodes\n   * @return  Array same list with new discovered nodes, if any\n   */\n  function grabAllTextNodes(node, allText) {\n    var\n      childNodes = node.childNodes,\n      length = childNodes.length,\n      subnode,\n      nodeType;\n    while (length--) {\n      subnode = childNodes[length];\n      nodeType = subnode.nodeType;\n      // parse emoji only in text nodes\n      if (nodeType === 3) {\n        // collect them to process emoji later\n        allText.push(subnode);\n      }\n      // ignore all nodes that are not type 1, that are svg, or that\n      // should not be parsed as script, style, and others\n      else if (nodeType === 1 && !('ownerSVGElement' in subnode) &&\n          !shouldntBeParsed.test(subnode.nodeName.toLowerCase())) {\n        grabAllTextNodes(subnode, allText);\n      }\n    }\n    return allText;\n  }\n\n  /**\n   * Used to both remove the possible variant\n   *  and to convert utf16 into code points.\n   *  If there is a zero-width-joiner (U+200D), leave the variants in.\n   * @param   string    the raw text of the emoji match\n   * @return  string    the code point\n   */\n  function grabTheRightIcon(rawText) {\n    // if variant is present as \\uFE0F\n    return toCodePoint(rawText.indexOf(U200D) < 0 ?\n      rawText.replace(UFE0Fg, '') :\n      rawText\n    );\n  }\n\n  /**\n   * DOM version of the same logic / parser:\n   *  emojify all found sub-text nodes placing images node instead.\n   * @param   Element   generic DOM node with some text in some child node\n   * @param   Object    options  containing info about how to parse\n    *\n    *            .callback   Function  the callback to invoke per each found emoji.\n    *            .base       string    the base url, by default twemoji.base\n    *            .ext        string    the image extension, by default twemoji.ext\n    *            .size       string    the assets size, by default twemoji.size\n    *\n   * @return  Element same generic node with emoji in place, if any.\n   */\n  function parseNode(node, options) {\n    var\n      allText = grabAllTextNodes(node, []),\n      length = allText.length,\n      attrib,\n      attrname,\n      modified,\n      fragment,\n      subnode,\n      text,\n      match,\n      i,\n      index,\n      img,\n      rawText,\n      iconId,\n      src;\n    while (length--) {\n      modified = false;\n      fragment = document.createDocumentFragment();\n      subnode = allText[length];\n      text = subnode.nodeValue;\n      i = 0;\n      while ((match = re.exec(text))) {\n        index = match.index;\n        if (index !== i) {\n          fragment.appendChild(\n            createText(text.slice(i, index), true)\n          );\n        }\n        rawText = match[0];\n        iconId = grabTheRightIcon(rawText);\n        i = index + rawText.length;\n        src = options.callback(iconId, options);\n        if (src) {\n          img = new Image();\n          img.onerror = options.onerror;\n          img.setAttribute('draggable', 'false');\n          attrib = options.attributes(rawText, iconId);\n          for (attrname in attrib) {\n            if (\n              attrib.hasOwnProperty(attrname) &&\n              // don't allow any handlers to be set + don't allow overrides\n              attrname.indexOf('on') !== 0 &&\n              !img.hasAttribute(attrname)\n            ) {\n              img.setAttribute(attrname, attrib[attrname]);\n            }\n          }\n          img.className = options.className;\n          img.alt = rawText;\n          img.src = src;\n          modified = true;\n          fragment.appendChild(img);\n        }\n        if (!img) fragment.appendChild(createText(rawText, false));\n        img = null;\n      }\n      // is there actually anything to replace in here ?\n      if (modified) {\n        // any text left to be added ?\n        if (i < text.length) {\n          fragment.appendChild(\n            createText(text.slice(i), true)\n          );\n        }\n        // replace the text node only, leave intact\n        // anything else surrounding such text\n        subnode.parentNode.replaceChild(fragment, subnode);\n      }\n    }\n    return node;\n  }\n\n  /**\n   * String/HTML version of the same logic / parser:\n   *  emojify a generic text placing images tags instead of surrogates pair.\n   * @param   string    generic string with possibly some emoji in it\n   * @param   Object    options  containing info about how to parse\n   *\n   *            .callback   Function  the callback to invoke per each found emoji.\n   *            .base       string    the base url, by default twemoji.base\n   *            .ext        string    the image extension, by default twemoji.ext\n   *            .size       string    the assets size, by default twemoji.size\n   *\n   * @return  the string with <img tags> replacing all found and parsed emoji\n   */\n  function parseString(str, options) {\n    return replace(str, function (rawText) {\n      var\n        ret = rawText,\n        iconId = grabTheRightIcon(rawText),\n        src = options.callback(iconId, options),\n        attrib,\n        attrname;\n      if (src) {\n        // recycle the match string replacing the emoji\n        // with its image counter part\n        ret = '<img '.concat(\n          'class=\"', options.className, '\" ',\n          'draggable=\"false\" ',\n          // needs to preserve user original intent\n          // when variants should be copied and pasted too\n          'alt=\"',\n          rawText,\n          '\"',\n          ' src=\"',\n          src,\n          '\"'\n        );\n        attrib = options.attributes(rawText, iconId);\n        for (attrname in attrib) {\n          if (\n            attrib.hasOwnProperty(attrname) &&\n            // don't allow any handlers to be set + don't allow overrides\n            attrname.indexOf('on') !== 0 &&\n            ret.indexOf(' ' + attrname + '=') === -1\n          ) {\n            ret = ret.concat(' ', attrname, '=\"', escapeHTML(attrib[attrname]), '\"');\n          }\n        }\n        ret = ret.concat('/>');\n      }\n      return ret;\n    });\n  }\n\n  /**\n   * Function used to actually replace HTML special chars\n   * @param   string  HTML special char\n   * @return  string  encoded HTML special char\n   */\n  function replacer(m) {\n    return escaper[m];\n  }\n\n  /**\n   * Default options.attribute callback\n   * @return  null\n   */\n  function returnNull() {\n    return null;\n  }\n\n  /**\n   * Given a generic value, creates its squared counterpart if it's a number.\n   *  As example, number 36 will return '36x36'.\n   * @param   any     a generic value.\n   * @return  any     a string representing asset size, i.e. \"36x36\"\n   *                  only in case the value was a number.\n   *                  Returns initial value otherwise.\n   */\n  function toSizeSquaredAsset(value) {\n    return typeof value === 'number' ?\n      value + 'x' + value :\n      value;\n  }\n\n\n  /////////////////////////\n  //  exported functions //\n  //     declaration     //\n  /////////////////////////\n\n  function fromCodePoint(codepoint) {\n    var code = typeof codepoint === 'string' ?\n          parseInt(codepoint, 16) : codepoint;\n    if (code < 0x10000) {\n      return fromCharCode(code);\n    }\n    code -= 0x10000;\n    return fromCharCode(\n      0xD800 + (code >> 10),\n      0xDC00 + (code & 0x3FF)\n    );\n  }\n\n  function parse(what, how) {\n    if (!how || typeof how === 'function') {\n      how = {callback: how};\n    }\n    // if first argument is string, inject html <img> tags\n    // otherwise use the DOM tree and parse text nodes only\n    return (typeof what === 'string' ? parseString : parseNode)(what, {\n      callback:   how.callback || defaultImageSrcGenerator,\n      attributes: typeof how.attributes === 'function' ? how.attributes : returnNull,\n      base:       typeof how.base === 'string' ? how.base : twemoji.base,\n      ext:        how.ext || twemoji.ext,\n      size:       how.folder || toSizeSquaredAsset(how.size || twemoji.size),\n      className:  how.className || twemoji.className,\n      onerror:    how.onerror || twemoji.onerror\n    });\n  }\n\n  function replace(text, callback) {\n    return String(text).replace(re, callback);\n  }\n\n  function test(text) {\n    // IE6 needs a reset before too\n    re.lastIndex = 0;\n    var result = re.test(text);\n    re.lastIndex = 0;\n    return result;\n  }\n\n  function toCodePoint(unicodeSurrogates, sep) {\n    var\n      r = [],\n      c = 0,\n      p = 0,\n      i = 0;\n    while (i < unicodeSurrogates.length) {\n      c = unicodeSurrogates.charCodeAt(i++);\n      if (p) {\n        r.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16));\n        p = 0;\n      } else if (0xD800 <= c && c <= 0xDBFF) {\n        p = c;\n      } else {\n        r.push(c.toString(16));\n      }\n    }\n    return r.join(sep || '-');\n  }\n\n}());\nif (!location.protocol) {\n  twemoji.base = twemoji.base.replace(/^http:/, \"\");\n}\nmodule.exports = twemoji;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../webpack/buildin/global.js */ 33)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc3LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxub2RlX21vZHVsZXNcXHR3ZW1vamlcXDJcXHR3ZW1vamkubnBtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBsb2NhdGlvbiA9IGdsb2JhbC5sb2NhdGlvbiB8fCB7fTtcbi8qanNsaW50IGluZGVudDogMiwgYnJvd3NlcjogdHJ1ZSwgYml0d2lzZTogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cbnZhciB0d2Vtb2ppID0gKGZ1bmN0aW9uIChcbiAgLyohIENvcHlyaWdodCBUd2l0dGVyIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycy4gTGljZW5zZWQgdW5kZXIgTUlUICovLypcbiAgICBodHRwczovL2dpdGh1Yi5jb20vdHdpdHRlci90d2Vtb2ppL2Jsb2IvZ2gtcGFnZXMvTElDRU5TRVxuICAqL1xuXG4gIC8vIFdBUk5JTkc6ICAgdGhpcyBmaWxlIGlzIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5IHZpYVxuICAvLyAgICAgICAgICAgIGBub2RlIHR3ZW1vamktZ2VuZXJhdG9yLmpzYFxuICAvLyAgICAgICAgICAgIHBsZWFzZSB1cGRhdGUgaXRzIGBjcmVhdGVUd2Vtb2ppYCBmdW5jdGlvblxuICAvLyAgICAgICAgICAgIGF0IHRoZSBib3R0b20gb2YgdGhlIHNhbWUgZmlsZSBpbnN0ZWFkLlxuXG4pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qanNoaW50IG1heHBhcmFtczo0ICovXG5cbiAgdmFyXG4gICAgLy8gdGhlIGV4cG9ydGVkIG1vZHVsZSBvYmplY3RcbiAgICB0d2Vtb2ppID0ge1xuXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gICAgICBwcm9wZXJ0aWVzICAgICAvL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgLy8gZGVmYXVsdCBhc3NldHMgdXJsLCBieSBkZWZhdWx0IHdpbGwgYmUgVHdpdHRlciBJbmMuIENETlxuICAgICAgYmFzZTogJ2h0dHBzOi8vdHdlbW9qaS5tYXhjZG4uY29tLzIvJyxcblxuICAgICAgLy8gZGVmYXVsdCBhc3NldHMgZmlsZSBleHRlbnNpb25zLCBieSBkZWZhdWx0ICcucG5nJ1xuICAgICAgZXh0OiAnLnBuZycsXG5cbiAgICAgIC8vIGRlZmF1bHQgYXNzZXRzL2ZvbGRlciBzaXplLCBieSBkZWZhdWx0IFwiNzJ4NzJcIlxuICAgICAgLy8gYXZhaWxhYmxlIHZpYSBUd2l0dGVyIENETjogNzJcbiAgICAgIHNpemU6ICc3Mng3MicsXG5cbiAgICAgIC8vIGRlZmF1bHQgY2xhc3MgbmFtZSwgYnkgZGVmYXVsdCAnZW1vamknXG4gICAgICBjbGFzc05hbWU6ICdlbW9qaScsXG5cbiAgICAgIC8vIGJhc2ljIHV0aWxpdGllcyAvIGhlbHBlcnMgdG8gY29udmVydCBjb2RlIHBvaW50c1xuICAgICAgLy8gdG8gSmF2YVNjcmlwdCBzdXJyb2dhdGVzIGFuZCB2aWNlIHZlcnNhXG4gICAgICBjb252ZXJ0OiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGFuIEhFWCBjb2RlcG9pbnQsIHJldHVybnMgVVRGMTYgc3Vycm9nYXRlIHBhaXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gICBzdHJpbmcgIGdlbmVyaWMgY29kZXBvaW50LCBpLmUuICcxRjRBOSdcbiAgICAgICAgICogQHJldHVybiAgc3RyaW5nICBjb2RlcG9pbnQgdHJhbnNmb3JtZWQgaW50byB1dGYxNiBzdXJyb2dhdGVzIHBhaXIsXG4gICAgICAgICAqICAgICAgICAgIGkuZS4gXFx1RDgzRFxcdURDQTlcbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogIHR3ZW1vamkuY29udmVydC5mcm9tQ29kZVBvaW50KCcxZjFlOCcpO1xuICAgICAgICAgKiAgLy8gXCJcXHVkODNjXFx1ZGRlOFwiXG4gICAgICAgICAqXG4gICAgICAgICAqICAnMWYxZTgtMWYxZjMnLnNwbGl0KCctJykubWFwKHR3ZW1vamkuY29udmVydC5mcm9tQ29kZVBvaW50KS5qb2luKCcnKVxuICAgICAgICAgKiAgLy8gXCJcXHVkODNjXFx1ZGRlOFxcdWQ4M2NcXHVkZGYzXCJcbiAgICAgICAgICovXG4gICAgICAgIGZyb21Db2RlUG9pbnQ6IGZyb21Db2RlUG9pbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIFVURjE2IHN1cnJvZ2F0ZSBwYWlycywgcmV0dXJucyB0aGUgZXF1aXZhbGVudCBIRVggY29kZXBvaW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gICBzdHJpbmcgIGdlbmVyaWMgdXRmMTYgc3Vycm9nYXRlcyBwYWlyLCBpLmUuIFxcdUQ4M0RcXHVEQ0E5XG4gICAgICAgICAqIEBwYXJhbSAgIHN0cmluZyAgb3B0aW9uYWwgc2VwYXJhdG9yIGZvciBkb3VibGUgY29kZSBwb2ludHMsIGRlZmF1bHQ9Jy0nXG4gICAgICAgICAqIEByZXR1cm4gIHN0cmluZyAgdXRmMTYgdHJhbnNmb3JtZWQgaW50byBjb2RlcG9pbnQsIGkuZS4gJzFGNEE5J1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAgdHdlbW9qaS5jb252ZXJ0LnRvQ29kZVBvaW50KCdcXHVkODNjXFx1ZGRlOFxcdWQ4M2NcXHVkZGYzJyk7XG4gICAgICAgICAqICAvLyBcIjFmMWU4LTFmMWYzXCJcbiAgICAgICAgICpcbiAgICAgICAgICogIHR3ZW1vamkuY29udmVydC50b0NvZGVQb2ludCgnXFx1ZDgzY1xcdWRkZThcXHVkODNjXFx1ZGRmMycsICd+Jyk7XG4gICAgICAgICAqICAvLyBcIjFmMWU4fjFmMWYzXCJcbiAgICAgICAgICovXG4gICAgICAgIHRvQ29kZVBvaW50OiB0b0NvZGVQb2ludFxuICAgICAgfSxcblxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vICAgICAgIG1ldGhvZHMgICAgICAgLy9cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlciBmaXJzdDogdXNlZCB0byByZW1vdmUgbWlzc2luZyBpbWFnZXNcbiAgICAgICAqIHByZXNlcnZpbmcgdGhlIG9yaWdpbmFsIHRleHQgaW50ZW50IHdoZW5cbiAgICAgICAqIGEgZmFsbGJhY2sgZm9yIG5ldHdvcmsgcHJvYmxlbXMgaXMgZGVzaXJlZC5cbiAgICAgICAqIEF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gSW1hZ2Ugbm9kZXMgdmlhIERPTVxuICAgICAgICogSXQgY291bGQgYmUgcmVjeWNsZWQgZm9yIHN0cmluZyBvcGVyYXRpb25zIHZpYTpcbiAgICAgICAqICAkKCdpbWcuZW1vamknKS5vbignZXJyb3InLCB0d2Vtb2ppLm9uZXJyb3IpXG4gICAgICAgKi9cbiAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uIG9uZXJyb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNyZWF0ZVRleHQodGhpcy5hbHQsIGZhbHNlKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogTWFpbiBtZXRob2QvbG9naWMgdG8gZ2VuZXJhdGUgZWl0aGVyIDxpbWc+IHRhZ3Mgb3IgSFRNTEltYWdlIG5vZGVzLlxuICAgICAgICogIFwiZW1vamlmeVwiIGEgZ2VuZXJpYyB0ZXh0IG9yIERPTSBFbGVtZW50LlxuICAgICAgICpcbiAgICAgICAqIEBvdmVybG9hZHNcbiAgICAgICAqXG4gICAgICAgKiBTdHJpbmcgcmVwbGFjZW1lbnQgZm9yIGBpbm5lckhUTUxgIG9yIHNlcnZlciBzaWRlIG9wZXJhdGlvbnNcbiAgICAgICAqICB0d2Vtb2ppLnBhcnNlKHN0cmluZyk7XG4gICAgICAgKiAgdHdlbW9qaS5wYXJzZShzdHJpbmcsIEZ1bmN0aW9uKTtcbiAgICAgICAqICB0d2Vtb2ppLnBhcnNlKHN0cmluZywgT2JqZWN0KTtcbiAgICAgICAqXG4gICAgICAgKiBIVE1MRWxlbWVudCB0cmVlIHBhcnNpbmcgZm9yIHNhZmVyIG9wZXJhdGlvbnMgb3ZlciBleGlzdGluZyBET01cbiAgICAgICAqICB0d2Vtb2ppLnBhcnNlKEhUTUxFbGVtZW50KTtcbiAgICAgICAqICB0d2Vtb2ppLnBhcnNlKEhUTUxFbGVtZW50LCBGdW5jdGlvbik7XG4gICAgICAgKiAgdHdlbW9qaS5wYXJzZShIVE1MRWxlbWVudCwgT2JqZWN0KTtcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gICBzdHJpbmd8SFRNTEVsZW1lbnQgIHRoZSBzb3VyY2UgdG8gcGFyc2UgYW5kIGVucmljaCB3aXRoIGVtb2ppLlxuICAgICAgICpcbiAgICAgICAqICAgICAgICAgIHN0cmluZyAgICAgICAgICAgICAgcmVwbGFjZSBlbW9qaSBtYXRjaGVzIHdpdGggPGltZz4gdGFncy5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFpbmx5IHVzZWQgdG8gaW5qZWN0IGVtb2ppIHZpYSBgaW5uZXJIVE1MYFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdCBkb2VzICoqbm90KiogcGFyc2UgdGhlIHN0cmluZyBvciB2YWxpZGF0ZSBpdCxcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQgc2ltcGx5IHJlcGxhY2VzIGZvdW5kIGVtb2ppIHdpdGggYSB0YWcuXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVEU6IGJlIHN1cmUgdGhpcyB3b24ndCBhZmZlY3Qgc2VjdXJpdHkuXG4gICAgICAgKlxuICAgICAgICogICAgICAgICAgSFRNTEVsZW1lbnQgICAgICAgICB3YWxrIHRocm91Z2ggdGhlIERPTSB0cmVlIGFuZCBmaW5kIGVtb2ppXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgYXJlIGluc2lkZSAqKnRleHQgbm9kZSBvbmx5KiogKG5vZGVUeXBlID09PSAzKVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYWlubHkgdXNlZCB0byBwdXQgZW1vamkgaW4gYWxyZWFkeSBnZW5lcmF0ZWQgRE9NXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhvdXQgY29tcHJvbWlzaW5nIHN1cnJvdW5kaW5nIG5vZGVzIGFuZFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqKmF2b2lkaW5nKiogdGhlIHVzYWdlIG9mIGBpbm5lckhUTUxgLlxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOT1RFOiBVc2luZyBET00gZWxlbWVudHMgaW5zdGVhZCBvZiBzdHJpbmdzIHNob3VsZFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXByb3ZlIHNlY3VyaXR5IHdpdGhvdXQgY29tcHJvbWlzaW5nIHRvbyBtdWNoXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlIGNvbXBhcmVkIHdpdGggYSBsZXNzIHNhZmUgYGlubmVySFRNTGAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtICAgRnVuY3Rpb258T2JqZWN0ICBbb3B0aW9uYWxdXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVpdGhlciB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGludm9rZWQgb3IgYW4gb2JqZWN0XG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggYWxsIHByb3BlcnRpZXMgdG8gdXNlIHBlciBlYWNoIGZvdW5kIGVtb2ppLlxuICAgICAgICpcbiAgICAgICAqICAgICAgICAgIEZ1bmN0aW9uICAgICAgICAgICAgaWYgc3BlY2lmaWVkLCB0aGlzIHdpbGwgYmUgaW52b2tlZCBwZXIgZWFjaCBlbW9qaVxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IGhhcyBiZWVuIGZvdW5kIHRocm91Z2ggdGhlIFJlZ0V4cCBleGNlcHRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhvc2UgZm9sbHdlZCBieSB0aGUgaW52YXJpYW50IFxcdUZFMEUgKFwiYXMgdGV4dFwiKS5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT25jZSBpbnZva2VkLCBwYXJhbWV0ZXJzIHdpbGwgYmU6XG4gICAgICAgKlxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25JZDpzdHJpbmcgICAgIHRoZSBsb3dlciBjYXNlIEhFWCBjb2RlIHBvaW50XG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5lLiBcIjFmNGE5XCJcbiAgICAgICAqXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczpPYmplY3QgICAgYWxsIGluZm8gZm9yIHRoaXMgcGFyc2luZyBvcGVyYXRpb25cbiAgICAgICAqXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDpjaGFyICAgICAgdGhlIG9wdGlvbmFsIFxcdUZFMEYgKFwiYXMgaW1hZ2VcIilcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50LCBpbiBjYXNlIHRoaXMgaW5mb1xuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIGFueWhvdyBtZWFuaW5nZnVsLlxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ5IGRlZmF1bHQgdGhpcyBpcyBpZ25vcmVkLlxuICAgICAgICpcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgc3VjaCBjYWxsYmFjayB3aWxsIHJldHVybiBhIGZhbHN5IHZhbHVlIGluc3RlYWRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgYSB2YWxpZCBgc3JjYCB0byB1c2UgZm9yIHRoZSBpbWFnZSwgbm90aGluZyB3aWxsXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbGx5IGNoYW5nZSBmb3IgdGhhdCBzcGVjaWZpYyBlbW9qaS5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogICAgICAgICAgT2JqZWN0ICAgICAgICAgICAgICBpZiBzcGVjaWZpZWQsIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllc1xuICAgICAgICpcbiAgICAgICAqICAgICAgICAgICAgY2FsbGJhY2sgICBGdW5jdGlvbiAgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBwZXIgZWFjaCBmb3VuZCBlbW9qaS5cbiAgICAgICAqICAgICAgICAgICAgYmFzZSAgICAgICBzdHJpbmcgICAgdGhlIGJhc2UgdXJsLCBieSBkZWZhdWx0IHR3ZW1vamkuYmFzZVxuICAgICAgICogICAgICAgICAgICBleHQgICAgICAgIHN0cmluZyAgICB0aGUgaW1hZ2UgZXh0ZW5zaW9uLCBieSBkZWZhdWx0IHR3ZW1vamkuZXh0XG4gICAgICAgKiAgICAgICAgICAgIHNpemUgICAgICAgc3RyaW5nICAgIHRoZSBhc3NldHMgc2l6ZSwgYnkgZGVmYXVsdCB0d2Vtb2ppLnNpemVcbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICpcbiAgICAgICAqICB0d2Vtb2ppLnBhcnNlKFwiSSBcXHUyNzY0XFx1RkUwRiBlbW9qaSFcIik7XG4gICAgICAgKiAgLy8gSSA8aW1nIGNsYXNzPVwiZW1vamlcIiBkcmFnZ2FibGU9XCJmYWxzZVwiIGFsdD1cIuKdpO+4j1wiIHNyYz1cIi9hc3NldHMvMjc2NC5naWZcIi8+IGVtb2ppIVxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAgdHdlbW9qaS5wYXJzZShcIkkgXFx1Mjc2NFxcdUZFMEYgZW1vamkhXCIsIGZ1bmN0aW9uKGljb25JZCwgb3B0aW9ucykge1xuICAgICAgICogICAgcmV0dXJuICcvYXNzZXRzLycgKyBpY29uSWQgKyAnLmdpZic7XG4gICAgICAgKiAgfSk7XG4gICAgICAgKiAgLy8gSSA8aW1nIGNsYXNzPVwiZW1vamlcIiBkcmFnZ2FibGU9XCJmYWxzZVwiIGFsdD1cIuKdpO+4j1wiIHNyYz1cIi9hc3NldHMvMjc2NC5naWZcIi8+IGVtb2ppIVxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiB0d2Vtb2ppLnBhcnNlKFwiSSBcXHUyNzY0XFx1RkUwRiBlbW9qaSFcIiwge1xuICAgICAgICogICBzaXplOiA3MixcbiAgICAgICAqICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGljb25JZCwgb3B0aW9ucykge1xuICAgICAgICogICAgIHJldHVybiAnL2Fzc2V0cy8nICsgb3B0aW9ucy5zaXplICsgJy8nICsgaWNvbklkICsgb3B0aW9ucy5leHQ7XG4gICAgICAgKiAgIH1cbiAgICAgICAqIH0pO1xuICAgICAgICogIC8vIEkgPGltZyBjbGFzcz1cImVtb2ppXCIgZHJhZ2dhYmxlPVwiZmFsc2VcIiBhbHQ9XCLinaTvuI9cIiBzcmM9XCIvYXNzZXRzLzcyeDcyLzI3NjQucG5nXCIvPiBlbW9qaSFcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIHBhcnNlOiBwYXJzZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBHaXZlbiBhIHN0cmluZywgaW52b2tlcyB0aGUgY2FsbGJhY2sgYXJndW1lbnRcbiAgICAgICAqICBwZXIgZWFjaCBlbW9qaSBmb3VuZCBpbiBzdWNoIHN0cmluZy5cbiAgICAgICAqIFRoaXMgaXMgdGhlIG1vc3QgcmF3IHZlcnNpb24gdXNlZCBieVxuICAgICAgICogIHRoZSAucGFyc2Uoc3RyaW5nKSBtZXRob2QgaXRzZWxmLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSAgIHN0cmluZyAgICBnZW5lcmljIHN0cmluZyB0byBwYXJzZVxuICAgICAgICogQHBhcmFtICAgRnVuY3Rpb24gIGEgZ2VuZXJpYyBjYWxsYmFjayB0aGF0IHdpbGwgYmVcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICBpbnZva2VkIHRvIHJlcGxhY2UgdGhlIGNvbnRlbnQuXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgVGhpcyBjYWxiYWNrIHdpbCByZWNlaXZlIHN0YW5kYXJkXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKHN0ciwgY2FsbGJhY2spXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzIHN1Y2g6XG4gICAgICAgKiAgY2FsbGJhY2soXG4gICAgICAgKiAgICByYXdUZXh0LCAgLy8gdGhlIGVtb2ppIG1hdGNoXG4gICAgICAgKiAgKTtcbiAgICAgICAqXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgYW5kIG90aGVycyBjb21tb25seSByZWNlaXZlZCB2aWEgcmVwbGFjZS5cbiAgICAgICAqL1xuICAgICAgcmVwbGFjZTogcmVwbGFjZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTaW1wbGlmeSBzdHJpbmcgdGVzdHMgYWdhaW5zdCBlbW9qaS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gICBzdHJpbmcgIHNvbWUgdGV4dCB0aGF0IG1pZ2h0IGNvbnRhaW4gZW1vamlcbiAgICAgICAqIEByZXR1cm4gIGJvb2xlYW4gdHJ1ZSBpZiBhbnkgZW1vamkgd2FzIGZvdW5kLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqXG4gICAgICAgKiAgaWYgKHR3ZW1vamkudGVzdChzb21lQ29udGVudCkpIHtcbiAgICAgICAqICAgIGNvbnNvbGUubG9nKFwiZW1vamkgQWxsIFRoZSBUaGluZ3MhXCIpO1xuICAgICAgICogIH1cbiAgICAgICAqL1xuICAgICAgdGVzdDogdGVzdFxuICAgIH0sXG5cbiAgICAvLyB1c2VkIHRvIGVzY2FwZSBIVE1MIHNwZWNpYWwgY2hhcnMgaW4gYXR0cmlidXRlc1xuICAgIGVzY2FwZXIgPSB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgXCInXCI6ICcmIzM5OycsXG4gICAgICAnXCInOiAnJnF1b3Q7J1xuICAgIH0sXG5cbiAgICAvLyBSZWdFeHAgYmFzZWQgb24gZW1vamkncyBvZmZpY2lhbCBVbmljb2RlIHN0YW5kYXJkc1xuICAgIC8vIGh0dHA6Ly93d3cudW5pY29kZS5vcmcvUHVibGljL1VOSURBVEEvRW1vamlTb3VyY2VzLnR4dFxuICAgIHJlID0gL1xcdWQ4M2RbXFx1ZGM2OC1cXHVkYzY5XSg/OlxcdWQ4M2NbXFx1ZGZmYi1cXHVkZmZmXSk/XFx1MjAwZCg/OlxcdTI2OTVcXHVmZTBmfFxcdTI2OTZcXHVmZTBmfFxcdTI3MDhcXHVmZTBmfFxcdWQ4M2NbXFx1ZGYzZVxcdWRmNzNcXHVkZjkzXFx1ZGZhNFxcdWRmYThcXHVkZmViXFx1ZGZlZF18XFx1ZDgzZFtcXHVkY2JiXFx1ZGNiY1xcdWRkMjdcXHVkZDJjXFx1ZGU4MFxcdWRlOTJdKXwoPzpcXHVkODNjW1xcdWRmY2JcXHVkZmNjXXxcXHVkODNkXFx1ZGQ3NXxcXHUyNmY5KSg/OlxcdWZlMGZ8XFx1ZDgzY1tcXHVkZmZiLVxcdWRmZmZdKVxcdTIwMGRbXFx1MjY0MFxcdTI2NDJdXFx1ZmUwZnwoPzpcXHVkODNjW1xcdWRmYzNcXHVkZmM0XFx1ZGZjYV18XFx1ZDgzZFtcXHVkYzZlXFx1ZGM3MVxcdWRjNzNcXHVkYzc3XFx1ZGM4MVxcdWRjODJcXHVkYzg2XFx1ZGM4N1xcdWRlNDUtXFx1ZGU0N1xcdWRlNGJcXHVkZTRkXFx1ZGU0ZVxcdWRlYTNcXHVkZWI0LVxcdWRlYjZdfFxcdWQ4M2VbXFx1ZGQyNlxcdWRkMzctXFx1ZGQzOVxcdWRkM2RcXHVkZDNlXFx1ZGRkNi1cXHVkZGRkXSkoPzpcXHVkODNjW1xcdWRmZmItXFx1ZGZmZl0pP1xcdTIwMGRbXFx1MjY0MFxcdTI2NDJdXFx1ZmUwZnxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHUyNzY0XFx1ZmUwZlxcdTIwMGRcXHVkODNkXFx1ZGM4YlxcdTIwMGRcXHVkODNkXFx1ZGM2OHxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2NlxcdTIwMGRcXHVkODNkXFx1ZGM2NnxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2N1xcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2NlxcdTIwMGRcXHVkODNkXFx1ZGM2NnxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2N1xcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHUyNzY0XFx1ZmUwZlxcdTIwMGRcXHVkODNkXFx1ZGM4YlxcdTIwMGRcXHVkODNkW1xcdWRjNjhcXHVkYzY5XXxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2NlxcdTIwMGRcXHVkODNkXFx1ZGM2NnxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2N1xcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHUyNzY0XFx1ZmUwZlxcdTIwMGRcXHVkODNkXFx1ZGM2OHxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2NlxcdTIwMGRcXHVkODNkXFx1ZGM2NnxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2N1xcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OFxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHUyNzY0XFx1ZmUwZlxcdTIwMGRcXHVkODNkW1xcdWRjNjhcXHVkYzY5XXxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2NlxcdTIwMGRcXHVkODNkXFx1ZGM2NnxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2N1xcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkXFx1ZGM2OVxcdTIwMGRcXHVkODNkW1xcdWRjNjZcXHVkYzY3XXxcXHVkODNjXFx1ZGZmM1xcdWZlMGZcXHUyMDBkXFx1ZDgzY1xcdWRmMDh8XFx1ZDgzY1xcdWRmZjRcXHUyMDBkXFx1MjYyMFxcdWZlMGZ8XFx1ZDgzZFxcdWRjNDFcXHUyMDBkXFx1ZDgzZFxcdWRkZTh8XFx1ZDgzZFxcdWRjNjhcXHUyMDBkXFx1ZDgzZFtcXHVkYzY2XFx1ZGM2N118XFx1ZDgzZFxcdWRjNjlcXHUyMDBkXFx1ZDgzZFtcXHVkYzY2XFx1ZGM2N118XFx1ZDgzZFxcdWRjNmZcXHUyMDBkXFx1MjY0MFxcdWZlMGZ8XFx1ZDgzZFxcdWRjNmZcXHUyMDBkXFx1MjY0MlxcdWZlMGZ8XFx1ZDgzZVxcdWRkM2NcXHUyMDBkXFx1MjY0MFxcdWZlMGZ8XFx1ZDgzZVxcdWRkM2NcXHUyMDBkXFx1MjY0MlxcdWZlMGZ8XFx1ZDgzZVxcdWRkZGVcXHUyMDBkXFx1MjY0MFxcdWZlMGZ8XFx1ZDgzZVxcdWRkZGVcXHUyMDBkXFx1MjY0MlxcdWZlMGZ8XFx1ZDgzZVxcdWRkZGZcXHUyMDBkXFx1MjY0MFxcdWZlMGZ8XFx1ZDgzZVxcdWRkZGZcXHUyMDBkXFx1MjY0MlxcdWZlMGZ8KD86W1xcdTAwMjNcXHUwMDJhXFx1MDAzMC1cXHUwMDM5XSlcXHVmZTBmP1xcdTIwZTN8KD86KD86XFx1ZDgzY1tcXHVkZmNiXFx1ZGZjY118XFx1ZDgzZFtcXHVkZDc0XFx1ZGQ3NVxcdWRkOTBdfFtcXHUyNjFkXFx1MjZmN1xcdTI2ZjlcXHUyNzBjXFx1MjcwZF0pKD86XFx1ZmUwZnwoPyFcXHVmZTBlKSl8XFx1ZDgzY1tcXHVkZjg1XFx1ZGZjMi1cXHVkZmM0XFx1ZGZjN1xcdWRmY2FdfFxcdWQ4M2RbXFx1ZGM0MlxcdWRjNDNcXHVkYzQ2LVxcdWRjNTBcXHVkYzY2LVxcdWRjNjlcXHVkYzZlXFx1ZGM3MC1cXHVkYzc4XFx1ZGM3Y1xcdWRjODEtXFx1ZGM4M1xcdWRjODUtXFx1ZGM4N1xcdWRjYWFcXHVkZDdhXFx1ZGQ5NVxcdWRkOTZcXHVkZTQ1LVxcdWRlNDdcXHVkZTRiLVxcdWRlNGZcXHVkZWEzXFx1ZGViNC1cXHVkZWI2XFx1ZGVjMFxcdWRlY2NdfFxcdWQ4M2VbXFx1ZGQxOC1cXHVkZDFjXFx1ZGQxZVxcdWRkMWZcXHVkZDI2XFx1ZGQzMC1cXHVkZDM5XFx1ZGQzZFxcdWRkM2VcXHVkZGQxLVxcdWRkZGRdfFtcXHUyNzBhXFx1MjcwYl0pKD86XFx1ZDgzY1tcXHVkZmZiLVxcdWRmZmZdfCl8XFx1ZDgzY1xcdWRmZjRcXHVkYjQwXFx1ZGM2N1xcdWRiNDBcXHVkYzYyXFx1ZGI0MFxcdWRjNjVcXHVkYjQwXFx1ZGM2ZVxcdWRiNDBcXHVkYzY3XFx1ZGI0MFxcdWRjN2Z8XFx1ZDgzY1xcdWRmZjRcXHVkYjQwXFx1ZGM2N1xcdWRiNDBcXHVkYzYyXFx1ZGI0MFxcdWRjNzNcXHVkYjQwXFx1ZGM2M1xcdWRiNDBcXHVkYzc0XFx1ZGI0MFxcdWRjN2Z8XFx1ZDgzY1xcdWRmZjRcXHVkYjQwXFx1ZGM2N1xcdWRiNDBcXHVkYzYyXFx1ZGI0MFxcdWRjNzdcXHVkYjQwXFx1ZGM2Y1xcdWRiNDBcXHVkYzczXFx1ZGI0MFxcdWRjN2Z8XFx1ZDgzY1xcdWRkZTZcXHVkODNjW1xcdWRkZTgtXFx1ZGRlY1xcdWRkZWVcXHVkZGYxXFx1ZGRmMlxcdWRkZjRcXHVkZGY2LVxcdWRkZmFcXHVkZGZjXFx1ZGRmZFxcdWRkZmZdfFxcdWQ4M2NcXHVkZGU3XFx1ZDgzY1tcXHVkZGU2XFx1ZGRlN1xcdWRkZTktXFx1ZGRlZlxcdWRkZjEtXFx1ZGRmNFxcdWRkZjYtXFx1ZGRmOVxcdWRkZmJcXHVkZGZjXFx1ZGRmZVxcdWRkZmZdfFxcdWQ4M2NcXHVkZGU4XFx1ZDgzY1tcXHVkZGU2XFx1ZGRlOFxcdWRkZTlcXHVkZGViLVxcdWRkZWVcXHVkZGYwLVxcdWRkZjVcXHVkZGY3XFx1ZGRmYS1cXHVkZGZmXXxcXHVkODNjXFx1ZGRlOVxcdWQ4M2NbXFx1ZGRlYVxcdWRkZWNcXHVkZGVmXFx1ZGRmMFxcdWRkZjJcXHVkZGY0XFx1ZGRmZl18XFx1ZDgzY1xcdWRkZWFcXHVkODNjW1xcdWRkZTZcXHVkZGU4XFx1ZGRlYVxcdWRkZWNcXHVkZGVkXFx1ZGRmNy1cXHVkZGZhXXxcXHVkODNjXFx1ZGRlYlxcdWQ4M2NbXFx1ZGRlZS1cXHVkZGYwXFx1ZGRmMlxcdWRkZjRcXHVkZGY3XXxcXHVkODNjXFx1ZGRlY1xcdWQ4M2NbXFx1ZGRlNlxcdWRkZTdcXHVkZGU5LVxcdWRkZWVcXHVkZGYxLVxcdWRkZjNcXHVkZGY1LVxcdWRkZmFcXHVkZGZjXFx1ZGRmZV18XFx1ZDgzY1xcdWRkZWRcXHVkODNjW1xcdWRkZjBcXHVkZGYyXFx1ZGRmM1xcdWRkZjdcXHVkZGY5XFx1ZGRmYV18XFx1ZDgzY1xcdWRkZWVcXHVkODNjW1xcdWRkZTgtXFx1ZGRlYVxcdWRkZjEtXFx1ZGRmNFxcdWRkZjYtXFx1ZGRmOV18XFx1ZDgzY1xcdWRkZWZcXHVkODNjW1xcdWRkZWFcXHVkZGYyXFx1ZGRmNFxcdWRkZjVdfFxcdWQ4M2NcXHVkZGYwXFx1ZDgzY1tcXHVkZGVhXFx1ZGRlYy1cXHVkZGVlXFx1ZGRmMlxcdWRkZjNcXHVkZGY1XFx1ZGRmN1xcdWRkZmNcXHVkZGZlXFx1ZGRmZl18XFx1ZDgzY1xcdWRkZjFcXHVkODNjW1xcdWRkZTYtXFx1ZGRlOFxcdWRkZWVcXHVkZGYwXFx1ZGRmNy1cXHVkZGZiXFx1ZGRmZV18XFx1ZDgzY1xcdWRkZjJcXHVkODNjW1xcdWRkZTZcXHVkZGU4LVxcdWRkZWRcXHVkZGYwLVxcdWRkZmZdfFxcdWQ4M2NcXHVkZGYzXFx1ZDgzY1tcXHVkZGU2XFx1ZGRlOFxcdWRkZWEtXFx1ZGRlY1xcdWRkZWVcXHVkZGYxXFx1ZGRmNFxcdWRkZjVcXHVkZGY3XFx1ZGRmYVxcdWRkZmZdfFxcdWQ4M2NcXHVkZGY0XFx1ZDgzY1xcdWRkZjJ8XFx1ZDgzY1xcdWRkZjVcXHVkODNjW1xcdWRkZTZcXHVkZGVhLVxcdWRkZWRcXHVkZGYwLVxcdWRkZjNcXHVkZGY3LVxcdWRkZjlcXHVkZGZjXFx1ZGRmZV18XFx1ZDgzY1xcdWRkZjZcXHVkODNjXFx1ZGRlNnxcXHVkODNjXFx1ZGRmN1xcdWQ4M2NbXFx1ZGRlYVxcdWRkZjRcXHVkZGY4XFx1ZGRmYVxcdWRkZmNdfFxcdWQ4M2NcXHVkZGY4XFx1ZDgzY1tcXHVkZGU2LVxcdWRkZWFcXHVkZGVjLVxcdWRkZjRcXHVkZGY3LVxcdWRkZjlcXHVkZGZiXFx1ZGRmZC1cXHVkZGZmXXxcXHVkODNjXFx1ZGRmOVxcdWQ4M2NbXFx1ZGRlNlxcdWRkZThcXHVkZGU5XFx1ZGRlYi1cXHVkZGVkXFx1ZGRlZi1cXHVkZGY0XFx1ZGRmN1xcdWRkZjlcXHVkZGZiXFx1ZGRmY1xcdWRkZmZdfFxcdWQ4M2NcXHVkZGZhXFx1ZDgzY1tcXHVkZGU2XFx1ZGRlY1xcdWRkZjJcXHVkZGYzXFx1ZGRmOFxcdWRkZmVcXHVkZGZmXXxcXHVkODNjXFx1ZGRmYlxcdWQ4M2NbXFx1ZGRlNlxcdWRkZThcXHVkZGVhXFx1ZGRlY1xcdWRkZWVcXHVkZGYzXFx1ZGRmYV18XFx1ZDgzY1xcdWRkZmNcXHVkODNjW1xcdWRkZWJcXHVkZGY4XXxcXHVkODNjXFx1ZGRmZFxcdWQ4M2NcXHVkZGYwfFxcdWQ4M2NcXHVkZGZlXFx1ZDgzY1tcXHVkZGVhXFx1ZGRmOV18XFx1ZDgzY1xcdWRkZmZcXHVkODNjW1xcdWRkZTZcXHVkZGYyXFx1ZGRmY118XFx1ZDgwMFxcdWRjMDB8XFx1ZDgzY1tcXHVkY2NmXFx1ZGQ4ZVxcdWRkOTEtXFx1ZGQ5YVxcdWRkZTYtXFx1ZGRmZlxcdWRlMDFcXHVkZTMyLVxcdWRlMzZcXHVkZTM4LVxcdWRlM2FcXHVkZTUwXFx1ZGU1MVxcdWRmMDAtXFx1ZGYyMFxcdWRmMmQtXFx1ZGYzNVxcdWRmMzctXFx1ZGY3Y1xcdWRmN2UtXFx1ZGY4NFxcdWRmODYtXFx1ZGY5M1xcdWRmYTAtXFx1ZGZjMVxcdWRmYzVcXHVkZmM2XFx1ZGZjOFxcdWRmYzlcXHVkZmNmLVxcdWRmZDNcXHVkZmUwLVxcdWRmZjBcXHVkZmY0XFx1ZGZmOC1cXHVkZmZmXXxcXHVkODNkW1xcdWRjMDAtXFx1ZGMzZVxcdWRjNDBcXHVkYzQ0XFx1ZGM0NVxcdWRjNTEtXFx1ZGM2NVxcdWRjNmEtXFx1ZGM2ZFxcdWRjNmZcXHVkYzc5LVxcdWRjN2JcXHVkYzdkLVxcdWRjODBcXHVkYzg0XFx1ZGM4OC1cXHVkY2E5XFx1ZGNhYi1cXHVkY2ZjXFx1ZGNmZi1cXHVkZDNkXFx1ZGQ0Yi1cXHVkZDRlXFx1ZGQ1MC1cXHVkZDY3XFx1ZGRhNFxcdWRkZmItXFx1ZGU0NFxcdWRlNDgtXFx1ZGU0YVxcdWRlODAtXFx1ZGVhMlxcdWRlYTQtXFx1ZGViM1xcdWRlYjctXFx1ZGViZlxcdWRlYzEtXFx1ZGVjNVxcdWRlZDAtXFx1ZGVkMlxcdWRlZWJcXHVkZWVjXFx1ZGVmNC1cXHVkZWY4XXxcXHVkODNlW1xcdWRkMTAtXFx1ZGQxN1xcdWRkMWRcXHVkZDIwLVxcdWRkMjVcXHVkZDI3LVxcdWRkMmZcXHVkZDNhXFx1ZGQzY1xcdWRkNDAtXFx1ZGQ0NVxcdWRkNDctXFx1ZGQ0Y1xcdWRkNTAtXFx1ZGQ2YlxcdWRkODAtXFx1ZGQ5N1xcdWRkYzBcXHVkZGQwXFx1ZGRkZS1cXHVkZGU2XXxbXFx1MjNlOS1cXHUyM2VjXFx1MjNmMFxcdTIzZjNcXHUyNjQwXFx1MjY0MlxcdTI2OTVcXHUyNmNlXFx1MjcwNVxcdTI3MjhcXHUyNzRjXFx1Mjc0ZVxcdTI3NTMtXFx1Mjc1NVxcdTI3OTUtXFx1Mjc5N1xcdTI3YjBcXHUyN2JmXFx1ZTUwYV18KD86XFx1ZDgzY1tcXHVkYzA0XFx1ZGQ3MFxcdWRkNzFcXHVkZDdlXFx1ZGQ3ZlxcdWRlMDJcXHVkZTFhXFx1ZGUyZlxcdWRlMzdcXHVkZjIxXFx1ZGYyNC1cXHVkZjJjXFx1ZGYzNlxcdWRmN2RcXHVkZjk2XFx1ZGY5N1xcdWRmOTktXFx1ZGY5YlxcdWRmOWVcXHVkZjlmXFx1ZGZjZFxcdWRmY2VcXHVkZmQ0LVxcdWRmZGZcXHVkZmYzXFx1ZGZmNVxcdWRmZjddfFxcdWQ4M2RbXFx1ZGMzZlxcdWRjNDFcXHVkY2ZkXFx1ZGQ0OVxcdWRkNGFcXHVkZDZmXFx1ZGQ3MFxcdWRkNzNcXHVkZDc2LVxcdWRkNzlcXHVkZDg3XFx1ZGQ4YS1cXHVkZDhkXFx1ZGRhNVxcdWRkYThcXHVkZGIxXFx1ZGRiMlxcdWRkYmNcXHVkZGMyLVxcdWRkYzRcXHVkZGQxLVxcdWRkZDNcXHVkZGRjLVxcdWRkZGVcXHVkZGUxXFx1ZGRlM1xcdWRkZThcXHVkZGVmXFx1ZGRmM1xcdWRkZmFcXHVkZWNiXFx1ZGVjZC1cXHVkZWNmXFx1ZGVlMC1cXHVkZWU1XFx1ZGVlOVxcdWRlZjBcXHVkZWYzXXxbXFx1MDBhOVxcdTAwYWVcXHUyMDNjXFx1MjA0OVxcdTIxMjJcXHUyMTM5XFx1MjE5NC1cXHUyMTk5XFx1MjFhOVxcdTIxYWFcXHUyMzFhXFx1MjMxYlxcdTIzMjhcXHUyM2NmXFx1MjNlZC1cXHUyM2VmXFx1MjNmMVxcdTIzZjJcXHUyM2Y4LVxcdTIzZmFcXHUyNGMyXFx1MjVhYVxcdTI1YWJcXHUyNWI2XFx1MjVjMFxcdTI1ZmItXFx1MjVmZVxcdTI2MDAtXFx1MjYwNFxcdTI2MGVcXHUyNjExXFx1MjYxNFxcdTI2MTVcXHUyNjE4XFx1MjYyMFxcdTI2MjJcXHUyNjIzXFx1MjYyNlxcdTI2MmFcXHUyNjJlXFx1MjYyZlxcdTI2MzgtXFx1MjYzYVxcdTI2NDgtXFx1MjY1M1xcdTI2NjBcXHUyNjYzXFx1MjY2NVxcdTI2NjZcXHUyNjY4XFx1MjY3YlxcdTI2N2ZcXHUyNjkyLVxcdTI2OTRcXHUyNjk2XFx1MjY5N1xcdTI2OTlcXHUyNjliXFx1MjY5Y1xcdTI2YTBcXHUyNmExXFx1MjZhYVxcdTI2YWJcXHUyNmIwXFx1MjZiMVxcdTI2YmRcXHUyNmJlXFx1MjZjNFxcdTI2YzVcXHUyNmM4XFx1MjZjZlxcdTI2ZDFcXHUyNmQzXFx1MjZkNFxcdTI2ZTlcXHUyNmVhXFx1MjZmMC1cXHUyNmY1XFx1MjZmOFxcdTI2ZmFcXHUyNmZkXFx1MjcwMlxcdTI3MDhcXHUyNzA5XFx1MjcwZlxcdTI3MTJcXHUyNzE0XFx1MjcxNlxcdTI3MWRcXHUyNzIxXFx1MjczM1xcdTI3MzRcXHUyNzQ0XFx1Mjc0N1xcdTI3NTdcXHUyNzYzXFx1Mjc2NFxcdTI3YTFcXHUyOTM0XFx1MjkzNVxcdTJiMDUtXFx1MmIwN1xcdTJiMWJcXHUyYjFjXFx1MmI1MFxcdTJiNTVcXHUzMDMwXFx1MzAzZFxcdTMyOTdcXHUzMjk5XSkoPzpcXHVmZTBmfCg/IVxcdWZlMGUpKS9nLFxuXG4gICAgLy8gYXZvaWQgcnVudGltZSBSZWdFeHAgY3JlYXRpb24gZm9yIG5vdCBzbyBzbWFydCxcbiAgICAvLyBub3QgSklUIGJhc2VkLCBhbmQgb2xkIGJyb3dzZXJzIC8gZW5naW5lc1xuICAgIFVGRTBGZyA9IC9cXHVGRTBGL2csXG5cbiAgICAvLyBhdm9pZCB1c2luZyBhIHN0cmluZyBsaXRlcmFsIGxpa2UgJ1xcdTIwMEQnIGhlcmUgYmVjYXVzZSBtaW5pZmllcnMgZXhwYW5kIGl0IGlubGluZVxuICAgIFUyMDBEID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDIwMEQpLFxuXG4gICAgLy8gdXNlZCB0byBmaW5kIEhUTUwgc3BlY2lhbCBjaGFycyBpbiBhdHRyaWJ1dGVzXG4gICAgcmVzY2FwZXIgPSAvWyY8PidcIl0vZyxcblxuICAgIC8vIG5vZGVzIHdpdGggdHlwZSAxIHdoaWNoIHNob3VsZCAqKm5vdCoqIGJlIHBhcnNlZFxuICAgIHNob3VsZG50QmVQYXJzZWQgPSAvXig/OmlmcmFtZXxub2ZyYW1lc3xub3NjcmlwdHxzY3JpcHR8c2VsZWN0fHN0eWxlfHRleHRhcmVhKSQvLFxuXG4gICAgLy8ganVzdCBhIHByaXZhdGUgc2hvcnRjdXRcbiAgICBmcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4gIHJldHVybiB0d2Vtb2ppO1xuXG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyAgcHJpdmF0ZSBmdW5jdGlvbnMgIC8vXG4gIC8vICAgICBkZWNsYXJhdGlvbiAgICAgLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCB0byBjcmVhdGUgdGV4dCBub2Rlc1xuICAgKiBAcGFyYW0gICBzdHJpbmcgIHRleHQgdXNlZCB0byBjcmVhdGUgRE9NIHRleHQgbm9kZVxuICAgKiBAcmV0dXJuICBOb2RlICBhIERPTSBub2RlIHdpdGggdGhhdCB0ZXh0XG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVUZXh0KHRleHQsIGNsZWFuKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNsZWFuID8gdGV4dC5yZXBsYWNlKFVGRTBGZywgJycpIDogdGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBlc2NhcGUgaHRtbCBhdHRyaWJ1dGUgdGV4dFxuICAgKiBAcGFyYW0gICBzdHJpbmcgIHRleHQgdXNlIGluIEhUTUwgYXR0cmlidXRlXG4gICAqIEByZXR1cm4gIHN0cmluZyAgdGV4dCBlbmNvZGVkIHRvIHVzZSBpbiBIVE1MIGF0dHJpYnV0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlSFRNTChzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZShyZXNjYXBlciwgcmVwbGFjZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgY2FsbGJhY2sgdXNlZCB0byBnZW5lcmF0ZSBlbW9qaSBzcmNcbiAgICogIGJhc2VkIG9uIFR3aXR0ZXIgQ0ROXG4gICAqIEBwYXJhbSAgIHN0cmluZyAgICB0aGUgZW1vamkgY29kZXBvaW50IHN0cmluZ1xuICAgKiBAcGFyYW0gICBzdHJpbmcgICAgdGhlIGRlZmF1bHQgc2l6ZSB0byB1c2UsIGkuZS4gXCIzNngzNlwiXG4gICAqIEByZXR1cm4gIHN0cmluZyAgICB0aGUgaW1hZ2Ugc291cmNlIHRvIHVzZVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdEltYWdlU3JjR2VuZXJhdG9yKGljb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJycuY29uY2F0KG9wdGlvbnMuYmFzZSwgb3B0aW9ucy5zaXplLCAnLycsIGljb24sIG9wdGlvbnMuZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIGdlbmVyaWMgRE9NIG5vZGVUeXBlIDEsIHdhbGsgdGhyb3VnaCBhbGwgY2hpbGRyZW5cbiAgICogYW5kIHN0b3JlIGV2ZXJ5IG5vZGVUeXBlIDMgKCN0ZXh0KSBmb3VuZCBpbiB0aGUgdHJlZS5cbiAgICogQHBhcmFtICAgRWxlbWVudCBhIERPTSBFbGVtZW50IHdpdGggcHJvYmFibHkgc29tZSB0ZXh0IGluIGl0XG4gICAqIEBwYXJhbSAgIEFycmF5IHRoZSBsaXN0IG9mIHByZXZpb3VzbHkgZGlzY292ZXJlZCB0ZXh0IG5vZGVzXG4gICAqIEByZXR1cm4gIEFycmF5IHNhbWUgbGlzdCB3aXRoIG5ldyBkaXNjb3ZlcmVkIG5vZGVzLCBpZiBhbnlcbiAgICovXG4gIGZ1bmN0aW9uIGdyYWJBbGxUZXh0Tm9kZXMobm9kZSwgYWxsVGV4dCkge1xuICAgIHZhclxuICAgICAgY2hpbGROb2RlcyA9IG5vZGUuY2hpbGROb2RlcyxcbiAgICAgIGxlbmd0aCA9IGNoaWxkTm9kZXMubGVuZ3RoLFxuICAgICAgc3Vibm9kZSxcbiAgICAgIG5vZGVUeXBlO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgc3Vibm9kZSA9IGNoaWxkTm9kZXNbbGVuZ3RoXTtcbiAgICAgIG5vZGVUeXBlID0gc3Vibm9kZS5ub2RlVHlwZTtcbiAgICAgIC8vIHBhcnNlIGVtb2ppIG9ubHkgaW4gdGV4dCBub2Rlc1xuICAgICAgaWYgKG5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIC8vIGNvbGxlY3QgdGhlbSB0byBwcm9jZXNzIGVtb2ppIGxhdGVyXG4gICAgICAgIGFsbFRleHQucHVzaChzdWJub2RlKTtcbiAgICAgIH1cbiAgICAgIC8vIGlnbm9yZSBhbGwgbm9kZXMgdGhhdCBhcmUgbm90IHR5cGUgMSwgdGhhdCBhcmUgc3ZnLCBvciB0aGF0XG4gICAgICAvLyBzaG91bGQgbm90IGJlIHBhcnNlZCBhcyBzY3JpcHQsIHN0eWxlLCBhbmQgb3RoZXJzXG4gICAgICBlbHNlIGlmIChub2RlVHlwZSA9PT0gMSAmJiAhKCdvd25lclNWR0VsZW1lbnQnIGluIHN1Ym5vZGUpICYmXG4gICAgICAgICAgIXNob3VsZG50QmVQYXJzZWQudGVzdChzdWJub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIGdyYWJBbGxUZXh0Tm9kZXMoc3Vibm9kZSwgYWxsVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbGxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gYm90aCByZW1vdmUgdGhlIHBvc3NpYmxlIHZhcmlhbnRcbiAgICogIGFuZCB0byBjb252ZXJ0IHV0ZjE2IGludG8gY29kZSBwb2ludHMuXG4gICAqICBJZiB0aGVyZSBpcyBhIHplcm8td2lkdGgtam9pbmVyIChVKzIwMEQpLCBsZWF2ZSB0aGUgdmFyaWFudHMgaW4uXG4gICAqIEBwYXJhbSAgIHN0cmluZyAgICB0aGUgcmF3IHRleHQgb2YgdGhlIGVtb2ppIG1hdGNoXG4gICAqIEByZXR1cm4gIHN0cmluZyAgICB0aGUgY29kZSBwb2ludFxuICAgKi9cbiAgZnVuY3Rpb24gZ3JhYlRoZVJpZ2h0SWNvbihyYXdUZXh0KSB7XG4gICAgLy8gaWYgdmFyaWFudCBpcyBwcmVzZW50IGFzIFxcdUZFMEZcbiAgICByZXR1cm4gdG9Db2RlUG9pbnQocmF3VGV4dC5pbmRleE9mKFUyMDBEKSA8IDAgP1xuICAgICAgcmF3VGV4dC5yZXBsYWNlKFVGRTBGZywgJycpIDpcbiAgICAgIHJhd1RleHRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERPTSB2ZXJzaW9uIG9mIHRoZSBzYW1lIGxvZ2ljIC8gcGFyc2VyOlxuICAgKiAgZW1vamlmeSBhbGwgZm91bmQgc3ViLXRleHQgbm9kZXMgcGxhY2luZyBpbWFnZXMgbm9kZSBpbnN0ZWFkLlxuICAgKiBAcGFyYW0gICBFbGVtZW50ICAgZ2VuZXJpYyBET00gbm9kZSB3aXRoIHNvbWUgdGV4dCBpbiBzb21lIGNoaWxkIG5vZGVcbiAgICogQHBhcmFtICAgT2JqZWN0ICAgIG9wdGlvbnMgIGNvbnRhaW5pbmcgaW5mbyBhYm91dCBob3cgdG8gcGFyc2VcbiAgICAqXG4gICAgKiAgICAgICAgICAgIC5jYWxsYmFjayAgIEZ1bmN0aW9uICB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIHBlciBlYWNoIGZvdW5kIGVtb2ppLlxuICAgICogICAgICAgICAgICAuYmFzZSAgICAgICBzdHJpbmcgICAgdGhlIGJhc2UgdXJsLCBieSBkZWZhdWx0IHR3ZW1vamkuYmFzZVxuICAgICogICAgICAgICAgICAuZXh0ICAgICAgICBzdHJpbmcgICAgdGhlIGltYWdlIGV4dGVuc2lvbiwgYnkgZGVmYXVsdCB0d2Vtb2ppLmV4dFxuICAgICogICAgICAgICAgICAuc2l6ZSAgICAgICBzdHJpbmcgICAgdGhlIGFzc2V0cyBzaXplLCBieSBkZWZhdWx0IHR3ZW1vamkuc2l6ZVxuICAgICpcbiAgICogQHJldHVybiAgRWxlbWVudCBzYW1lIGdlbmVyaWMgbm9kZSB3aXRoIGVtb2ppIGluIHBsYWNlLCBpZiBhbnkuXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZU5vZGUobm9kZSwgb3B0aW9ucykge1xuICAgIHZhclxuICAgICAgYWxsVGV4dCA9IGdyYWJBbGxUZXh0Tm9kZXMobm9kZSwgW10pLFxuICAgICAgbGVuZ3RoID0gYWxsVGV4dC5sZW5ndGgsXG4gICAgICBhdHRyaWIsXG4gICAgICBhdHRybmFtZSxcbiAgICAgIG1vZGlmaWVkLFxuICAgICAgZnJhZ21lbnQsXG4gICAgICBzdWJub2RlLFxuICAgICAgdGV4dCxcbiAgICAgIG1hdGNoLFxuICAgICAgaSxcbiAgICAgIGluZGV4LFxuICAgICAgaW1nLFxuICAgICAgcmF3VGV4dCxcbiAgICAgIGljb25JZCxcbiAgICAgIHNyYztcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIG1vZGlmaWVkID0gZmFsc2U7XG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIHN1Ym5vZGUgPSBhbGxUZXh0W2xlbmd0aF07XG4gICAgICB0ZXh0ID0gc3Vibm9kZS5ub2RlVmFsdWU7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlICgobWF0Y2ggPSByZS5leGVjKHRleHQpKSkge1xuICAgICAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgICAgICBpZiAoaW5kZXggIT09IGkpIHtcbiAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgIGNyZWF0ZVRleHQodGV4dC5zbGljZShpLCBpbmRleCksIHRydWUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByYXdUZXh0ID0gbWF0Y2hbMF07XG4gICAgICAgIGljb25JZCA9IGdyYWJUaGVSaWdodEljb24ocmF3VGV4dCk7XG4gICAgICAgIGkgPSBpbmRleCArIHJhd1RleHQubGVuZ3RoO1xuICAgICAgICBzcmMgPSBvcHRpb25zLmNhbGxiYWNrKGljb25JZCwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBpbWcub25lcnJvciA9IG9wdGlvbnMub25lcnJvcjtcbiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgICBhdHRyaWIgPSBvcHRpb25zLmF0dHJpYnV0ZXMocmF3VGV4dCwgaWNvbklkKTtcbiAgICAgICAgICBmb3IgKGF0dHJuYW1lIGluIGF0dHJpYikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBhdHRyaWIuaGFzT3duUHJvcGVydHkoYXR0cm5hbWUpICYmXG4gICAgICAgICAgICAgIC8vIGRvbid0IGFsbG93IGFueSBoYW5kbGVycyB0byBiZSBzZXQgKyBkb24ndCBhbGxvdyBvdmVycmlkZXNcbiAgICAgICAgICAgICAgYXR0cm5hbWUuaW5kZXhPZignb24nKSAhPT0gMCAmJlxuICAgICAgICAgICAgICAhaW1nLmhhc0F0dHJpYnV0ZShhdHRybmFtZSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKGF0dHJuYW1lLCBhdHRyaWJbYXR0cm5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW1nLmNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lO1xuICAgICAgICAgIGltZy5hbHQgPSByYXdUZXh0O1xuICAgICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICAgICAgbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbWcpIGZyYWdtZW50LmFwcGVuZENoaWxkKGNyZWF0ZVRleHQocmF3VGV4dCwgZmFsc2UpKTtcbiAgICAgICAgaW1nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIGlzIHRoZXJlIGFjdHVhbGx5IGFueXRoaW5nIHRvIHJlcGxhY2UgaW4gaGVyZSA/XG4gICAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgICAgLy8gYW55IHRleHQgbGVmdCB0byBiZSBhZGRlZCA/XG4gICAgICAgIGlmIChpIDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgIGNyZWF0ZVRleHQodGV4dC5zbGljZShpKSwgdHJ1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIHRleHQgbm9kZSBvbmx5LCBsZWF2ZSBpbnRhY3RcbiAgICAgICAgLy8gYW55dGhpbmcgZWxzZSBzdXJyb3VuZGluZyBzdWNoIHRleHRcbiAgICAgICAgc3Vibm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChmcmFnbWVudCwgc3Vibm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0cmluZy9IVE1MIHZlcnNpb24gb2YgdGhlIHNhbWUgbG9naWMgLyBwYXJzZXI6XG4gICAqICBlbW9qaWZ5IGEgZ2VuZXJpYyB0ZXh0IHBsYWNpbmcgaW1hZ2VzIHRhZ3MgaW5zdGVhZCBvZiBzdXJyb2dhdGVzIHBhaXIuXG4gICAqIEBwYXJhbSAgIHN0cmluZyAgICBnZW5lcmljIHN0cmluZyB3aXRoIHBvc3NpYmx5IHNvbWUgZW1vamkgaW4gaXRcbiAgICogQHBhcmFtICAgT2JqZWN0ICAgIG9wdGlvbnMgIGNvbnRhaW5pbmcgaW5mbyBhYm91dCBob3cgdG8gcGFyc2VcbiAgICpcbiAgICogICAgICAgICAgICAuY2FsbGJhY2sgICBGdW5jdGlvbiAgdGhlIGNhbGxiYWNrIHRvIGludm9rZSBwZXIgZWFjaCBmb3VuZCBlbW9qaS5cbiAgICogICAgICAgICAgICAuYmFzZSAgICAgICBzdHJpbmcgICAgdGhlIGJhc2UgdXJsLCBieSBkZWZhdWx0IHR3ZW1vamkuYmFzZVxuICAgKiAgICAgICAgICAgIC5leHQgICAgICAgIHN0cmluZyAgICB0aGUgaW1hZ2UgZXh0ZW5zaW9uLCBieSBkZWZhdWx0IHR3ZW1vamkuZXh0XG4gICAqICAgICAgICAgICAgLnNpemUgICAgICAgc3RyaW5nICAgIHRoZSBhc3NldHMgc2l6ZSwgYnkgZGVmYXVsdCB0d2Vtb2ppLnNpemVcbiAgICpcbiAgICogQHJldHVybiAgdGhlIHN0cmluZyB3aXRoIDxpbWcgdGFncz4gcmVwbGFjaW5nIGFsbCBmb3VuZCBhbmQgcGFyc2VkIGVtb2ppXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVN0cmluZyhzdHIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcmVwbGFjZShzdHIsIGZ1bmN0aW9uIChyYXdUZXh0KSB7XG4gICAgICB2YXJcbiAgICAgICAgcmV0ID0gcmF3VGV4dCxcbiAgICAgICAgaWNvbklkID0gZ3JhYlRoZVJpZ2h0SWNvbihyYXdUZXh0KSxcbiAgICAgICAgc3JjID0gb3B0aW9ucy5jYWxsYmFjayhpY29uSWQsIG9wdGlvbnMpLFxuICAgICAgICBhdHRyaWIsXG4gICAgICAgIGF0dHJuYW1lO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICAvLyByZWN5Y2xlIHRoZSBtYXRjaCBzdHJpbmcgcmVwbGFjaW5nIHRoZSBlbW9qaVxuICAgICAgICAvLyB3aXRoIGl0cyBpbWFnZSBjb3VudGVyIHBhcnRcbiAgICAgICAgcmV0ID0gJzxpbWcgJy5jb25jYXQoXG4gICAgICAgICAgJ2NsYXNzPVwiJywgb3B0aW9ucy5jbGFzc05hbWUsICdcIiAnLFxuICAgICAgICAgICdkcmFnZ2FibGU9XCJmYWxzZVwiICcsXG4gICAgICAgICAgLy8gbmVlZHMgdG8gcHJlc2VydmUgdXNlciBvcmlnaW5hbCBpbnRlbnRcbiAgICAgICAgICAvLyB3aGVuIHZhcmlhbnRzIHNob3VsZCBiZSBjb3BpZWQgYW5kIHBhc3RlZCB0b29cbiAgICAgICAgICAnYWx0PVwiJyxcbiAgICAgICAgICByYXdUZXh0LFxuICAgICAgICAgICdcIicsXG4gICAgICAgICAgJyBzcmM9XCInLFxuICAgICAgICAgIHNyYyxcbiAgICAgICAgICAnXCInXG4gICAgICAgICk7XG4gICAgICAgIGF0dHJpYiA9IG9wdGlvbnMuYXR0cmlidXRlcyhyYXdUZXh0LCBpY29uSWQpO1xuICAgICAgICBmb3IgKGF0dHJuYW1lIGluIGF0dHJpYikge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGF0dHJpYi5oYXNPd25Qcm9wZXJ0eShhdHRybmFtZSkgJiZcbiAgICAgICAgICAgIC8vIGRvbid0IGFsbG93IGFueSBoYW5kbGVycyB0byBiZSBzZXQgKyBkb24ndCBhbGxvdyBvdmVycmlkZXNcbiAgICAgICAgICAgIGF0dHJuYW1lLmluZGV4T2YoJ29uJykgIT09IDAgJiZcbiAgICAgICAgICAgIHJldC5pbmRleE9mKCcgJyArIGF0dHJuYW1lICsgJz0nKSA9PT0gLTFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldCA9IHJldC5jb25jYXQoJyAnLCBhdHRybmFtZSwgJz1cIicsIGVzY2FwZUhUTUwoYXR0cmliW2F0dHJuYW1lXSksICdcIicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXQgPSByZXQuY29uY2F0KCcvPicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB1c2VkIHRvIGFjdHVhbGx5IHJlcGxhY2UgSFRNTCBzcGVjaWFsIGNoYXJzXG4gICAqIEBwYXJhbSAgIHN0cmluZyAgSFRNTCBzcGVjaWFsIGNoYXJcbiAgICogQHJldHVybiAgc3RyaW5nICBlbmNvZGVkIEhUTUwgc3BlY2lhbCBjaGFyXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlcihtKSB7XG4gICAgcmV0dXJuIGVzY2FwZXJbbV07XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBvcHRpb25zLmF0dHJpYnV0ZSBjYWxsYmFja1xuICAgKiBAcmV0dXJuICBudWxsXG4gICAqL1xuICBmdW5jdGlvbiByZXR1cm5OdWxsKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgZ2VuZXJpYyB2YWx1ZSwgY3JlYXRlcyBpdHMgc3F1YXJlZCBjb3VudGVycGFydCBpZiBpdCdzIGEgbnVtYmVyLlxuICAgKiAgQXMgZXhhbXBsZSwgbnVtYmVyIDM2IHdpbGwgcmV0dXJuICczNngzNicuXG4gICAqIEBwYXJhbSAgIGFueSAgICAgYSBnZW5lcmljIHZhbHVlLlxuICAgKiBAcmV0dXJuICBhbnkgICAgIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhc3NldCBzaXplLCBpLmUuIFwiMzZ4MzZcIlxuICAgKiAgICAgICAgICAgICAgICAgIG9ubHkgaW4gY2FzZSB0aGUgdmFsdWUgd2FzIGEgbnVtYmVyLlxuICAgKiAgICAgICAgICAgICAgICAgIFJldHVybnMgaW5pdGlhbCB2YWx1ZSBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiB0b1NpemVTcXVhcmVkQXNzZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/XG4gICAgICB2YWx1ZSArICd4JyArIHZhbHVlIDpcbiAgICAgIHZhbHVlO1xuICB9XG5cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vICBleHBvcnRlZCBmdW5jdGlvbnMgLy9cbiAgLy8gICAgIGRlY2xhcmF0aW9uICAgICAvL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gZnJvbUNvZGVQb2ludChjb2RlcG9pbnQpIHtcbiAgICB2YXIgY29kZSA9IHR5cGVvZiBjb2RlcG9pbnQgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICBwYXJzZUludChjb2RlcG9pbnQsIDE2KSA6IGNvZGVwb2ludDtcbiAgICBpZiAoY29kZSA8IDB4MTAwMDApIHtcbiAgICAgIHJldHVybiBmcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgfVxuICAgIGNvZGUgLT0gMHgxMDAwMDtcbiAgICByZXR1cm4gZnJvbUNoYXJDb2RlKFxuICAgICAgMHhEODAwICsgKGNvZGUgPj4gMTApLFxuICAgICAgMHhEQzAwICsgKGNvZGUgJiAweDNGRilcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2Uod2hhdCwgaG93KSB7XG4gICAgaWYgKCFob3cgfHwgdHlwZW9mIGhvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaG93ID0ge2NhbGxiYWNrOiBob3d9O1xuICAgIH1cbiAgICAvLyBpZiBmaXJzdCBhcmd1bWVudCBpcyBzdHJpbmcsIGluamVjdCBodG1sIDxpbWc+IHRhZ3NcbiAgICAvLyBvdGhlcndpc2UgdXNlIHRoZSBET00gdHJlZSBhbmQgcGFyc2UgdGV4dCBub2RlcyBvbmx5XG4gICAgcmV0dXJuICh0eXBlb2Ygd2hhdCA9PT0gJ3N0cmluZycgPyBwYXJzZVN0cmluZyA6IHBhcnNlTm9kZSkod2hhdCwge1xuICAgICAgY2FsbGJhY2s6ICAgaG93LmNhbGxiYWNrIHx8IGRlZmF1bHRJbWFnZVNyY0dlbmVyYXRvcixcbiAgICAgIGF0dHJpYnV0ZXM6IHR5cGVvZiBob3cuYXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJyA/IGhvdy5hdHRyaWJ1dGVzIDogcmV0dXJuTnVsbCxcbiAgICAgIGJhc2U6ICAgICAgIHR5cGVvZiBob3cuYmFzZSA9PT0gJ3N0cmluZycgPyBob3cuYmFzZSA6IHR3ZW1vamkuYmFzZSxcbiAgICAgIGV4dDogICAgICAgIGhvdy5leHQgfHwgdHdlbW9qaS5leHQsXG4gICAgICBzaXplOiAgICAgICBob3cuZm9sZGVyIHx8IHRvU2l6ZVNxdWFyZWRBc3NldChob3cuc2l6ZSB8fCB0d2Vtb2ppLnNpemUpLFxuICAgICAgY2xhc3NOYW1lOiAgaG93LmNsYXNzTmFtZSB8fCB0d2Vtb2ppLmNsYXNzTmFtZSxcbiAgICAgIG9uZXJyb3I6ICAgIGhvdy5vbmVycm9yIHx8IHR3ZW1vamkub25lcnJvclxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZSh0ZXh0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBTdHJpbmcodGV4dCkucmVwbGFjZShyZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gdGVzdCh0ZXh0KSB7XG4gICAgLy8gSUU2IG5lZWRzIGEgcmVzZXQgYmVmb3JlIHRvb1xuICAgIHJlLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IHJlLnRlc3QodGV4dCk7XG4gICAgcmUubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9Db2RlUG9pbnQodW5pY29kZVN1cnJvZ2F0ZXMsIHNlcCkge1xuICAgIHZhclxuICAgICAgciA9IFtdLFxuICAgICAgYyA9IDAsXG4gICAgICBwID0gMCxcbiAgICAgIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgdW5pY29kZVN1cnJvZ2F0ZXMubGVuZ3RoKSB7XG4gICAgICBjID0gdW5pY29kZVN1cnJvZ2F0ZXMuY2hhckNvZGVBdChpKyspO1xuICAgICAgaWYgKHApIHtcbiAgICAgICAgci5wdXNoKCgweDEwMDAwICsgKChwIC0gMHhEODAwKSA8PCAxMCkgKyAoYyAtIDB4REMwMCkpLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIHAgPSAwO1xuICAgICAgfSBlbHNlIGlmICgweEQ4MDAgPD0gYyAmJiBjIDw9IDB4REJGRikge1xuICAgICAgICBwID0gYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIucHVzaChjLnRvU3RyaW5nKDE2KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByLmpvaW4oc2VwIHx8ICctJyk7XG4gIH1cblxufSgpKTtcbmlmICghbG9jYXRpb24ucHJvdG9jb2wpIHtcbiAgdHdlbW9qaS5iYXNlID0gdHdlbW9qaS5iYXNlLnJlcGxhY2UoL15odHRwOi8sIFwiXCIpO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0d2Vtb2ppO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90d2Vtb2ppLzIvdHdlbW9qaS5ucG0uanNcbi8vIG1vZHVsZSBpZCA9IDg3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///877\n");

/***/ }),

/***/ 878:
/* no static exports found */
/* all exports used */
/*!*********************************************************!*\
  !*** ./src/app/modules/gameloop/canvas/drawingboard.js ***!
  \*********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {/* drawingboard.js v0.4.6 - https://github.com/Leimi/drawingboard.js\n * Copyright (c) 2015 Emmanuel Pelletier\n * Licensed MIT */\n(function () {\n\n  'use strict';\n\n  /**\n   * SimpleUndo is a very basic javascript undo/redo stack for managing histories of basically anything.\n   * \n   * options are: {\n   * \t* `provider` : required. a function to call on `save`, which should provide the current state of the historized object through the given \"done\" callback\n   * \t* `maxLength` : the maximum number of items in history\n   * \t* `opUpdate` : a function to call to notify of changes in history. Will be called on `save`, `undo`, `redo` and `clear`\n   * }\n   * \n   */\n  var SimpleUndo = function (options) {\n\n    var settings = options ? options : {};\n    var defaultOptions = {\n      provider: function () {\n        throw new Error(\"No provider!\");\n      },\n      maxLength: 30,\n      onUpdate: function () { }\n    };\n\n    this.provider = (typeof settings.provider != 'undefined') ? settings.provider : defaultOptions.provider;\n    this.maxLength = (typeof settings.maxLength != 'undefined') ? settings.maxLength : defaultOptions.maxLength;\n    this.onUpdate = (typeof settings.onUpdate != 'undefined') ? settings.onUpdate : defaultOptions.onUpdate;\n\n    this.initialItem = null;\n    this.clear();\n  };\n\n  function truncate(stack, limit) {\n    while (stack.length > limit) {\n      stack.shift();\n    }\n  }\n\n  SimpleUndo.prototype.initialize = function (initialItem) {\n    this.stack[0] = initialItem;\n    this.initialItem = initialItem;\n  };\n\n\n  SimpleUndo.prototype.clear = function () {\n    this.stack = [this.initialItem];\n    this.position = 0;\n    this.onUpdate();\n  };\n\n  SimpleUndo.prototype.save = function () {\n    this.provider(function (current) {\n      truncate(this.stack, this.maxLength);\n      this.position = Math.min(this.position, this.stack.length - 1);\n\n      this.stack = this.stack.slice(0, this.position + 1);\n      this.stack.push(current);\n      this.position++;\n      this.onUpdate();\n    }.bind(this));\n  };\n\n  SimpleUndo.prototype.undo = function (callback) {\n    if (this.canUndo()) {\n      var item = this.stack[--this.position];\n      this.onUpdate();\n\n      if (callback) {\n        callback(item);\n      }\n    }\n  };\n\n  SimpleUndo.prototype.redo = function (callback) {\n    if (this.canRedo()) {\n      var item = this.stack[++this.position];\n      this.onUpdate();\n\n      if (callback) {\n        callback(item);\n      }\n    }\n  };\n\n  // Custom SimpleUndo function to retrieve the current ite\n  SimpleUndo.prototype.getCurrent = function () {\n    var item = this.stack[this.position];\n    return item;\n  }\n\n  SimpleUndo.prototype.canUndo = function () {\n    return this.position > 0;\n  };\n\n  SimpleUndo.prototype.canRedo = function () {\n    return this.position < this.count();\n  };\n\n  SimpleUndo.prototype.count = function () {\n    return this.stack.length - 1; // -1 because of initial item\n  };\n\n  //exports\n  // node module\n  if (true) {\n    // custom change for proper module exports\n    module.exports[\"SimpleUndo\"] = SimpleUndo;\n    //module.exports = SimpleUndo; // original code\n  }\n\n  // browser global\n  if (typeof window != 'undefined') {\n    window.SimpleUndo = SimpleUndo;\n  }\n\n})();\nwindow.DrawingBoard = typeof DrawingBoard !== \"undefined\" ? DrawingBoard : {};\n\n\nDrawingBoard.Utils = {};\n\n/*!\n * Tim (lite)\n *   github.com/premasagar/tim\n */\n/*\n\tA tiny, secure JavaScript micro-templating script.\n*/\nDrawingBoard.Utils.tpl = (function () {\n  \"use strict\";\n\n  var start = \"{{\",\n    end = \"}}\",\n    path = \"[a-z0-9_][\\\\.a-z0-9_]*\", // e.g. config.person.name\n    pattern = new RegExp(start + \"\\\\s*(\" + path + \")\\\\s*\" + end, \"gi\"),\n    undef;\n\n  return function (template, data) {\n    // Merge data into the template string\n    return template.replace(pattern, function (tag, token) {\n      var path = token.split(\".\"),\n        len = path.length,\n        lookup = data,\n        i = 0;\n\n      for (; i < len; i++) {\n        lookup = lookup[path[i]];\n\n        // Property not found\n        if (lookup === undef) {\n          throw \"tim: '\" + path[i] + \"' not found in \" + tag;\n        }\n\n        // Return the required value\n        if (i === len - 1) {\n          return lookup;\n        }\n      }\n    });\n  };\n}());\n\n/**\n * https://github.com/jeromeetienne/microevent.js\n * MicroEvent - to make any js object an event emitter (server or browser)\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * - create a MicroEventDebug with goodies to debug\n *   - make it safer to use\n */\nDrawingBoard.Utils.MicroEvent = function () { };\n\nDrawingBoard.Utils.MicroEvent.prototype = {\n  bind: function (event, fct) {\n    this._events = this._events || {};\n    this._events[event] = this._events[event] || [];\n    this._events[event].push(fct);\n  },\n  unbind: function (event, fct) {\n    this._events = this._events || {};\n    if (event in this._events === false) return;\n    this._events[event].splice(this._events[event].indexOf(fct), 1);\n  },\n  trigger: function (event /* , args... */) {\n    this._events = this._events || {};\n    if (event in this._events === false) return;\n    for (var i = 0; i < this._events[event].length; i++) {\n      this._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  }\n};\n\n//I know.\nDrawingBoard.Utils._boxBorderSize = function ($el, withPadding, withMargin, direction) {\n  withPadding = !!withPadding || true;\n  withMargin = !!withMargin || false;\n  var width = 0,\n    props;\n  if (direction == \"width\") {\n    props = ['border-left-width', 'border-right-width'];\n    if (withPadding) props.push('padding-left', 'padding-right');\n    if (withMargin) props.push('margin-left', 'margin-right');\n  } else {\n    props = ['border-top-width', 'border-bottom-width'];\n    if (withPadding) props.push('padding-top', 'padding-bottom');\n    if (withMargin) props.push('margin-top', 'margin-bottom');\n  }\n  for (var i = props.length - 1; i >= 0; i--)\n    width += parseInt($el.css(props[i]).replace('px', ''), 10);\n  return width;\n};\n\nDrawingBoard.Utils.boxBorderWidth = function ($el, withPadding, withMargin) {\n  return DrawingBoard.Utils._boxBorderSize($el, withPadding, withMargin, 'width');\n};\n\nDrawingBoard.Utils.boxBorderHeight = function ($el, withPadding, withMargin) {\n  return DrawingBoard.Utils._boxBorderSize($el, withPadding, withMargin, 'height');\n};\n\nDrawingBoard.Utils.isColor = function (string) {\n  if (!string || !string.length) return false;\n  return (/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i).test(string) || $.inArray(string.substring(0, 3), ['rgb', 'hsl']) !== -1;\n};\n\n/**\n * Packs an RGB color into a single integer.\n */\nDrawingBoard.Utils.RGBToInt = function (r, g, b) {\n  var c = 0;\n  c |= (r & 255) << 16;\n  c |= (g & 255) << 8;\n  c |= (b & 255);\n  return c;\n};\n\n/**\n * Returns informations on the pixel located at (x,y).\n */\nDrawingBoard.Utils.pixelAt = function (image, x, y) {\n  var i = (y * image.width + x) * 4;\n  var c = DrawingBoard.Utils.RGBToInt(\n    image.data[i],\n    image.data[i + 1],\n    image.data[i + 2]\n  );\n\n  return [\n    i, // INDEX\n    x, // X\n    y, // Y\n    c // COLOR\n  ];\n};\n\n/**\n * Compares two colors with the given tolerance (between 0 and 255).\n */\nDrawingBoard.Utils.compareColors = function (a, b, tolerance) {\n  if (tolerance === 0) {\n    return (a === b);\n  }\n\n  var ra = (a >> 16) & 255,\n    rb = (b >> 16) & 255,\n    ga = (a >> 8) & 255,\n    gb = (b >> 8) & 255,\n    ba = a & 255,\n    bb = b & 255;\n\n  return (Math.abs(ra - rb) <= tolerance) &&\n    (Math.abs(ga - gb) <= tolerance) &&\n    (Math.abs(ba - bb) <= tolerance);\n};\n\n(function () {\n  var lastTime = 0;\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n}());\n\nwindow.DrawingBoard = typeof DrawingBoard !== \"undefined\" ? DrawingBoard : {};\n\n/**\n * This function is used to adust the images size\n * to the canvas to maintain a clean aspect ratio\n * and preserve image quality. - Custom EG 2017\n */\nfunction getImageSize(size, canvasContext) {\n  //console.log('recieved image size to parse...');\n  //console.log(size);\n  var ctx = canvasContext;\n  var isWiderThanContainer = (size.width > ctx.canvas.width);\n  var isTallerThanContainer = (size.height > ctx.canvas.height);\n  var requiresAspectRatio = isWiderThanContainer || isTallerThanContainer;\n\n  if (requiresAspectRatio) {\n    var widthRatio = ctx.canvas.width / size.width;\n    var heightRatio = ctx.canvas.height / size.height;\n\n    var ratio = Math.min(widthRatio, heightRatio);\n\n    return {\n      width: size.width * ratio,\n      height: size.height * ratio\n    };\n  } else {\n    return size;\n  }\n}\n\n/**\n * pass the id of the html element to put the drawing board into\n * and some options : {\n *\tcontrols: array of controls to initialize with the drawingboard. 'Colors', 'Size', and 'Navigation' by default\n *\t\tinstead of simple strings, you can pass an object to define a control opts\n *\t\tie ['Color', { Navigation: { reset: false }}]\n *\tcontrolsPosition: \"top left\" by default. Define where to put the controls: at the \"top\" or \"bottom\" of the canvas, aligned to \"left\"/\"right\"/\"center\"\n *\tbackground: background of the drawing board. Give a hex color or an image url \"#ffffff\" (white) by default\n *\tcolor: pencil color (\"#000000\" by default)\n *\tsize: pencil size (3 by default)\n *\twebStorage: 'session', 'local' or false ('session' by default). store the current drawing in session or local storage and restore it when you come back\n *\tdroppable: true or false (false by default). If true, dropping an image on the canvas will include it and allow you to draw on it,\n *\terrorMessage: html string to put in the board's element on browsers that don't support canvas.\n *\tstretchImg: default behavior of image setting on the canvas: set to the canvas width/height or not? false by default\n * }\n */\nDrawingBoard.Board = function (id, opts) {\n\n  this.opts = this.mergeOptions(opts);\n\n  this.ev = new DrawingBoard.Utils.MicroEvent();\n\n  this.id = id;\n  this.$el = $(document.getElementById(id));\n  if (!this.$el.length)\n    return false;\n\n  var tpl = '<div class=\"drawing-board-canvas-wrapper\"></canvas><canvas id=\"drawing-board-canvas\" class=\"drawing-board-canvas\"></canvas><div class=\"drawing-board-cursor drawing-board-utils-hidden\"></div></div>';\n  if (this.opts.controlsPosition.indexOf(\"bottom\") > -1) tpl += '<div class=\"drawing-board-controls\"></div>';\n  else tpl = '<div class=\"drawing-board-controls\"></div>' + tpl;\n\n  this.$el.addClass('drawing-board').append(tpl);\n  this.dom = {\n    $canvasWrapper: this.$el.find('.drawing-board-canvas-wrapper'),\n    $canvas: this.$el.find('.drawing-board-canvas'),\n    $cursor: this.$el.find('.drawing-board-cursor'),\n    $controls: this.$el.find('.drawing-board-controls')\n  };\n\n  $.each(['left', 'right', 'center'], $.proxy(function (n, val) {\n    if (this.opts.controlsPosition.indexOf(val) > -1) {\n      this.dom.$controls.attr('data-align', val);\n      return false;\n    }\n  }, this));\n\n  this.canvas = this.dom.$canvas.get(0);\n  this.ctx = this.canvas && this.canvas.getContext && this.canvas.getContext('2d') ? this.canvas.getContext('2d') : null;\n  this.color = this.opts.color;\n\n  if (!this.ctx) {\n    if (this.opts.errorMessage)\n      this.$el.html(this.opts.errorMessage);\n    return false;\n  }\n\n  this.storage = this._getStorage();\n\n  this.initHistory();\n  //init default board values before controls are added (mostly pencil color and size)\n  this.reset({\n    webStorage: false,\n    history: false,\n    background: false\n  });\n  //init controls (they will need the default board values to work like pencil color and size)\n  this.initControls();\n  //set board's size after the controls div is added\n  this.resize();\n  //reset the board to take all resized space\n  this.reset({\n    webStorage: false,\n    history: false,\n    background: true\n  });\n\n  this.restoreWebStorage();\n  this.initDropEvents();\n  this.initTouchEvents();\n  this.initDrawEvents();\n};\n\n\n\nDrawingBoard.Board.defaultOpts = {\n  controls: ['Color', 'DrawingMode', 'Size', 'Navigation'],\n  controlsPosition: \"top left\",\n  color: \"#000000\",\n  size: 1,\n  background: \"#fff\",\n  eraserColor: \"background\",\n  fillTolerance: 100,\n  fillHack: true, //try to prevent issues with anti-aliasing with a little hack by default\n  webStorage: 'session',\n  droppable: false,\n  enlargeYourContainer: false,\n  errorMessage: \"<p>It seems you use an obsolete browser. <a href=\\\"http://browsehappy.com/\\\" target=\\\"_blank\\\">Update it</a> to start drawing.</p>\",\n  stretchImg: false //when setting the canvas img, strech the image at the whole canvas size when this opt is true\n};\n\n\n\nDrawingBoard.Board.prototype = {\n\n  mergeOptions: function (opts) {\n    opts = $.extend({}, DrawingBoard.Board.defaultOpts, opts);\n    if (!opts.background && opts.eraserColor === \"background\")\n      opts.eraserColor = \"transparent\";\n    return opts;\n  },\n\n  /**\n   * Canvas reset/resize methods: put back the canvas to its default values\n   *\n   * depending on options, can set color, size, background back to default values\n   * and store the reseted canvas in webstorage and history queue\n   *\n   * resize values depend on the `enlargeYourContainer` option\n   */\n\n  reset: function (opts) {\n    opts = $.extend({\n      color: this.opts.color,\n      size: this.opts.size,\n      webStorage: true,\n      history: true,\n      background: false\n    }, opts);\n\n    this.setMode('pencil');\n\n    if (opts.background) {\n      this.resetBackground(this.opts.background, $.proxy(function () {\n        if (opts.history) this.saveHistory();\n      }, this));\n    }\n\n    if (opts.color) this.setColor(opts.color);\n    if (opts.size) this.ctx.lineWidth = opts.size;\n\n    this.ctx.lineCap = \"round\";\n    this.ctx.lineJoin = \"round\";\n    // this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.width);\n\n    if (opts.webStorage) this.saveWebStorage();\n\n    // if opts.background we already dealt with the history\n    if (opts.history && !opts.background) this.saveHistory();\n\n    this.blankCanvas = this.getImg();\n\n    this.ev.trigger('board:reset', opts);\n  },\n\n  resetBackground: function (background, callback) {\n    background = background || this.opts.background;\n\n    var bgIsColor = DrawingBoard.Utils.isColor(background);\n    var prevMode = this.getMode();\n    this.setMode('pencil');\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    if (bgIsColor) {\n      this.ctx.fillStyle = background;\n      this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n      this.history.initialize(this.getImg());\n      if (callback) callback();\n    } else if (background)\n      this.setImg(background, {\n        callback: $.proxy(function () {\n          this.history.initialize(this.getImg());\n          if (callback) callback();\n        }, this)\n      });\n    this.setMode(prevMode);\n  },\n\n  resize: function () {\n    this.dom.$controls.toggleClass('drawing-board-controls-hidden', (!this.controls || !this.controls.length));\n\n    var canvasWidth, canvasHeight;\n    var widths = [\n      this.$el.width(),\n      DrawingBoard.Utils.boxBorderWidth(this.$el),\n      DrawingBoard.Utils.boxBorderWidth(this.dom.$canvasWrapper, true, true)\n    ];\n    var heights = [\n      this.$el.height(),\n      DrawingBoard.Utils.boxBorderHeight(this.$el),\n      this.dom.$controls.height(),\n      DrawingBoard.Utils.boxBorderHeight(this.dom.$controls, false, true),\n      DrawingBoard.Utils.boxBorderHeight(this.dom.$canvasWrapper, true, true)\n    ];\n    var that = this;\n    var sum = function (values, multiplier) { //make the sum of all array values\n      multiplier = multiplier || 1;\n      var res = values[0];\n      for (var i = 1; i < values.length; i++) {\n        res = res + (values[i] * multiplier);\n      }\n      return res;\n    };\n    var sub = function (values) {\n      return sum(values, -1);\n    }; //substract all array values from the first one\n\n    if (this.opts.enlargeYourContainer) {\n      canvasWidth = this.$el.width();\n      canvasHeight = this.$el.height();\n\n      this.$el.width(sum(widths));\n      this.$el.height(sum(heights));\n    } else {\n      canvasWidth = sub(widths);\n      canvasHeight = sub(heights);\n    }\n\n    this.dom.$canvasWrapper.css('width', canvasWidth + 'px');\n    this.dom.$canvasWrapper.css('height', canvasHeight + 'px');\n\n    this.dom.$canvas.css('width', canvasWidth + 'px');\n    this.dom.$canvas.css('height', canvasHeight + 'px');\n\n    this.canvas.width = canvasWidth;\n    this.canvas.height = canvasHeight;\n  },\n\n\n\n  /**\n   * Controls:\n   * the drawing board can has various UI elements to control it.\n   * one control is represented by a class in the namespace DrawingBoard.Control\n   * it must have a $el property (jQuery object), representing the html element to append on the drawing board at initialization.\n   *\n   */\n\n  initControls: function () {\n    this.controls = [];\n    if (!this.opts.controls.length || !DrawingBoard.Control) return false;\n    for (var i = 0; i < this.opts.controls.length; i++) {\n      var c = null;\n      if (typeof this.opts.controls[i] == \"string\")\n        c = new window['DrawingBoard']['Control'][this.opts.controls[i]](this);\n      else if (typeof this.opts.controls[i] == \"object\") {\n        for (var controlName in this.opts.controls[i]) break;\n        c = new window['DrawingBoard']['Control'][controlName](this, this.opts.controls[i][controlName]);\n      }\n      if (c) {\n        this.addControl(c);\n      }\n    }\n  },\n\n  //add a new control or an existing one at the position you want in the UI\n  //to add a totally new control, you can pass a string with the js class as 1st parameter and control options as 2nd ie \"addControl('Navigation', { reset: false }\"\n  //the last parameter (2nd or 3rd depending on the situation) is always the position you want to place the control at\n  addControl: function (control, optsOrPos, pos) {\n    if (typeof control !== \"string\" && (typeof control !== \"object\" || !control instanceof DrawingBoard.Control))\n      return false;\n\n    var opts = typeof optsOrPos == \"object\" ? optsOrPos : {};\n    pos = pos ? pos * 1 : (typeof optsOrPos == \"number\" ? optsOrPos : null);\n\n    if (typeof control == \"string\")\n      control = new window['DrawingBoard']['Control'][control](this, opts);\n\n    if (pos)\n      this.dom.$controls.children().eq(pos).before(control.$el);\n    else\n      this.dom.$controls.append(control.$el);\n\n    if (!this.controls)\n      this.controls = [];\n    this.controls.push(control);\n    this.dom.$controls.removeClass('drawing-board-controls-hidden');\n  },\n\n\n\n  /**\n   * History methods: undo and redo drawed lines\n   */\n\n  initHistory: function () {\n    this.history = new SimpleUndo({\n      maxLength: 30,\n      provider: $.proxy(function (done) {\n        done(this.getImg());\n      }, this),\n      onUpdate: $.proxy(function () {\n        this.ev.trigger('historyNavigation');\n      }, this)\n    });\n  },\n\n  saveHistory: function () {\n    this.history.save();\n  },\n\n  restoreHistory: function (image) {\n    this.setImg(image, {\n      callback: $.proxy(function () {\n        this.saveWebStorage();\n      }, this)\n    });\n  },\n\n  goBackInHistory: function () {\n    this.history.undo($.proxy(this.restoreHistory, this));\n  },\n\n  goForthInHistory: function () {\n    this.history.redo($.proxy(this.restoreHistory, this));\n  },\n\n  /**\n   * Image methods: you can directly put an image on the canvas, get it in base64 data url or start a download\n   */\n\n  setImg: function (src, opts) {\n\n    /*\n    console.log('printing setImg parameters..:');\n    console.log(src);\n    console.log(opts);\n    console.log(this);\n    */\n\n    opts = $.extend({\n      stretch: this.opts.stretchImg,\n      callback: null\n    }, opts);\n\n    // console.log(this);\n    var ctx = this.ctx;\n    var img = new Image();\n    var oldGCO = ctx.globalCompositeOperation;\n\n    img.onload = function () {\n      ctx.globalCompositeOperation = \"source-over\";\n\n      var coords;\n      var size;\n\n      /*\n      * If the stretch option was selected the coordinates\n      * are always going to be (0, 0) and the width and height \n      * will be that of the canvas\n      */\n      if (opts.stretch) {\n        coords = {\n          x: 0,\n          y: 0\n        };\n        size = {\n          width: ctx.canvas.width,\n          height: ctx.canvas.height\n        };\n      } else {\n        if (opts.size) {\n\n          // adjust image size to keep aspect ratio\n          size = getImageSize(opts.size, ctx);\n\n        } else {\n\n          // adjust image size to keep aspect ratio\n          //console.log('img.naturalWidth: ' + img.naturalWidth +\n          //  ' | img.naturalHeight: ' + img.naturalHeight);\n\n          size = getImageSize({\n            width: img.naturalWidth,\n            height: img.naturalHeight\n          }, ctx);\n\n        }\n\n        if (opts.coordinates) {\n          /**\n           * The coordinates provided by the offsetX and offsetY are correct\n           * however when using the drawImage function on the canvas they will\n           * be used as the starting point (not the center) of the drawn image. \n           * \n           * So to center the image according to the mouse pointer we have to\n           * transform the starting x and y coordindates according to the\n           * the image size. \n           */\n          var horizontalTransform = opts.coordinates.x - (size.width / 2);\n          var vertifcalTransform = opts.coordinates.y - (size.height / 2);\n\n          coords = {\n            x: horizontalTransform,\n            y: vertifcalTransform\n          };\n\n        } else {\n          /**\n           * If there were no coordinates provided this is likely\n           * a setImg function call from the image history \n           * stack, so the coordinates are the root coordinates\n           */\n          coords = {\n            x: 0,\n            y: 0\n          };\n        }\n\n      }\n\n      ctx.drawImage(img, coords.x, coords.y, size.width, size.height);\n\n      ctx.globalCompositeOperation = oldGCO;\n\n      if (opts.callback) {\n        opts.callback();\n      }\n    };\n    img.src = src;\n  },\n\n  getImg: function () {\n    return this.canvas.toDataURL(\"image/png\");\n  },\n\n  downloadImg: function () {\n    var img = this.getImg();\n    img = img.replace(\"image/png\", \"image/octet-stream\");\n    window.location.href = img;\n  },\n\n\n\n  /**\n   * WebStorage handling : save and restore to local or session storage\n   */\n\n  saveWebStorage: function () {\n    //console.log('save storage function called...');\n    //console.log(window[this.storage]);\n    if (window[this.storage]) {\n      window[this.storage].setItem('drawing-board-' + this.id, this.getImg());\n      this.ev.trigger('board:save' + this.storage.charAt(0).toUpperCase() + this.storage.slice(1), this.getImg());\n    }\n  },\n\n  restoreWebStorage: function () {\n    if (window[this.storage] && window[this.storage].getItem('drawing-board-' + this.id) !== null) {\n      this.setImg(window[this.storage].getItem('drawing-board-' + this.id));\n      this.ev.trigger('board:restore' + this.storage.charAt(0).toUpperCase() + this.storage.slice(1), window[this.storage].getItem('drawing-board-' + this.id));\n    }\n  },\n\n  clearWebStorage: function () {\n    if (window[this.storage] && window[this.storage].getItem('drawing-board-' + this.id) !== null) {\n      window[this.storage].removeItem('drawing-board-' + this.id);\n      this.ev.trigger('board:clear' + this.storage.charAt(0).toUpperCase() + this.storage.slice(1));\n    }\n  },\n\n  _getStorage: function () {\n    if (!this.opts.webStorage || !(this.opts.webStorage === 'session' || this.opts.webStorage === 'local')) return false;\n    return this.opts.webStorage + 'Storage';\n  },\n\n  /**\n   * Custom addition to add support for a custom \n   * event named touchdragdrop which provides support\n   * for dropping images on this canvas via touch events\n   */\n  initTouchEvents: function () {\n    //console.log('registering canvas touch event support');\n    this.dom.$canvas.on('touchdragdrop', $.proxy(this._onTouchDragDrop, this));\n  },\n\n  /**\n  * Custom addition to add support for a custom \n  * event named touchdragdrop which provides support\n  * for dropping images on this canvas via touch events\n  *\n  * References:\n  * https://developer.mozilla.org/en-US/docs/Web/Events/touchend\n  * https://developer.mozilla.org/en-US/docs/Web/API/Touch\n  */\n  _onTouchDragDrop: function (e) {\n    //console.log('on canvas touchdragdrop details...');\n\n    // This is necessary because jQuery changes the event data\n    e = e.originalEvent ? e.originalEvent : e; // original code\n\n    \n    var clientRects = e.detail.target.getBoundingClientRect();\n    //console.log('canvas client rect');\n    //console.log(clientRects);\n    \n\n    /* \n     * The coordintes where this image was dragged unto \n     * These coordinates along with the image size will be used \n     * to set the image to the correct location in the canvas\n     */\n    var coords = {\n      x: e.detail.touchEvent.changedTouches[0].pageX - clientRects.left,\n      y: e.detail.touchEvent.changedTouches[0].pageY - clientRects.top\n    }\n    //console.log('touchdragdrop img offset coords: ' + JSON.stringify(coords));\n\n    /*\n    var originalCoords = {\n      x: e.detail.touchEvent.changedTouches[0].pageX,\n      y: e.detail.touchEvent.changedTouches[0].pageY\n    }\n    console.log('touchdragdrop img coords: ' + JSON.stringify(originalCoords));\n    */\n\n    var emoji = e.detail.img;\n\n    // new behavior to account for dragged images\n    var imgSrc = emoji.dataUrl;\n\n    /* \n     * If the image was resize there would be a custom \n     * image size entry added in the dragstart \n     * event handler\n     */\n    var imgSize = emoji.attributes;\n\n    if (imgSrc) {\n\n      var options = {\n        callback: $.proxy(function () {\n          this.saveWebStorage();  // custom addition - original does not save dropped images\n          this.saveHistory();\n        }, this),\n        coordinates: coords,\n        size: emoji.attributes ? emoji.attributes : null\n      };\n\n      var command = $.proxy(function () {\n        this.setImg(imgSrc, options);\n        this.ev.trigger('board:imageDropped', imgSrc);\n        this.ev.trigger('board:userAction');\n      }, this)\n\n      command();\n      return;\n    }\n  },\n\n  /**\n   * Drop an image on the canvas to draw on it\n   */\n  initDropEvents: function () {\n    if (!this.opts.droppable)\n      return false;\n\n    this.dom.$canvas.on('dragover dragenter drop', function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    this.dom.$canvas.on('drop', $.proxy(this._onCanvasDrop, this));\n  },\n\n  _onCanvasDrop: function (e) {\n\n    /*\n    console.log('on canvas drop details...');\n    console.log(e);\n    if (e.originalEvent) {\n      console.log('original event: ');\n      console.log(e.originalEvent);\n    }\n    */\n    \n\n    // This is necessary because jQuery changes the event data\n    e = e.originalEvent ? e.originalEvent : e; // original code\n\n    /*\n    var clientRects = e.srcElement.getBoundingClientRect();\n    console.log('canvas client rect');\n    console.log(clientRects);\n    */\n\n    /* \n     * The coordintes where this image was dragged unto \n     * These coordinates along with the image size will be used \n     * to set the image to the correct location in the canvas\n     * \n     * This is actually a MouseEvent property which DragEvents\n     * use...\n     * \n     * https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/offsetX\n     */\n    var coords = {\n      x: e.offsetX,\n      y: e.offsetY\n    }\n    //console.log('drop event img offset coords: ' + JSON.stringify(coords));\n\n    /*\n    var originalCoords = {\n      x: e.clientX,\n      y: e.clientY\n    }\n    console.log('drop event img coords: ' + JSON.stringify(originalCoords));\n    */\n\n    var emoji = e.dataTransfer.getData('emoji');\n    emoji = JSON.parse(emoji);\n\n    // new behavior to account for dragged images\n    var imgSrc = emoji.dataUrl;\n\n    /* \n     * If the image was resize there would be a custom \n     * image size entry added in the dragstart \n     * event handler\n     */\n    var imgSize = emoji.attributes;\n\n    if (imgSrc) {\n\n      var options = {\n        callback: $.proxy(function () {\n          this.saveWebStorage();  // custom addition - original does not save dropped images\n          this.saveHistory();\n        }, this),\n        coordinates: coords,\n        size: emoji.attributes ? emoji.attributes : null\n      };\n\n      var command = $.proxy(function () {\n        this.setImg(imgSrc, options);\n        this.ev.trigger('board:imageDropped', imgSrc);\n        this.ev.trigger('board:userAction');\n      }, this)\n\n      command();\n      return;\n    }\n\n    // original behavior\n    var files = e.dataTransfer.files;\n    if (!files || !files.length || files[0].type.indexOf('image') == -1 || !window.FileReader)\n      return false;\n\n    var fr = new FileReader();\n    fr.readAsDataURL(files[0]);\n    fr.onload = $.proxy(function (ev) {\n      this.setImg(ev.target.result, {\n        callback: $.proxy(function () {\n          this.saveWebStorage(); // custom addition - original does not save dropped images\n          this.saveHistory();\n        }, this),\n        coordinate: coords\n      });\n      this.ev.trigger('board:imageDropped', ev.target.result);\n      this.ev.trigger('board:userAction');\n    }, this);\n  },\n\n\n\n  /**\n   * set and get current drawing mode\n   *\n   * possible modes are \"pencil\" (draw normally), \"eraser\" (draw transparent, like, erase, you know), \"filler\" (paint can)\n   */\n\n  setMode: function (newMode, silent) {\n    silent = silent || false;\n    newMode = newMode || 'pencil';\n\n    this.ev.unbind('board:startDrawing', $.proxy(this.fill, this));\n\n    if (this.opts.eraserColor === \"transparent\")\n      this.ctx.globalCompositeOperation = newMode === \"eraser\" ? \"destination-out\" : \"source-over\";\n    else {\n      if (newMode === \"eraser\") {\n        if (this.opts.eraserColor === \"background\" && DrawingBoard.Utils.isColor(this.opts.background))\n          this.ctx.strokeStyle = this.opts.background;\n        else if (DrawingBoard.Utils.isColor(this.opts.eraserColor))\n          this.ctx.strokeStyle = this.opts.eraserColor;\n      } else if (!this.mode || this.mode === \"eraser\") {\n        this.ctx.strokeStyle = this.color;\n      }\n\n      if (newMode === \"filler\")\n        this.ev.bind('board:startDrawing', $.proxy(this.fill, this));\n    }\n    this.mode = newMode;\n    if (!silent)\n      this.ev.trigger('board:mode', this.mode);\n  },\n\n  getMode: function () {\n    return this.mode || \"pencil\";\n  },\n\n  setColor: function (color) {\n    var that = this;\n    color = color || this.color;\n    if (!DrawingBoard.Utils.isColor(color))\n      return false;\n    this.color = color;\n    if (this.opts.eraserColor !== \"transparent\" && this.mode === \"eraser\") {\n      var setStrokeStyle = function (mode) {\n        if (mode !== \"eraser\")\n          that.strokeStyle = that.color;\n        that.ev.unbind('board:mode', setStrokeStyle);\n      };\n      this.ev.bind('board:mode', setStrokeStyle);\n    } else\n      this.ctx.strokeStyle = this.color;\n  },\n\n  /**\n   * Fills an area with the current stroke color.\n   */\n  fill: function (e) {\n    if (this.getImg() === this.blankCanvas) {\n      this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n      this.ctx.fillStyle = this.color;\n      this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n      return;\n    }\n\n    var img = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);\n\n    // constants identifying pixels components\n    var INDEX = 0,\n      X = 1,\n      Y = 2,\n      COLOR = 3;\n\n    // target color components\n    var stroke = this.ctx.strokeStyle;\n    var r = parseInt(stroke.substr(1, 2), 16);\n    var g = parseInt(stroke.substr(3, 2), 16);\n    var b = parseInt(stroke.substr(5, 2), 16);\n\n    // starting point\n    var start = DrawingBoard.Utils.pixelAt(img, parseInt(e.coords.x, 10), parseInt(e.coords.y, 10));\n    var startColor = start[COLOR];\n    var tolerance = this.opts.fillTolerance;\n    var useHack = this.opts.fillHack; //see https://github.com/Leimi/drawingboard.js/pull/38\n\n    // no need to continue if starting and target colors are the same\n    if (DrawingBoard.Utils.compareColors(startColor, DrawingBoard.Utils.RGBToInt(r, g, b), tolerance))\n      return;\n\n    // pixels to evaluate\n    var queue = [start];\n\n    // loop vars\n    var pixel, x, y;\n    var maxX = img.width - 1;\n    var maxY = img.height - 1;\n\n    function updatePixelColor(pixel) {\n      img.data[pixel[INDEX]] = r;\n      img.data[pixel[INDEX] + 1] = g;\n      img.data[pixel[INDEX] + 2] = b;\n    }\n\n    while ((pixel = queue.pop())) {\n      if (useHack)\n        updatePixelColor(pixel);\n\n      if (DrawingBoard.Utils.compareColors(pixel[COLOR], startColor, tolerance)) {\n        if (!useHack)\n          updatePixelColor(pixel);\n        if (pixel[X] > 0) // west\n          queue.push(DrawingBoard.Utils.pixelAt(img, pixel[X] - 1, pixel[Y]));\n        if (pixel[X] < maxX) // east\n          queue.push(DrawingBoard.Utils.pixelAt(img, pixel[X] + 1, pixel[Y]));\n        if (pixel[Y] > 0) // north\n          queue.push(DrawingBoard.Utils.pixelAt(img, pixel[X], pixel[Y] - 1));\n        if (pixel[Y] < maxY) // south\n          queue.push(DrawingBoard.Utils.pixelAt(img, pixel[X], pixel[Y] + 1));\n      }\n    }\n\n    this.ctx.putImageData(img, 0, 0);\n  },\n\n\n  /**\n   * Drawing handling, with mouse or touch\n   */\n\n  initDrawEvents: function () {\n    this.isDrawing = false;\n    this.isMouseHovering = false;\n    this.coords = {};\n    this.coords.old = this.coords.current = this.coords.oldMid = {\n      x: 0,\n      y: 0\n    };\n\n    this.dom.$canvas.on('mousedown touchstart', $.proxy(function (e) {\n      this._onInputStart(e, this._getInputCoords(e));\n    }, this));\n\n    this.dom.$canvas.on('mousemove touchmove', $.proxy(function (e) {\n      this._onInputMove(e, this._getInputCoords(e));\n    }, this));\n\n    this.dom.$canvas.on('mousemove', $.proxy(function (e) {\n\n    }, this));\n\n    this.dom.$canvas.on('mouseup touchend', $.proxy(function (e) {\n      this._onInputStop(e, this._getInputCoords(e));\n    }, this));\n\n    this.dom.$canvas.on('mouseover', $.proxy(function (e) {\n      this._onMouseOver(e, this._getInputCoords(e));\n    }, this));\n\n    this.dom.$canvas.on('mouseout', $.proxy(function (e) {\n      this._onMouseOut(e, this._getInputCoords(e));\n\n    }, this));\n\n    $('body').on('mouseup touchend', $.proxy(function (e) {\n      this.isDrawing = false;\n    }, this));\n\n    if (window.requestAnimationFrame) requestAnimationFrame($.proxy(this.draw, this));\n  },\n\n  draw: function () {\n    //if the pencil size is big (>10), the small crosshair makes a friend: a circle of the size of the pencil\n    //todo: have the circle works on every browser - it currently should be added only when CSS pointer-events are supported\n    //we assume that if requestAnimationFrame is supported, pointer-events is too, but this is terribad.\n    if (window.requestAnimationFrame && this.ctx.lineWidth > 10 && this.isMouseHovering) {\n      this.dom.$cursor.css({\n        width: this.ctx.lineWidth + 'px',\n        height: this.ctx.lineWidth + 'px'\n      });\n      var transform = DrawingBoard.Utils.tpl(\"translateX({{x}}px) translateY({{y}}px)\", {\n        x: this.coords.current.x - (this.ctx.lineWidth / 2),\n        y: this.coords.current.y - (this.ctx.lineWidth / 2)\n      });\n      this.dom.$cursor.css({\n        'transform': transform,\n        '-webkit-transform': transform,\n        '-ms-transform': transform\n      });\n      this.dom.$cursor.removeClass('drawing-board-utils-hidden');\n    } else {\n      this.dom.$cursor.addClass('drawing-board-utils-hidden');\n    }\n\n    if (this.isDrawing) {\n      var currentMid = this._getMidInputCoords(this.coords.current);\n      this.ctx.beginPath();\n      this.ctx.moveTo(currentMid.x, currentMid.y);\n      this.ctx.quadraticCurveTo(this.coords.old.x, this.coords.old.y, this.coords.oldMid.x, this.coords.oldMid.y);\n      this.ctx.stroke();\n\n      this.coords.old = this.coords.current;\n      this.coords.oldMid = currentMid;\n    }\n\n    if (window.requestAnimationFrame) requestAnimationFrame($.proxy(function () {\n      this.draw();\n    }, this));\n  },\n\n  _onInputStart: function (e, coords) {\n    this.coords.current = this.coords.old = coords;\n    this.coords.oldMid = this._getMidInputCoords(coords);\n    this.isDrawing = true;\n\n    if (!window.requestAnimationFrame) this.draw();\n\n    this.ev.trigger('board:startDrawing', {\n      e: e,\n      coords: coords\n    });\n    e.stopPropagation();\n    e.preventDefault();\n  },\n\n  _onInputMove: function (e, coords) {\n    this.coords.current = coords;\n    this.ev.trigger('board:drawing', {\n      e: e,\n      coords: coords\n    });\n\n    if (!window.requestAnimationFrame) this.draw();\n\n    e.stopPropagation();\n    e.preventDefault();\n  },\n\n  _onInputStop: function (e, coords) {\n    if (this.isDrawing && (!e.touches || e.touches.length === 0)) {\n      this.isDrawing = false;\n\n      this.saveWebStorage();\n      this.saveHistory();\n\n      this.ev.trigger('board:stopDrawing', {\n        e: e,\n        coords: coords\n      });\n      this.ev.trigger('board:userAction');\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  },\n\n  _onMouseOver: function (e, coords) {\n    this.isMouseHovering = true;\n    this.coords.old = this._getInputCoords(e);\n    this.coords.oldMid = this._getMidInputCoords(this.coords.old);\n\n    this.ev.trigger('board:mouseOver', {\n      e: e,\n      coords: coords\n    });\n  },\n\n  _onMouseOut: function (e, coords) {\n    this.isMouseHovering = false;\n\n    this.ev.trigger('board:mouseOut', {\n      e: e,\n      coords: coords\n    });\n  },\n\n  _getInputCoords: function (e) {\n    e = e.originalEvent ? e.originalEvent : e;\n    var\n      rect = this.canvas.getBoundingClientRect(),\n      width = this.dom.$canvas.width(),\n      height = this.dom.$canvas.height();\n    var x, y;\n    if (e.touches && e.touches.length == 1) {\n      x = e.touches[0].pageX;\n      y = e.touches[0].pageY;\n    } else {\n      x = e.pageX;\n      y = e.pageY;\n    }\n    x = x - this.dom.$canvas.offset().left;\n    y = y - this.dom.$canvas.offset().top;\n    x *= (width / rect.width);\n    y *= (height / rect.height);\n    return {\n      x: x,\n      y: y\n    };\n  },\n\n  _getMidInputCoords: function (coords) {\n    return {\n      x: this.coords.old.x + coords.x >> 1,\n      y: this.coords.old.y + coords.y >> 1\n    };\n  }\n};\n\nDrawingBoard.Control = function (drawingBoard, opts) {\n  this.board = drawingBoard;\n  this.opts = $.extend({}, this.defaults, opts);\n\n  this.$el = $(document.createElement('div')).addClass('drawing-board-control');\n  if (this.name)\n    this.$el.addClass('drawing-board-control-' + this.name);\n\n  this.board.ev.bind('board:reset', $.proxy(this.onBoardReset, this));\n\n  this.initialize.apply(this, arguments);\n  return this;\n};\n\nDrawingBoard.Control.prototype = {\n\n  name: '',\n\n  defaults: {},\n\n  initialize: function () {\n\n  },\n\n  addToBoard: function () {\n    this.board.addControl(this);\n  },\n\n  onBoardReset: function (opts) {\n\n  }\n\n};\n\n//extend directly taken from backbone.js\nDrawingBoard.Control.extend = function (protoProps, staticProps) {\n  var parent = this;\n  var child;\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    child = function () {\n      return parent.apply(this, arguments);\n    };\n  }\n  $.extend(child, parent, staticProps);\n  var Surrogate = function () {\n    this.constructor = child;\n  };\n  Surrogate.prototype = parent.prototype;\n  child.prototype = new Surrogate();\n  if (protoProps) $.extend(child.prototype, protoProps);\n  child.__super__ = parent.prototype;\n  return child;\n};\nDrawingBoard.Control.Color = DrawingBoard.Control.extend({\n  name: 'colors',\n\n  initialize: function () {\n    this.initTemplate();\n\n    var that = this;\n    this.$el.on('click', '.drawing-board-control-colors-picker', function (e) {\n      var color = $(this).attr('data-color');\n      that.board.setColor(color);\n      that.$el.find('.drawing-board-control-colors-current')\n        .css('background-color', color)\n        .attr('data-color', color);\n\n      that.board.ev.trigger('color:changed', color);\n      that.$el.find('.drawing-board-control-colors-rainbows').addClass('drawing-board-utils-hidden');\n\n      e.preventDefault();\n    });\n\n    this.$el.on('click', '.drawing-board-control-colors-current', function (e) {\n      that.$el.find('.drawing-board-control-colors-rainbows').toggleClass('drawing-board-utils-hidden');\n      e.preventDefault();\n    });\n\n    $('body').on('click', function (e) {\n      var $target = $(e.target);\n      var $relatedButton = $target.hasClass('drawing-board-control-colors-current') ? $target : $target.closest('.drawing-board-control-colors-current');\n      var $myButton = that.$el.find('.drawing-board-control-colors-current');\n      var $popup = that.$el.find('.drawing-board-control-colors-rainbows');\n      if ((!$relatedButton.length || $relatedButton.get(0) !== $myButton.get(0)) && !$popup.hasClass('drawing-board-utils-hidden'))\n        $popup.addClass('drawing-board-utils-hidden');\n    });\n  },\n\n  initTemplate: function () {\n    var tpl = '<div class=\"drawing-board-control-inner\">' +\n      '<div class=\"drawing-board-control-colors-current\" style=\"background-color: {{color}}\" data-color=\"{{color}}\"></div>' +\n      '<div class=\"drawing-board-control-colors-rainbows\">{{rainbows}}</div>' +\n      '</div>';\n    var oneColorTpl = '<div class=\"drawing-board-control-colors-picker\" data-color=\"{{color}}\" style=\"background-color: {{color}}\"></div>';\n    var rainbows = '';\n    $.each([0.75, 0.5, 0.25], $.proxy(function (key, val) {\n      var i = 0;\n      var additionalColor = null;\n      rainbows += '<div class=\"drawing-board-control-colors-rainbow\">';\n      if (val == 0.25) additionalColor = this._rgba(0, 0, 0, 1);\n      if (val == 0.5) additionalColor = this._rgba(150, 150, 150, 1);\n      if (val == 0.75) additionalColor = this._rgba(255, 255, 255, 1);\n      rainbows += DrawingBoard.Utils.tpl(oneColorTpl, {\n        color: additionalColor.toString()\n      });\n      while (i <= 330) {\n        rainbows += DrawingBoard.Utils.tpl(oneColorTpl, {\n          color: this._hsl2Rgba(this._hsl(i - 60, 1, val)).toString()\n        });\n        i += 30;\n      }\n      rainbows += '</div>';\n    }, this));\n\n    this.$el.append($(DrawingBoard.Utils.tpl(tpl, {\n      color: this.board.color,\n      rainbows: rainbows\n    })));\n    this.$el.find('.drawing-board-control-colors-rainbows').addClass('drawing-board-utils-hidden');\n  },\n\n  onBoardReset: function (opts) {\n    this.board.setColor(this.$el.find('.drawing-board-control-colors-current').attr('data-color'));\n  },\n\n  _rgba: function (r, g, b, a) {\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a,\n      toString: function () {\n        return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n      }\n    };\n  },\n\n  _hsl: function (h, s, l) {\n    return {\n      h: h,\n      s: s,\n      l: l,\n      toString: function () {\n        return \"hsl(\" + h + \", \" + s * 100 + \"%, \" + l * 100 + \"%)\";\n      }\n    };\n  },\n\n  _hex2Rgba: function (hex) {\n    var num = parseInt(hex.substring(1), 16);\n    return this._rgba(num >> 16, num >> 8 & 255, num & 255, 1);\n  },\n\n  //conversion function (modified a bit) taken from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n  _hsl2Rgba: function (hsl) {\n    var h = hsl.h / 360,\n      s = hsl.s,\n      l = hsl.l,\n      r, g, b;\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    if (s === 0) {\n      r = g = b = l; // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = Math.floor((hue2rgb(p, q, h + 1 / 3)) * 255);\n      g = Math.floor((hue2rgb(p, q, h)) * 255);\n      b = Math.floor((hue2rgb(p, q, h - 1 / 3)) * 255);\n    }\n    return this._rgba(r, g, b, 1);\n  }\n});\nDrawingBoard.Control.DrawingMode = DrawingBoard.Control.extend({\n\n  name: 'drawingmode',\n\n  defaults: {\n    pencil: true,\n    eraser: true,\n    filler: true\n  },\n\n  initialize: function () {\n\n    this.prevMode = this.board.getMode();\n\n    $.each([\"pencil\", \"eraser\", \"filler\"], $.proxy(function (k, value) {\n      if (this.opts[value]) {\n        this.$el.append('<button class=\"drawing-board-control-drawingmode-' + value + '-button\" data-mode=\"' + value + '\"></button>');\n      }\n    }, this));\n\n    this.$el.on('click', 'button[data-mode]', $.proxy(function (e) {\n      var value = $(e.currentTarget).attr('data-mode');\n      var mode = this.board.getMode();\n      if (mode !== value) this.prevMode = mode;\n      var newMode = mode === value ? this.prevMode : value;\n      this.board.setMode(newMode);\n      e.preventDefault();\n    }, this));\n\n    this.board.ev.bind('board:mode', $.proxy(function (mode) {\n      this.toggleButtons(mode);\n    }, this));\n\n    this.toggleButtons(this.board.getMode());\n  },\n\n  toggleButtons: function (mode) {\n    this.$el.find('button[data-mode]').each(function (k, item) {\n      var $item = $(item);\n      $item.toggleClass('active', mode === $item.attr('data-mode'));\n    });\n  }\n\n});\n\nDrawingBoard.Control.Navigation = DrawingBoard.Control.extend({\n\n  name: 'navigation',\n\n  defaults: {\n    back: true,\n    forward: true,\n    reset: true\n  },\n\n  initialize: function () {\n    var el = '';\n    if (this.opts.back) el += '<button class=\"drawing-board-control-navigation-back\">&larr;</button>';\n    if (this.opts.forward) el += '<button class=\"drawing-board-control-navigation-forward\">&rarr;</button>';\n    if (this.opts.reset) el += '<button class=\"drawing-board-control-navigation-reset\">&times;</button>';\n    this.$el.append(el);\n\n    if (this.opts.back) {\n      var $back = this.$el.find('.drawing-board-control-navigation-back');\n      this.board.ev.bind('historyNavigation', $.proxy(this.updateBack, this, $back));\n      this.$el.on('click', '.drawing-board-control-navigation-back', $.proxy(function (e) {\n        this.board.goBackInHistory();\n        e.preventDefault();\n      }, this));\n\n      this.updateBack($back);\n    }\n\n    if (this.opts.forward) {\n      var $forward = this.$el.find('.drawing-board-control-navigation-forward');\n      this.board.ev.bind('historyNavigation', $.proxy(this.updateForward, this, $forward));\n      this.$el.on('click', '.drawing-board-control-navigation-forward', $.proxy(function (e) {\n        this.board.goForthInHistory();\n        e.preventDefault();\n      }, this));\n\n      this.updateForward($forward);\n    }\n\n    if (this.opts.reset) {\n      this.$el.on('click', '.drawing-board-control-navigation-reset', $.proxy(function (e) {\n        this.board.reset({\n          background: true\n        });\n        e.preventDefault();\n      }, this));\n    }\n  },\n\n  updateBack: function ($back) {\n    if (this.board.history.canUndo()) {\n      $back.removeAttr('disabled');\n    } else {\n      $back.attr('disabled', 'disabled');\n    }\n  },\n\n  updateForward: function ($forward) {\n    if (this.board.history.canRedo()) {\n      $forward.removeAttr('disabled');\n    } else {\n      $forward.attr('disabled', 'disabled');\n    }\n  }\n});\nDrawingBoard.Control.Size = DrawingBoard.Control.extend({\n\n  name: 'size',\n\n  defaults: {\n    type: \"auto\",\n    dropdownValues: [1, 3, 6, 10, 20, 30, 40, 50],\n    min: 1,\n    max: 50\n  },\n\n  types: ['dropdown', 'range'],\n\n  initialize: function () {\n    if (this.opts.type == \"auto\")\n      this.opts.type = this._iHasRangeInput() ? 'range' : 'dropdown';\n    var tpl = $.inArray(this.opts.type, this.types) > -1 ? this['_' + this.opts.type + 'Template']() : false;\n    if (!tpl) return false;\n\n    this.val = this.board.opts.size;\n\n    this.$el.append($(tpl));\n    this.$el.attr('data-drawing-board-type', this.opts.type);\n    this.updateView();\n\n    var that = this;\n\n    if (this.opts.type == \"range\") {\n      this.$el.on('change', '.drawing-board-control-size-range-input', function (e) {\n        that.val = $(this).val();\n        that.updateView();\n\n        that.board.ev.trigger('size:changed', that.val);\n\n        e.preventDefault();\n      });\n    }\n\n    if (this.opts.type == \"dropdown\") {\n      this.$el.on('click', '.drawing-board-control-size-dropdown-current', $.proxy(function (e) {\n        this.$el.find('.drawing-board-control-size-dropdown').toggleClass('drawing-board-utils-hidden');\n      }, this));\n\n      this.$el.on('click', '[data-size]', function (e) {\n        that.val = parseInt($(this).attr('data-size'), 0);\n        that.updateView();\n\n        that.board.ev.trigger('size:changed', that.val);\n\n        e.preventDefault();\n      });\n    }\n  },\n\n  _rangeTemplate: function () {\n    var tpl = '<div class=\"drawing-board-control-inner\" title=\"{{size}}\">' +\n      '<input type=\"range\" min=\"{{min}}\" max=\"{{max}}\" value=\"{{size}}\" step=\"1\" class=\"drawing-board-control-size-range-input\">' +\n      '<span class=\"drawing-board-control-size-range-current\"></span>' +\n      '</div>';\n    return DrawingBoard.Utils.tpl(tpl, {\n      min: this.opts.min,\n      max: this.opts.max,\n      size: this.board.opts.size\n    });\n  },\n\n  _dropdownTemplate: function () {\n    var tpl = '<div class=\"drawing-board-control-inner\" title=\"{{size}}\">' +\n      '<div class=\"drawing-board-control-size-dropdown-current\"><span></span></div>' +\n      '<ul class=\"drawing-board-control-size-dropdown\">';\n    $.each(this.opts.dropdownValues, function (i, size) {\n      tpl += DrawingBoard.Utils.tpl(\n        '<li data-size=\"{{size}}\"><span style=\"width: {{size}}px; height: {{size}}px; border-radius: {{size}}px;\"></span></li>', {\n          size: size\n        }\n      );\n    });\n    tpl += '</ul></div>';\n    return tpl;\n  },\n\n  onBoardReset: function (opts) {\n    this.updateView();\n  },\n\n  updateView: function () {\n    var val = this.val;\n    this.board.ctx.lineWidth = val;\n\n    this.$el.find('.drawing-board-control-size-range-current, .drawing-board-control-size-dropdown-current span').css({\n      width: val + 'px',\n      height: val + 'px',\n      borderRadius: val + 'px',\n      marginLeft: -1 * val / 2 + 'px',\n      marginTop: -1 * val / 2 + 'px'\n    });\n\n    this.$el.find('.drawing-board-control-inner').attr('title', val);\n\n    if (this.opts.type == 'dropdown') {\n      var closest = null;\n      $.each(this.opts.dropdownValues, function (i, size) {\n        if (closest === null || Math.abs(size - val) < Math.abs(closest - val))\n          closest = size;\n      });\n      this.$el.find('.drawing-board-control-size-dropdown').addClass('drawing-board-utils-hidden');\n    }\n  },\n\n  _iHasRangeInput: function () {\n    var inputElem = document.createElement('input'),\n      smile = ':)',\n      docElement = document.documentElement,\n      inputElemType = 'range',\n      available;\n    inputElem.setAttribute('type', inputElemType);\n    available = inputElem.type !== 'text';\n    inputElem.value = smile;\n    inputElem.style.cssText = 'position:absolute;visibility:hidden;';\n    if (/^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined) {\n      docElement.appendChild(inputElem);\n      defaultView = document.defaultView;\n      available = defaultView.getComputedStyle &&\n        defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&\n        (inputElem.offsetHeight !== 0);\n      docElement.removeChild(inputElem);\n    }\n    return !!available;\n  }\n});\nDrawingBoard.Control.Download = DrawingBoard.Control.extend({\n\n  name: 'download',\n\n  initialize: function () {\n    this.$el.append('<button class=\"drawing-board-control-download-button\"></button>');\n    this.$el.on('click', '.drawing-board-control-download-button', $.proxy(function (e) {\n      this.board.downloadImg();\n      e.preventDefault();\n    }, this));\n  }\n\n});\n\n//console.log(SimpleUndo);\n\n//exports\n// node module\nif (true) {\n  module.exports[\"SimpleUndo\"] = window.SimpleUndo;\n  module.exports[\"DrawingBoard\"] = window.DrawingBoard;\n\n}\n\n// browser global\nif (typeof window != 'undefined') {\n  window.SimpleUndo = SimpleUndo;\n  window.DrawingBoard = DrawingBoard;\n}\n\n/*\n  //exports\n  // node module\n  if (typeof module != 'undefined') {\n    module.exports = SimpleUndo;\n  }\n\n  // browser global\n  if (typeof window != 'undefined') {\n    window.SimpleUndo = SimpleUndo;\n  }\n  */\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ 161)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc4LmpzIiwic291cmNlcyI6WyJmaWxlOi8vL0c6XFxVc2Vyc1xcRG9udGVcXFByb2plY3RzXFxtaWFibGFuZGluZ1xcZGV2ZW52XFxzcmNcXGFwcFxcbW9kdWxlc1xcZ2FtZWxvb3BcXGNhbnZhc1xcZHJhd2luZ2JvYXJkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGRyYXdpbmdib2FyZC5qcyB2MC40LjYgLSBodHRwczovL2dpdGh1Yi5jb20vTGVpbWkvZHJhd2luZ2JvYXJkLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgRW1tYW51ZWwgUGVsbGV0aWVyXG4gKiBMaWNlbnNlZCBNSVQgKi9cbihmdW5jdGlvbiAoKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBTaW1wbGVVbmRvIGlzIGEgdmVyeSBiYXNpYyBqYXZhc2NyaXB0IHVuZG8vcmVkbyBzdGFjayBmb3IgbWFuYWdpbmcgaGlzdG9yaWVzIG9mIGJhc2ljYWxseSBhbnl0aGluZy5cbiAgICogXG4gICAqIG9wdGlvbnMgYXJlOiB7XG4gICAqIFx0KiBgcHJvdmlkZXJgIDogcmVxdWlyZWQuIGEgZnVuY3Rpb24gdG8gY2FsbCBvbiBgc2F2ZWAsIHdoaWNoIHNob3VsZCBwcm92aWRlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBoaXN0b3JpemVkIG9iamVjdCB0aHJvdWdoIHRoZSBnaXZlbiBcImRvbmVcIiBjYWxsYmFja1xuICAgKiBcdCogYG1heExlbmd0aGAgOiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgaW4gaGlzdG9yeVxuICAgKiBcdCogYG9wVXBkYXRlYCA6IGEgZnVuY3Rpb24gdG8gY2FsbCB0byBub3RpZnkgb2YgY2hhbmdlcyBpbiBoaXN0b3J5LiBXaWxsIGJlIGNhbGxlZCBvbiBgc2F2ZWAsIGB1bmRvYCwgYHJlZG9gIGFuZCBgY2xlYXJgXG4gICAqIH1cbiAgICogXG4gICAqL1xuICB2YXIgU2ltcGxlVW5kbyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICB2YXIgc2V0dGluZ3MgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIHByb3ZpZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIVwiKTtcbiAgICAgIH0sXG4gICAgICBtYXhMZW5ndGg6IDMwLFxuICAgICAgb25VcGRhdGU6IGZ1bmN0aW9uICgpIHsgfVxuICAgIH07XG5cbiAgICB0aGlzLnByb3ZpZGVyID0gKHR5cGVvZiBzZXR0aW5ncy5wcm92aWRlciAhPSAndW5kZWZpbmVkJykgPyBzZXR0aW5ncy5wcm92aWRlciA6IGRlZmF1bHRPcHRpb25zLnByb3ZpZGVyO1xuICAgIHRoaXMubWF4TGVuZ3RoID0gKHR5cGVvZiBzZXR0aW5ncy5tYXhMZW5ndGggIT0gJ3VuZGVmaW5lZCcpID8gc2V0dGluZ3MubWF4TGVuZ3RoIDogZGVmYXVsdE9wdGlvbnMubWF4TGVuZ3RoO1xuICAgIHRoaXMub25VcGRhdGUgPSAodHlwZW9mIHNldHRpbmdzLm9uVXBkYXRlICE9ICd1bmRlZmluZWQnKSA/IHNldHRpbmdzLm9uVXBkYXRlIDogZGVmYXVsdE9wdGlvbnMub25VcGRhdGU7XG5cbiAgICB0aGlzLmluaXRpYWxJdGVtID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdHJ1bmNhdGUoc3RhY2ssIGxpbWl0KSB7XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IGxpbWl0KSB7XG4gICAgICBzdGFjay5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIFNpbXBsZVVuZG8ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoaW5pdGlhbEl0ZW0pIHtcbiAgICB0aGlzLnN0YWNrWzBdID0gaW5pdGlhbEl0ZW07XG4gICAgdGhpcy5pbml0aWFsSXRlbSA9IGluaXRpYWxJdGVtO1xuICB9O1xuXG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zdGFjayA9IFt0aGlzLmluaXRpYWxJdGVtXTtcbiAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICB0aGlzLm9uVXBkYXRlKCk7XG4gIH07XG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnByb3ZpZGVyKGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICB0cnVuY2F0ZSh0aGlzLnN0YWNrLCB0aGlzLm1heExlbmd0aCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gTWF0aC5taW4odGhpcy5wb3NpdGlvbiwgdGhpcy5zdGFjay5sZW5ndGggLSAxKTtcblxuICAgICAgdGhpcy5zdGFjayA9IHRoaXMuc3RhY2suc2xpY2UoMCwgdGhpcy5wb3NpdGlvbiArIDEpO1xuICAgICAgdGhpcy5zdGFjay5wdXNoKGN1cnJlbnQpO1xuICAgICAgdGhpcy5wb3NpdGlvbisrO1xuICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH07XG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmNhblVuZG8oKSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLnN0YWNrWy0tdGhpcy5wb3NpdGlvbl07XG4gICAgICB0aGlzLm9uVXBkYXRlKCk7XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmNhblJlZG8oKSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLnN0YWNrWysrdGhpcy5wb3NpdGlvbl07XG4gICAgICB0aGlzLm9uVXBkYXRlKCk7XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ3VzdG9tIFNpbXBsZVVuZG8gZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgaXRlXG4gIFNpbXBsZVVuZG8ucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLnN0YWNrW3RoaXMucG9zaXRpb25dO1xuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUuY2FuVW5kbyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA+IDA7XG4gIH07XG5cbiAgU2ltcGxlVW5kby5wcm90b3R5cGUuY2FuUmVkbyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA8IHRoaXMuY291bnQoKTtcbiAgfTtcblxuICBTaW1wbGVVbmRvLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5sZW5ndGggLSAxOyAvLyAtMSBiZWNhdXNlIG9mIGluaXRpYWwgaXRlbVxuICB9O1xuXG4gIC8vZXhwb3J0c1xuICAvLyBub2RlIG1vZHVsZVxuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJykge1xuICAgIC8vIGN1c3RvbSBjaGFuZ2UgZm9yIHByb3BlciBtb2R1bGUgZXhwb3J0c1xuICAgIG1vZHVsZS5leHBvcnRzW1wiU2ltcGxlVW5kb1wiXSA9IFNpbXBsZVVuZG87XG4gICAgLy9tb2R1bGUuZXhwb3J0cyA9IFNpbXBsZVVuZG87IC8vIG9yaWdpbmFsIGNvZGVcbiAgfVxuXG4gIC8vIGJyb3dzZXIgZ2xvYmFsXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LlNpbXBsZVVuZG8gPSBTaW1wbGVVbmRvO1xuICB9XG5cbn0pKCk7XG53aW5kb3cuRHJhd2luZ0JvYXJkID0gdHlwZW9mIERyYXdpbmdCb2FyZCAhPT0gXCJ1bmRlZmluZWRcIiA/IERyYXdpbmdCb2FyZCA6IHt9O1xuXG5cbkRyYXdpbmdCb2FyZC5VdGlscyA9IHt9O1xuXG4vKiFcbiAqIFRpbSAobGl0ZSlcbiAqICAgZ2l0aHViLmNvbS9wcmVtYXNhZ2FyL3RpbVxuICovXG4vKlxuXHRBIHRpbnksIHNlY3VyZSBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcgc2NyaXB0LlxuKi9cbkRyYXdpbmdCb2FyZC5VdGlscy50cGwgPSAoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgc3RhcnQgPSBcInt7XCIsXG4gICAgZW5kID0gXCJ9fVwiLFxuICAgIHBhdGggPSBcIlthLXowLTlfXVtcXFxcLmEtejAtOV9dKlwiLCAvLyBlLmcuIGNvbmZpZy5wZXJzb24ubmFtZVxuICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKHN0YXJ0ICsgXCJcXFxccyooXCIgKyBwYXRoICsgXCIpXFxcXHMqXCIgKyBlbmQsIFwiZ2lcIiksXG4gICAgdW5kZWY7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0ZW1wbGF0ZSwgZGF0YSkge1xuICAgIC8vIE1lcmdlIGRhdGEgaW50byB0aGUgdGVtcGxhdGUgc3RyaW5nXG4gICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocGF0dGVybiwgZnVuY3Rpb24gKHRhZywgdG9rZW4pIHtcbiAgICAgIHZhciBwYXRoID0gdG9rZW4uc3BsaXQoXCIuXCIpLFxuICAgICAgICBsZW4gPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgbG9va3VwID0gZGF0YSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbG9va3VwID0gbG9va3VwW3BhdGhbaV1dO1xuXG4gICAgICAgIC8vIFByb3BlcnR5IG5vdCBmb3VuZFxuICAgICAgICBpZiAobG9va3VwID09PSB1bmRlZikge1xuICAgICAgICAgIHRocm93IFwidGltOiAnXCIgKyBwYXRoW2ldICsgXCInIG5vdCBmb3VuZCBpbiBcIiArIHRhZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVxdWlyZWQgdmFsdWVcbiAgICAgICAgaWYgKGkgPT09IGxlbiAtIDEpIHtcbiAgICAgICAgICByZXR1cm4gbG9va3VwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qZXJvbWVldGllbm5lL21pY3JvZXZlbnQuanNcbiAqIE1pY3JvRXZlbnQgLSB0byBtYWtlIGFueSBqcyBvYmplY3QgYW4gZXZlbnQgZW1pdHRlciAoc2VydmVyIG9yIGJyb3dzZXIpXG4gKlxuICogLSBwdXJlIGphdmFzY3JpcHQgLSBzZXJ2ZXIgY29tcGF0aWJsZSwgYnJvd3NlciBjb21wYXRpYmxlXG4gKiAtIGRvbnQgcmVseSBvbiB0aGUgYnJvd3NlciBkb21zXG4gKiAtIHN1cGVyIHNpbXBsZSAtIHlvdSBnZXQgaXQgaW1tZWRpYXRseSwgbm8gbWlzdGVyeSwgbm8gbWFnaWMgaW52b2x2ZWRcbiAqXG4gKiAtIGNyZWF0ZSBhIE1pY3JvRXZlbnREZWJ1ZyB3aXRoIGdvb2RpZXMgdG8gZGVidWdcbiAqICAgLSBtYWtlIGl0IHNhZmVyIHRvIHVzZVxuICovXG5EcmF3aW5nQm9hcmQuVXRpbHMuTWljcm9FdmVudCA9IGZ1bmN0aW9uICgpIHsgfTtcblxuRHJhd2luZ0JvYXJkLlV0aWxzLk1pY3JvRXZlbnQucHJvdG90eXBlID0ge1xuICBiaW5kOiBmdW5jdGlvbiAoZXZlbnQsIGZjdCkge1xuICAgIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgICB0aGlzLl9ldmVudHNbZXZlbnRdID0gdGhpcy5fZXZlbnRzW2V2ZW50XSB8fCBbXTtcbiAgICB0aGlzLl9ldmVudHNbZXZlbnRdLnB1c2goZmN0KTtcbiAgfSxcbiAgdW5iaW5kOiBmdW5jdGlvbiAoZXZlbnQsIGZjdCkge1xuICAgIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgICBpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xuICAgIHRoaXMuX2V2ZW50c1tldmVudF0uc3BsaWNlKHRoaXMuX2V2ZW50c1tldmVudF0uaW5kZXhPZihmY3QpLCAxKTtcbiAgfSxcbiAgdHJpZ2dlcjogZnVuY3Rpb24gKGV2ZW50IC8qICwgYXJncy4uLiAqLykge1xuICAgIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgICBpZiAoZXZlbnQgaW4gdGhpcy5fZXZlbnRzID09PSBmYWxzZSkgcmV0dXJuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZXZlbnRzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fZXZlbnRzW2V2ZW50XVtpXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vSSBrbm93LlxuRHJhd2luZ0JvYXJkLlV0aWxzLl9ib3hCb3JkZXJTaXplID0gZnVuY3Rpb24gKCRlbCwgd2l0aFBhZGRpbmcsIHdpdGhNYXJnaW4sIGRpcmVjdGlvbikge1xuICB3aXRoUGFkZGluZyA9ICEhd2l0aFBhZGRpbmcgfHwgdHJ1ZTtcbiAgd2l0aE1hcmdpbiA9ICEhd2l0aE1hcmdpbiB8fCBmYWxzZTtcbiAgdmFyIHdpZHRoID0gMCxcbiAgICBwcm9wcztcbiAgaWYgKGRpcmVjdGlvbiA9PSBcIndpZHRoXCIpIHtcbiAgICBwcm9wcyA9IFsnYm9yZGVyLWxlZnQtd2lkdGgnLCAnYm9yZGVyLXJpZ2h0LXdpZHRoJ107XG4gICAgaWYgKHdpdGhQYWRkaW5nKSBwcm9wcy5wdXNoKCdwYWRkaW5nLWxlZnQnLCAncGFkZGluZy1yaWdodCcpO1xuICAgIGlmICh3aXRoTWFyZ2luKSBwcm9wcy5wdXNoKCdtYXJnaW4tbGVmdCcsICdtYXJnaW4tcmlnaHQnKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wcyA9IFsnYm9yZGVyLXRvcC13aWR0aCcsICdib3JkZXItYm90dG9tLXdpZHRoJ107XG4gICAgaWYgKHdpdGhQYWRkaW5nKSBwcm9wcy5wdXNoKCdwYWRkaW5nLXRvcCcsICdwYWRkaW5nLWJvdHRvbScpO1xuICAgIGlmICh3aXRoTWFyZ2luKSBwcm9wcy5wdXNoKCdtYXJnaW4tdG9wJywgJ21hcmdpbi1ib3R0b20nKTtcbiAgfVxuICBmb3IgKHZhciBpID0gcHJvcHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgd2lkdGggKz0gcGFyc2VJbnQoJGVsLmNzcyhwcm9wc1tpXSkucmVwbGFjZSgncHgnLCAnJyksIDEwKTtcbiAgcmV0dXJuIHdpZHRoO1xufTtcblxuRHJhd2luZ0JvYXJkLlV0aWxzLmJveEJvcmRlcldpZHRoID0gZnVuY3Rpb24gKCRlbCwgd2l0aFBhZGRpbmcsIHdpdGhNYXJnaW4pIHtcbiAgcmV0dXJuIERyYXdpbmdCb2FyZC5VdGlscy5fYm94Qm9yZGVyU2l6ZSgkZWwsIHdpdGhQYWRkaW5nLCB3aXRoTWFyZ2luLCAnd2lkdGgnKTtcbn07XG5cbkRyYXdpbmdCb2FyZC5VdGlscy5ib3hCb3JkZXJIZWlnaHQgPSBmdW5jdGlvbiAoJGVsLCB3aXRoUGFkZGluZywgd2l0aE1hcmdpbikge1xuICByZXR1cm4gRHJhd2luZ0JvYXJkLlV0aWxzLl9ib3hCb3JkZXJTaXplKCRlbCwgd2l0aFBhZGRpbmcsIHdpdGhNYXJnaW4sICdoZWlnaHQnKTtcbn07XG5cbkRyYXdpbmdCb2FyZC5VdGlscy5pc0NvbG9yID0gZnVuY3Rpb24gKHN0cmluZykge1xuICBpZiAoIXN0cmluZyB8fCAhc3RyaW5nLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKC8oXiNbMC05QS1GXXs2fSQpfCheI1swLTlBLUZdezN9JCkvaSkudGVzdChzdHJpbmcpIHx8ICQuaW5BcnJheShzdHJpbmcuc3Vic3RyaW5nKDAsIDMpLCBbJ3JnYicsICdoc2wnXSkgIT09IC0xO1xufTtcblxuLyoqXG4gKiBQYWNrcyBhbiBSR0IgY29sb3IgaW50byBhIHNpbmdsZSBpbnRlZ2VyLlxuICovXG5EcmF3aW5nQm9hcmQuVXRpbHMuUkdCVG9JbnQgPSBmdW5jdGlvbiAociwgZywgYikge1xuICB2YXIgYyA9IDA7XG4gIGMgfD0gKHIgJiAyNTUpIDw8IDE2O1xuICBjIHw9IChnICYgMjU1KSA8PCA4O1xuICBjIHw9IChiICYgMjU1KTtcbiAgcmV0dXJuIGM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgaW5mb3JtYXRpb25zIG9uIHRoZSBwaXhlbCBsb2NhdGVkIGF0ICh4LHkpLlxuICovXG5EcmF3aW5nQm9hcmQuVXRpbHMucGl4ZWxBdCA9IGZ1bmN0aW9uIChpbWFnZSwgeCwgeSkge1xuICB2YXIgaSA9ICh5ICogaW1hZ2Uud2lkdGggKyB4KSAqIDQ7XG4gIHZhciBjID0gRHJhd2luZ0JvYXJkLlV0aWxzLlJHQlRvSW50KFxuICAgIGltYWdlLmRhdGFbaV0sXG4gICAgaW1hZ2UuZGF0YVtpICsgMV0sXG4gICAgaW1hZ2UuZGF0YVtpICsgMl1cbiAgKTtcblxuICByZXR1cm4gW1xuICAgIGksIC8vIElOREVYXG4gICAgeCwgLy8gWFxuICAgIHksIC8vIFlcbiAgICBjIC8vIENPTE9SXG4gIF07XG59O1xuXG4vKipcbiAqIENvbXBhcmVzIHR3byBjb2xvcnMgd2l0aCB0aGUgZ2l2ZW4gdG9sZXJhbmNlIChiZXR3ZWVuIDAgYW5kIDI1NSkuXG4gKi9cbkRyYXdpbmdCb2FyZC5VdGlscy5jb21wYXJlQ29sb3JzID0gZnVuY3Rpb24gKGEsIGIsIHRvbGVyYW5jZSkge1xuICBpZiAodG9sZXJhbmNlID09PSAwKSB7XG4gICAgcmV0dXJuIChhID09PSBiKTtcbiAgfVxuXG4gIHZhciByYSA9IChhID4+IDE2KSAmIDI1NSxcbiAgICByYiA9IChiID4+IDE2KSAmIDI1NSxcbiAgICBnYSA9IChhID4+IDgpICYgMjU1LFxuICAgIGdiID0gKGIgPj4gOCkgJiAyNTUsXG4gICAgYmEgPSBhICYgMjU1LFxuICAgIGJiID0gYiAmIDI1NTtcblxuICByZXR1cm4gKE1hdGguYWJzKHJhIC0gcmIpIDw9IHRvbGVyYW5jZSkgJiZcbiAgICAoTWF0aC5hYnMoZ2EgLSBnYikgPD0gdG9sZXJhbmNlKSAmJlxuICAgIChNYXRoLmFicyhiYSAtIGJiKSA8PSB0b2xlcmFuY2UpO1xufTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxhc3RUaW1lID0gMDtcbiAgdmFyIHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgfVxufSgpKTtcblxud2luZG93LkRyYXdpbmdCb2FyZCA9IHR5cGVvZiBEcmF3aW5nQm9hcmQgIT09IFwidW5kZWZpbmVkXCIgPyBEcmF3aW5nQm9hcmQgOiB7fTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWR1c3QgdGhlIGltYWdlcyBzaXplXG4gKiB0byB0aGUgY2FudmFzIHRvIG1haW50YWluIGEgY2xlYW4gYXNwZWN0IHJhdGlvXG4gKiBhbmQgcHJlc2VydmUgaW1hZ2UgcXVhbGl0eS4gLSBDdXN0b20gRUcgMjAxN1xuICovXG5mdW5jdGlvbiBnZXRJbWFnZVNpemUoc2l6ZSwgY2FudmFzQ29udGV4dCkge1xuICAvL2NvbnNvbGUubG9nKCdyZWNpZXZlZCBpbWFnZSBzaXplIHRvIHBhcnNlLi4uJyk7XG4gIC8vY29uc29sZS5sb2coc2l6ZSk7XG4gIHZhciBjdHggPSBjYW52YXNDb250ZXh0O1xuICB2YXIgaXNXaWRlclRoYW5Db250YWluZXIgPSAoc2l6ZS53aWR0aCA+IGN0eC5jYW52YXMud2lkdGgpO1xuICB2YXIgaXNUYWxsZXJUaGFuQ29udGFpbmVyID0gKHNpemUuaGVpZ2h0ID4gY3R4LmNhbnZhcy5oZWlnaHQpO1xuICB2YXIgcmVxdWlyZXNBc3BlY3RSYXRpbyA9IGlzV2lkZXJUaGFuQ29udGFpbmVyIHx8IGlzVGFsbGVyVGhhbkNvbnRhaW5lcjtcblxuICBpZiAocmVxdWlyZXNBc3BlY3RSYXRpbykge1xuICAgIHZhciB3aWR0aFJhdGlvID0gY3R4LmNhbnZhcy53aWR0aCAvIHNpemUud2lkdGg7XG4gICAgdmFyIGhlaWdodFJhdGlvID0gY3R4LmNhbnZhcy5oZWlnaHQgLyBzaXplLmhlaWdodDtcblxuICAgIHZhciByYXRpbyA9IE1hdGgubWluKHdpZHRoUmF0aW8sIGhlaWdodFJhdGlvKTtcblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogc2l6ZS53aWR0aCAqIHJhdGlvLFxuICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCAqIHJhdGlvXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2l6ZTtcbiAgfVxufVxuXG4vKipcbiAqIHBhc3MgdGhlIGlkIG9mIHRoZSBodG1sIGVsZW1lbnQgdG8gcHV0IHRoZSBkcmF3aW5nIGJvYXJkIGludG9cbiAqIGFuZCBzb21lIG9wdGlvbnMgOiB7XG4gKlx0Y29udHJvbHM6IGFycmF5IG9mIGNvbnRyb2xzIHRvIGluaXRpYWxpemUgd2l0aCB0aGUgZHJhd2luZ2JvYXJkLiAnQ29sb3JzJywgJ1NpemUnLCBhbmQgJ05hdmlnYXRpb24nIGJ5IGRlZmF1bHRcbiAqXHRcdGluc3RlYWQgb2Ygc2ltcGxlIHN0cmluZ3MsIHlvdSBjYW4gcGFzcyBhbiBvYmplY3QgdG8gZGVmaW5lIGEgY29udHJvbCBvcHRzXG4gKlx0XHRpZSBbJ0NvbG9yJywgeyBOYXZpZ2F0aW9uOiB7IHJlc2V0OiBmYWxzZSB9fV1cbiAqXHRjb250cm9sc1Bvc2l0aW9uOiBcInRvcCBsZWZ0XCIgYnkgZGVmYXVsdC4gRGVmaW5lIHdoZXJlIHRvIHB1dCB0aGUgY29udHJvbHM6IGF0IHRoZSBcInRvcFwiIG9yIFwiYm90dG9tXCIgb2YgdGhlIGNhbnZhcywgYWxpZ25lZCB0byBcImxlZnRcIi9cInJpZ2h0XCIvXCJjZW50ZXJcIlxuICpcdGJhY2tncm91bmQ6IGJhY2tncm91bmQgb2YgdGhlIGRyYXdpbmcgYm9hcmQuIEdpdmUgYSBoZXggY29sb3Igb3IgYW4gaW1hZ2UgdXJsIFwiI2ZmZmZmZlwiICh3aGl0ZSkgYnkgZGVmYXVsdFxuICpcdGNvbG9yOiBwZW5jaWwgY29sb3IgKFwiIzAwMDAwMFwiIGJ5IGRlZmF1bHQpXG4gKlx0c2l6ZTogcGVuY2lsIHNpemUgKDMgYnkgZGVmYXVsdClcbiAqXHR3ZWJTdG9yYWdlOiAnc2Vzc2lvbicsICdsb2NhbCcgb3IgZmFsc2UgKCdzZXNzaW9uJyBieSBkZWZhdWx0KS4gc3RvcmUgdGhlIGN1cnJlbnQgZHJhd2luZyBpbiBzZXNzaW9uIG9yIGxvY2FsIHN0b3JhZ2UgYW5kIHJlc3RvcmUgaXQgd2hlbiB5b3UgY29tZSBiYWNrXG4gKlx0ZHJvcHBhYmxlOiB0cnVlIG9yIGZhbHNlIChmYWxzZSBieSBkZWZhdWx0KS4gSWYgdHJ1ZSwgZHJvcHBpbmcgYW4gaW1hZ2Ugb24gdGhlIGNhbnZhcyB3aWxsIGluY2x1ZGUgaXQgYW5kIGFsbG93IHlvdSB0byBkcmF3IG9uIGl0LFxuICpcdGVycm9yTWVzc2FnZTogaHRtbCBzdHJpbmcgdG8gcHV0IGluIHRoZSBib2FyZCdzIGVsZW1lbnQgb24gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGNhbnZhcy5cbiAqXHRzdHJldGNoSW1nOiBkZWZhdWx0IGJlaGF2aW9yIG9mIGltYWdlIHNldHRpbmcgb24gdGhlIGNhbnZhczogc2V0IHRvIHRoZSBjYW52YXMgd2lkdGgvaGVpZ2h0IG9yIG5vdD8gZmFsc2UgYnkgZGVmYXVsdFxuICogfVxuICovXG5EcmF3aW5nQm9hcmQuQm9hcmQgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcblxuICB0aGlzLm9wdHMgPSB0aGlzLm1lcmdlT3B0aW9ucyhvcHRzKTtcblxuICB0aGlzLmV2ID0gbmV3IERyYXdpbmdCb2FyZC5VdGlscy5NaWNyb0V2ZW50KCk7XG5cbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLiRlbCA9ICQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKTtcbiAgaWYgKCF0aGlzLiRlbC5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciB0cGwgPSAnPGRpdiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY2FudmFzLXdyYXBwZXJcIj48L2NhbnZhcz48Y2FudmFzIGlkPVwiZHJhd2luZy1ib2FyZC1jYW52YXNcIiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY2FudmFzXCI+PC9jYW52YXM+PGRpdiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY3Vyc29yIGRyYXdpbmctYm9hcmQtdXRpbHMtaGlkZGVuXCI+PC9kaXY+PC9kaXY+JztcbiAgaWYgKHRoaXMub3B0cy5jb250cm9sc1Bvc2l0aW9uLmluZGV4T2YoXCJib3R0b21cIikgPiAtMSkgdHBsICs9ICc8ZGl2IGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sc1wiPjwvZGl2Pic7XG4gIGVsc2UgdHBsID0gJzxkaXYgY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2xzXCI+PC9kaXY+JyArIHRwbDtcblxuICB0aGlzLiRlbC5hZGRDbGFzcygnZHJhd2luZy1ib2FyZCcpLmFwcGVuZCh0cGwpO1xuICB0aGlzLmRvbSA9IHtcbiAgICAkY2FudmFzV3JhcHBlcjogdGhpcy4kZWwuZmluZCgnLmRyYXdpbmctYm9hcmQtY2FudmFzLXdyYXBwZXInKSxcbiAgICAkY2FudmFzOiB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jYW52YXMnKSxcbiAgICAkY3Vyc29yOiB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jdXJzb3InKSxcbiAgICAkY29udHJvbHM6IHRoaXMuJGVsLmZpbmQoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2xzJylcbiAgfTtcblxuICAkLmVhY2goWydsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlciddLCAkLnByb3h5KGZ1bmN0aW9uIChuLCB2YWwpIHtcbiAgICBpZiAodGhpcy5vcHRzLmNvbnRyb2xzUG9zaXRpb24uaW5kZXhPZih2YWwpID4gLTEpIHtcbiAgICAgIHRoaXMuZG9tLiRjb250cm9scy5hdHRyKCdkYXRhLWFsaWduJywgdmFsKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHRoaXMpKTtcblxuICB0aGlzLmNhbnZhcyA9IHRoaXMuZG9tLiRjYW52YXMuZ2V0KDApO1xuICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmdldENvbnRleHQgJiYgdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKSA/IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykgOiBudWxsO1xuICB0aGlzLmNvbG9yID0gdGhpcy5vcHRzLmNvbG9yO1xuXG4gIGlmICghdGhpcy5jdHgpIHtcbiAgICBpZiAodGhpcy5vcHRzLmVycm9yTWVzc2FnZSlcbiAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy5vcHRzLmVycm9yTWVzc2FnZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdGhpcy5zdG9yYWdlID0gdGhpcy5fZ2V0U3RvcmFnZSgpO1xuXG4gIHRoaXMuaW5pdEhpc3RvcnkoKTtcbiAgLy9pbml0IGRlZmF1bHQgYm9hcmQgdmFsdWVzIGJlZm9yZSBjb250cm9scyBhcmUgYWRkZWQgKG1vc3RseSBwZW5jaWwgY29sb3IgYW5kIHNpemUpXG4gIHRoaXMucmVzZXQoe1xuICAgIHdlYlN0b3JhZ2U6IGZhbHNlLFxuICAgIGhpc3Rvcnk6IGZhbHNlLFxuICAgIGJhY2tncm91bmQ6IGZhbHNlXG4gIH0pO1xuICAvL2luaXQgY29udHJvbHMgKHRoZXkgd2lsbCBuZWVkIHRoZSBkZWZhdWx0IGJvYXJkIHZhbHVlcyB0byB3b3JrIGxpa2UgcGVuY2lsIGNvbG9yIGFuZCBzaXplKVxuICB0aGlzLmluaXRDb250cm9scygpO1xuICAvL3NldCBib2FyZCdzIHNpemUgYWZ0ZXIgdGhlIGNvbnRyb2xzIGRpdiBpcyBhZGRlZFxuICB0aGlzLnJlc2l6ZSgpO1xuICAvL3Jlc2V0IHRoZSBib2FyZCB0byB0YWtlIGFsbCByZXNpemVkIHNwYWNlXG4gIHRoaXMucmVzZXQoe1xuICAgIHdlYlN0b3JhZ2U6IGZhbHNlLFxuICAgIGhpc3Rvcnk6IGZhbHNlLFxuICAgIGJhY2tncm91bmQ6IHRydWVcbiAgfSk7XG5cbiAgdGhpcy5yZXN0b3JlV2ViU3RvcmFnZSgpO1xuICB0aGlzLmluaXREcm9wRXZlbnRzKCk7XG4gIHRoaXMuaW5pdFRvdWNoRXZlbnRzKCk7XG4gIHRoaXMuaW5pdERyYXdFdmVudHMoKTtcbn07XG5cblxuXG5EcmF3aW5nQm9hcmQuQm9hcmQuZGVmYXVsdE9wdHMgPSB7XG4gIGNvbnRyb2xzOiBbJ0NvbG9yJywgJ0RyYXdpbmdNb2RlJywgJ1NpemUnLCAnTmF2aWdhdGlvbiddLFxuICBjb250cm9sc1Bvc2l0aW9uOiBcInRvcCBsZWZ0XCIsXG4gIGNvbG9yOiBcIiMwMDAwMDBcIixcbiAgc2l6ZTogMSxcbiAgYmFja2dyb3VuZDogXCIjZmZmXCIsXG4gIGVyYXNlckNvbG9yOiBcImJhY2tncm91bmRcIixcbiAgZmlsbFRvbGVyYW5jZTogMTAwLFxuICBmaWxsSGFjazogdHJ1ZSwgLy90cnkgdG8gcHJldmVudCBpc3N1ZXMgd2l0aCBhbnRpLWFsaWFzaW5nIHdpdGggYSBsaXR0bGUgaGFjayBieSBkZWZhdWx0XG4gIHdlYlN0b3JhZ2U6ICdzZXNzaW9uJyxcbiAgZHJvcHBhYmxlOiBmYWxzZSxcbiAgZW5sYXJnZVlvdXJDb250YWluZXI6IGZhbHNlLFxuICBlcnJvck1lc3NhZ2U6IFwiPHA+SXQgc2VlbXMgeW91IHVzZSBhbiBvYnNvbGV0ZSBicm93c2VyLiA8YSBocmVmPVxcXCJodHRwOi8vYnJvd3NlaGFwcHkuY29tL1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlVwZGF0ZSBpdDwvYT4gdG8gc3RhcnQgZHJhd2luZy48L3A+XCIsXG4gIHN0cmV0Y2hJbWc6IGZhbHNlIC8vd2hlbiBzZXR0aW5nIHRoZSBjYW52YXMgaW1nLCBzdHJlY2ggdGhlIGltYWdlIGF0IHRoZSB3aG9sZSBjYW52YXMgc2l6ZSB3aGVuIHRoaXMgb3B0IGlzIHRydWVcbn07XG5cblxuXG5EcmF3aW5nQm9hcmQuQm9hcmQucHJvdG90eXBlID0ge1xuXG4gIG1lcmdlT3B0aW9uczogZnVuY3Rpb24gKG9wdHMpIHtcbiAgICBvcHRzID0gJC5leHRlbmQoe30sIERyYXdpbmdCb2FyZC5Cb2FyZC5kZWZhdWx0T3B0cywgb3B0cyk7XG4gICAgaWYgKCFvcHRzLmJhY2tncm91bmQgJiYgb3B0cy5lcmFzZXJDb2xvciA9PT0gXCJiYWNrZ3JvdW5kXCIpXG4gICAgICBvcHRzLmVyYXNlckNvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgIHJldHVybiBvcHRzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW52YXMgcmVzZXQvcmVzaXplIG1ldGhvZHM6IHB1dCBiYWNrIHRoZSBjYW52YXMgdG8gaXRzIGRlZmF1bHQgdmFsdWVzXG4gICAqXG4gICAqIGRlcGVuZGluZyBvbiBvcHRpb25zLCBjYW4gc2V0IGNvbG9yLCBzaXplLCBiYWNrZ3JvdW5kIGJhY2sgdG8gZGVmYXVsdCB2YWx1ZXNcbiAgICogYW5kIHN0b3JlIHRoZSByZXNldGVkIGNhbnZhcyBpbiB3ZWJzdG9yYWdlIGFuZCBoaXN0b3J5IHF1ZXVlXG4gICAqXG4gICAqIHJlc2l6ZSB2YWx1ZXMgZGVwZW5kIG9uIHRoZSBgZW5sYXJnZVlvdXJDb250YWluZXJgIG9wdGlvblxuICAgKi9cblxuICByZXNldDogZnVuY3Rpb24gKG9wdHMpIHtcbiAgICBvcHRzID0gJC5leHRlbmQoe1xuICAgICAgY29sb3I6IHRoaXMub3B0cy5jb2xvcixcbiAgICAgIHNpemU6IHRoaXMub3B0cy5zaXplLFxuICAgICAgd2ViU3RvcmFnZTogdHJ1ZSxcbiAgICAgIGhpc3Rvcnk6IHRydWUsXG4gICAgICBiYWNrZ3JvdW5kOiBmYWxzZVxuICAgIH0sIG9wdHMpO1xuXG4gICAgdGhpcy5zZXRNb2RlKCdwZW5jaWwnKTtcblxuICAgIGlmIChvcHRzLmJhY2tncm91bmQpIHtcbiAgICAgIHRoaXMucmVzZXRCYWNrZ3JvdW5kKHRoaXMub3B0cy5iYWNrZ3JvdW5kLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdHMuaGlzdG9yeSkgdGhpcy5zYXZlSGlzdG9yeSgpO1xuICAgICAgfSwgdGhpcykpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbG9yKSB0aGlzLnNldENvbG9yKG9wdHMuY29sb3IpO1xuICAgIGlmIChvcHRzLnNpemUpIHRoaXMuY3R4LmxpbmVXaWR0aCA9IG9wdHMuc2l6ZTtcblxuICAgIHRoaXMuY3R4LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgdGhpcy5jdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG4gICAgLy8gdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5jdHguY2FudmFzLndpZHRoKTtcblxuICAgIGlmIChvcHRzLndlYlN0b3JhZ2UpIHRoaXMuc2F2ZVdlYlN0b3JhZ2UoKTtcblxuICAgIC8vIGlmIG9wdHMuYmFja2dyb3VuZCB3ZSBhbHJlYWR5IGRlYWx0IHdpdGggdGhlIGhpc3RvcnlcbiAgICBpZiAob3B0cy5oaXN0b3J5ICYmICFvcHRzLmJhY2tncm91bmQpIHRoaXMuc2F2ZUhpc3RvcnkoKTtcblxuICAgIHRoaXMuYmxhbmtDYW52YXMgPSB0aGlzLmdldEltZygpO1xuXG4gICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDpyZXNldCcsIG9wdHMpO1xuICB9LFxuXG4gIHJlc2V0QmFja2dyb3VuZDogZnVuY3Rpb24gKGJhY2tncm91bmQsIGNhbGxiYWNrKSB7XG4gICAgYmFja2dyb3VuZCA9IGJhY2tncm91bmQgfHwgdGhpcy5vcHRzLmJhY2tncm91bmQ7XG5cbiAgICB2YXIgYmdJc0NvbG9yID0gRHJhd2luZ0JvYXJkLlV0aWxzLmlzQ29sb3IoYmFja2dyb3VuZCk7XG4gICAgdmFyIHByZXZNb2RlID0gdGhpcy5nZXRNb2RlKCk7XG4gICAgdGhpcy5zZXRNb2RlKCdwZW5jaWwnKTtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jdHguY2FudmFzLndpZHRoLCB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICBpZiAoYmdJc0NvbG9yKSB7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kO1xuICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jdHguY2FudmFzLndpZHRoLCB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIHRoaXMuaGlzdG9yeS5pbml0aWFsaXplKHRoaXMuZ2V0SW1nKCkpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSBpZiAoYmFja2dyb3VuZClcbiAgICAgIHRoaXMuc2V0SW1nKGJhY2tncm91bmQsIHtcbiAgICAgICAgY2FsbGJhY2s6ICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuaGlzdG9yeS5pbml0aWFsaXplKHRoaXMuZ2V0SW1nKCkpO1xuICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgICAgfSwgdGhpcylcbiAgICAgIH0pO1xuICAgIHRoaXMuc2V0TW9kZShwcmV2TW9kZSk7XG4gIH0sXG5cbiAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kb20uJGNvbnRyb2xzLnRvZ2dsZUNsYXNzKCdkcmF3aW5nLWJvYXJkLWNvbnRyb2xzLWhpZGRlbicsICghdGhpcy5jb250cm9scyB8fCAhdGhpcy5jb250cm9scy5sZW5ndGgpKTtcblxuICAgIHZhciBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0O1xuICAgIHZhciB3aWR0aHMgPSBbXG4gICAgICB0aGlzLiRlbC53aWR0aCgpLFxuICAgICAgRHJhd2luZ0JvYXJkLlV0aWxzLmJveEJvcmRlcldpZHRoKHRoaXMuJGVsKSxcbiAgICAgIERyYXdpbmdCb2FyZC5VdGlscy5ib3hCb3JkZXJXaWR0aCh0aGlzLmRvbS4kY2FudmFzV3JhcHBlciwgdHJ1ZSwgdHJ1ZSlcbiAgICBdO1xuICAgIHZhciBoZWlnaHRzID0gW1xuICAgICAgdGhpcy4kZWwuaGVpZ2h0KCksXG4gICAgICBEcmF3aW5nQm9hcmQuVXRpbHMuYm94Qm9yZGVySGVpZ2h0KHRoaXMuJGVsKSxcbiAgICAgIHRoaXMuZG9tLiRjb250cm9scy5oZWlnaHQoKSxcbiAgICAgIERyYXdpbmdCb2FyZC5VdGlscy5ib3hCb3JkZXJIZWlnaHQodGhpcy5kb20uJGNvbnRyb2xzLCBmYWxzZSwgdHJ1ZSksXG4gICAgICBEcmF3aW5nQm9hcmQuVXRpbHMuYm94Qm9yZGVySGVpZ2h0KHRoaXMuZG9tLiRjYW52YXNXcmFwcGVyLCB0cnVlLCB0cnVlKVxuICAgIF07XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBzdW0gPSBmdW5jdGlvbiAodmFsdWVzLCBtdWx0aXBsaWVyKSB7IC8vbWFrZSB0aGUgc3VtIG9mIGFsbCBhcnJheSB2YWx1ZXNcbiAgICAgIG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyIHx8IDE7XG4gICAgICB2YXIgcmVzID0gdmFsdWVzWzBdO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzID0gcmVzICsgKHZhbHVlc1tpXSAqIG11bHRpcGxpZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICByZXR1cm4gc3VtKHZhbHVlcywgLTEpO1xuICAgIH07IC8vc3Vic3RyYWN0IGFsbCBhcnJheSB2YWx1ZXMgZnJvbSB0aGUgZmlyc3Qgb25lXG5cbiAgICBpZiAodGhpcy5vcHRzLmVubGFyZ2VZb3VyQ29udGFpbmVyKSB7XG4gICAgICBjYW52YXNXaWR0aCA9IHRoaXMuJGVsLndpZHRoKCk7XG4gICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLiRlbC5oZWlnaHQoKTtcblxuICAgICAgdGhpcy4kZWwud2lkdGgoc3VtKHdpZHRocykpO1xuICAgICAgdGhpcy4kZWwuaGVpZ2h0KHN1bShoZWlnaHRzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbnZhc1dpZHRoID0gc3ViKHdpZHRocyk7XG4gICAgICBjYW52YXNIZWlnaHQgPSBzdWIoaGVpZ2h0cyk7XG4gICAgfVxuXG4gICAgdGhpcy5kb20uJGNhbnZhc1dyYXBwZXIuY3NzKCd3aWR0aCcsIGNhbnZhc1dpZHRoICsgJ3B4Jyk7XG4gICAgdGhpcy5kb20uJGNhbnZhc1dyYXBwZXIuY3NzKCdoZWlnaHQnLCBjYW52YXNIZWlnaHQgKyAncHgnKTtcblxuICAgIHRoaXMuZG9tLiRjYW52YXMuY3NzKCd3aWR0aCcsIGNhbnZhc1dpZHRoICsgJ3B4Jyk7XG4gICAgdGhpcy5kb20uJGNhbnZhcy5jc3MoJ2hlaWdodCcsIGNhbnZhc0hlaWdodCArICdweCcpO1xuXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gIH0sXG5cblxuXG4gIC8qKlxuICAgKiBDb250cm9sczpcbiAgICogdGhlIGRyYXdpbmcgYm9hcmQgY2FuIGhhcyB2YXJpb3VzIFVJIGVsZW1lbnRzIHRvIGNvbnRyb2wgaXQuXG4gICAqIG9uZSBjb250cm9sIGlzIHJlcHJlc2VudGVkIGJ5IGEgY2xhc3MgaW4gdGhlIG5hbWVzcGFjZSBEcmF3aW5nQm9hcmQuQ29udHJvbFxuICAgKiBpdCBtdXN0IGhhdmUgYSAkZWwgcHJvcGVydHkgKGpRdWVyeSBvYmplY3QpLCByZXByZXNlbnRpbmcgdGhlIGh0bWwgZWxlbWVudCB0byBhcHBlbmQgb24gdGhlIGRyYXdpbmcgYm9hcmQgYXQgaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqL1xuXG4gIGluaXRDb250cm9sczogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29udHJvbHMgPSBbXTtcbiAgICBpZiAoIXRoaXMub3B0cy5jb250cm9scy5sZW5ndGggfHwgIURyYXdpbmdCb2FyZC5Db250cm9sKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdHMuY29udHJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLmNvbnRyb2xzW2ldID09IFwic3RyaW5nXCIpXG4gICAgICAgIGMgPSBuZXcgd2luZG93WydEcmF3aW5nQm9hcmQnXVsnQ29udHJvbCddW3RoaXMub3B0cy5jb250cm9sc1tpXV0odGhpcyk7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5vcHRzLmNvbnRyb2xzW2ldID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZm9yICh2YXIgY29udHJvbE5hbWUgaW4gdGhpcy5vcHRzLmNvbnRyb2xzW2ldKSBicmVhaztcbiAgICAgICAgYyA9IG5ldyB3aW5kb3dbJ0RyYXdpbmdCb2FyZCddWydDb250cm9sJ11bY29udHJvbE5hbWVdKHRoaXMsIHRoaXMub3B0cy5jb250cm9sc1tpXVtjb250cm9sTmFtZV0pO1xuICAgICAgfVxuICAgICAgaWYgKGMpIHtcbiAgICAgICAgdGhpcy5hZGRDb250cm9sKGMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvL2FkZCBhIG5ldyBjb250cm9sIG9yIGFuIGV4aXN0aW5nIG9uZSBhdCB0aGUgcG9zaXRpb24geW91IHdhbnQgaW4gdGhlIFVJXG4gIC8vdG8gYWRkIGEgdG90YWxseSBuZXcgY29udHJvbCwgeW91IGNhbiBwYXNzIGEgc3RyaW5nIHdpdGggdGhlIGpzIGNsYXNzIGFzIDFzdCBwYXJhbWV0ZXIgYW5kIGNvbnRyb2wgb3B0aW9ucyBhcyAybmQgaWUgXCJhZGRDb250cm9sKCdOYXZpZ2F0aW9uJywgeyByZXNldDogZmFsc2UgfVwiXG4gIC8vdGhlIGxhc3QgcGFyYW1ldGVyICgybmQgb3IgM3JkIGRlcGVuZGluZyBvbiB0aGUgc2l0dWF0aW9uKSBpcyBhbHdheXMgdGhlIHBvc2l0aW9uIHlvdSB3YW50IHRvIHBsYWNlIHRoZSBjb250cm9sIGF0XG4gIGFkZENvbnRyb2w6IGZ1bmN0aW9uIChjb250cm9sLCBvcHRzT3JQb3MsIHBvcykge1xuICAgIGlmICh0eXBlb2YgY29udHJvbCAhPT0gXCJzdHJpbmdcIiAmJiAodHlwZW9mIGNvbnRyb2wgIT09IFwib2JqZWN0XCIgfHwgIWNvbnRyb2wgaW5zdGFuY2VvZiBEcmF3aW5nQm9hcmQuQ29udHJvbCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgb3B0cyA9IHR5cGVvZiBvcHRzT3JQb3MgPT0gXCJvYmplY3RcIiA/IG9wdHNPclBvcyA6IHt9O1xuICAgIHBvcyA9IHBvcyA/IHBvcyAqIDEgOiAodHlwZW9mIG9wdHNPclBvcyA9PSBcIm51bWJlclwiID8gb3B0c09yUG9zIDogbnVsbCk7XG5cbiAgICBpZiAodHlwZW9mIGNvbnRyb2wgPT0gXCJzdHJpbmdcIilcbiAgICAgIGNvbnRyb2wgPSBuZXcgd2luZG93WydEcmF3aW5nQm9hcmQnXVsnQ29udHJvbCddW2NvbnRyb2xdKHRoaXMsIG9wdHMpO1xuXG4gICAgaWYgKHBvcylcbiAgICAgIHRoaXMuZG9tLiRjb250cm9scy5jaGlsZHJlbigpLmVxKHBvcykuYmVmb3JlKGNvbnRyb2wuJGVsKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmRvbS4kY29udHJvbHMuYXBwZW5kKGNvbnRyb2wuJGVsKTtcblxuICAgIGlmICghdGhpcy5jb250cm9scylcbiAgICAgIHRoaXMuY29udHJvbHMgPSBbXTtcbiAgICB0aGlzLmNvbnRyb2xzLnB1c2goY29udHJvbCk7XG4gICAgdGhpcy5kb20uJGNvbnRyb2xzLnJlbW92ZUNsYXNzKCdkcmF3aW5nLWJvYXJkLWNvbnRyb2xzLWhpZGRlbicpO1xuICB9LFxuXG5cblxuICAvKipcbiAgICogSGlzdG9yeSBtZXRob2RzOiB1bmRvIGFuZCByZWRvIGRyYXdlZCBsaW5lc1xuICAgKi9cblxuICBpbml0SGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlzdG9yeSA9IG5ldyBTaW1wbGVVbmRvKHtcbiAgICAgIG1heExlbmd0aDogMzAsXG4gICAgICBwcm92aWRlcjogJC5wcm94eShmdW5jdGlvbiAoZG9uZSkge1xuICAgICAgICBkb25lKHRoaXMuZ2V0SW1nKCkpO1xuICAgICAgfSwgdGhpcyksXG4gICAgICBvblVwZGF0ZTogJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZXYudHJpZ2dlcignaGlzdG9yeU5hdmlnYXRpb24nKTtcbiAgICAgIH0sIHRoaXMpXG4gICAgfSk7XG4gIH0sXG5cbiAgc2F2ZUhpc3Rvcnk6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhpc3Rvcnkuc2F2ZSgpO1xuICB9LFxuXG4gIHJlc3RvcmVIaXN0b3J5OiBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICB0aGlzLnNldEltZyhpbWFnZSwge1xuICAgICAgY2FsbGJhY2s6ICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdmVXZWJTdG9yYWdlKCk7XG4gICAgICB9LCB0aGlzKVxuICAgIH0pO1xuICB9LFxuXG4gIGdvQmFja0luSGlzdG9yeTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlzdG9yeS51bmRvKCQucHJveHkodGhpcy5yZXN0b3JlSGlzdG9yeSwgdGhpcykpO1xuICB9LFxuXG4gIGdvRm9ydGhJbkhpc3Rvcnk6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhpc3RvcnkucmVkbygkLnByb3h5KHRoaXMucmVzdG9yZUhpc3RvcnksIHRoaXMpKTtcbiAgfSxcblxuICAvKipcbiAgICogSW1hZ2UgbWV0aG9kczogeW91IGNhbiBkaXJlY3RseSBwdXQgYW4gaW1hZ2Ugb24gdGhlIGNhbnZhcywgZ2V0IGl0IGluIGJhc2U2NCBkYXRhIHVybCBvciBzdGFydCBhIGRvd25sb2FkXG4gICAqL1xuXG4gIHNldEltZzogZnVuY3Rpb24gKHNyYywgb3B0cykge1xuXG4gICAgLypcbiAgICBjb25zb2xlLmxvZygncHJpbnRpbmcgc2V0SW1nIHBhcmFtZXRlcnMuLjonKTtcbiAgICBjb25zb2xlLmxvZyhzcmMpO1xuICAgIGNvbnNvbGUubG9nKG9wdHMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICovXG5cbiAgICBvcHRzID0gJC5leHRlbmQoe1xuICAgICAgc3RyZXRjaDogdGhpcy5vcHRzLnN0cmV0Y2hJbWcsXG4gICAgICBjYWxsYmFjazogbnVsbFxuICAgIH0sIG9wdHMpO1xuXG4gICAgLy8gY29uc29sZS5sb2codGhpcyk7XG4gICAgdmFyIGN0eCA9IHRoaXMuY3R4O1xuICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICB2YXIgb2xkR0NPID0gY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjtcblxuICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuXG4gICAgICB2YXIgY29vcmRzO1xuICAgICAgdmFyIHNpemU7XG5cbiAgICAgIC8qXG4gICAgICAqIElmIHRoZSBzdHJldGNoIG9wdGlvbiB3YXMgc2VsZWN0ZWQgdGhlIGNvb3JkaW5hdGVzXG4gICAgICAqIGFyZSBhbHdheXMgZ29pbmcgdG8gYmUgKDAsIDApIGFuZCB0aGUgd2lkdGggYW5kIGhlaWdodCBcbiAgICAgICogd2lsbCBiZSB0aGF0IG9mIHRoZSBjYW52YXNcbiAgICAgICovXG4gICAgICBpZiAob3B0cy5zdHJldGNoKSB7XG4gICAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcbiAgICAgICAgc2l6ZSA9IHtcbiAgICAgICAgICB3aWR0aDogY3R4LmNhbnZhcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGN0eC5jYW52YXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob3B0cy5zaXplKSB7XG5cbiAgICAgICAgICAvLyBhZGp1c3QgaW1hZ2Ugc2l6ZSB0byBrZWVwIGFzcGVjdCByYXRpb1xuICAgICAgICAgIHNpemUgPSBnZXRJbWFnZVNpemUob3B0cy5zaXplLCBjdHgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvLyBhZGp1c3QgaW1hZ2Ugc2l6ZSB0byBrZWVwIGFzcGVjdCByYXRpb1xuICAgICAgICAgIC8vY29uc29sZS5sb2coJ2ltZy5uYXR1cmFsV2lkdGg6ICcgKyBpbWcubmF0dXJhbFdpZHRoICtcbiAgICAgICAgICAvLyAgJyB8IGltZy5uYXR1cmFsSGVpZ2h0OiAnICsgaW1nLm5hdHVyYWxIZWlnaHQpO1xuXG4gICAgICAgICAgc2l6ZSA9IGdldEltYWdlU2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogaW1nLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaW1nLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICB9LCBjdHgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0cy5jb29yZGluYXRlcykge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBjb29yZGluYXRlcyBwcm92aWRlZCBieSB0aGUgb2Zmc2V0WCBhbmQgb2Zmc2V0WSBhcmUgY29ycmVjdFxuICAgICAgICAgICAqIGhvd2V2ZXIgd2hlbiB1c2luZyB0aGUgZHJhd0ltYWdlIGZ1bmN0aW9uIG9uIHRoZSBjYW52YXMgdGhleSB3aWxsXG4gICAgICAgICAgICogYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgKG5vdCB0aGUgY2VudGVyKSBvZiB0aGUgZHJhd24gaW1hZ2UuIFxuICAgICAgICAgICAqIFxuICAgICAgICAgICAqIFNvIHRvIGNlbnRlciB0aGUgaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSBtb3VzZSBwb2ludGVyIHdlIGhhdmUgdG9cbiAgICAgICAgICAgKiB0cmFuc2Zvcm0gdGhlIHN0YXJ0aW5nIHggYW5kIHkgY29vcmRpbmRhdGVzIGFjY29yZGluZyB0byB0aGVcbiAgICAgICAgICAgKiB0aGUgaW1hZ2Ugc2l6ZS4gXG4gICAgICAgICAgICovXG4gICAgICAgICAgdmFyIGhvcml6b250YWxUcmFuc2Zvcm0gPSBvcHRzLmNvb3JkaW5hdGVzLnggLSAoc2l6ZS53aWR0aCAvIDIpO1xuICAgICAgICAgIHZhciB2ZXJ0aWZjYWxUcmFuc2Zvcm0gPSBvcHRzLmNvb3JkaW5hdGVzLnkgLSAoc2l6ZS5oZWlnaHQgLyAyKTtcblxuICAgICAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgICAgIHg6IGhvcml6b250YWxUcmFuc2Zvcm0sXG4gICAgICAgICAgICB5OiB2ZXJ0aWZjYWxUcmFuc2Zvcm1cbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSWYgdGhlcmUgd2VyZSBubyBjb29yZGluYXRlcyBwcm92aWRlZCB0aGlzIGlzIGxpa2VseVxuICAgICAgICAgICAqIGEgc2V0SW1nIGZ1bmN0aW9uIGNhbGwgZnJvbSB0aGUgaW1hZ2UgaGlzdG9yeSBcbiAgICAgICAgICAgKiBzdGFjaywgc28gdGhlIGNvb3JkaW5hdGVzIGFyZSB0aGUgcm9vdCBjb29yZGluYXRlc1xuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBjb29yZHMueCwgY29vcmRzLnksIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcblxuICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IG9sZEdDTztcblxuICAgICAgaWYgKG9wdHMuY2FsbGJhY2spIHtcbiAgICAgICAgb3B0cy5jYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gICAgaW1nLnNyYyA9IHNyYztcbiAgfSxcblxuICBnZXRJbWc6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICB9LFxuXG4gIGRvd25sb2FkSW1nOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGltZyA9IHRoaXMuZ2V0SW1nKCk7XG4gICAgaW1nID0gaW1nLnJlcGxhY2UoXCJpbWFnZS9wbmdcIiwgXCJpbWFnZS9vY3RldC1zdHJlYW1cIik7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBpbWc7XG4gIH0sXG5cblxuXG4gIC8qKlxuICAgKiBXZWJTdG9yYWdlIGhhbmRsaW5nIDogc2F2ZSBhbmQgcmVzdG9yZSB0byBsb2NhbCBvciBzZXNzaW9uIHN0b3JhZ2VcbiAgICovXG5cbiAgc2F2ZVdlYlN0b3JhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdzYXZlIHN0b3JhZ2UgZnVuY3Rpb24gY2FsbGVkLi4uJyk7XG4gICAgLy9jb25zb2xlLmxvZyh3aW5kb3dbdGhpcy5zdG9yYWdlXSk7XG4gICAgaWYgKHdpbmRvd1t0aGlzLnN0b3JhZ2VdKSB7XG4gICAgICB3aW5kb3dbdGhpcy5zdG9yYWdlXS5zZXRJdGVtKCdkcmF3aW5nLWJvYXJkLScgKyB0aGlzLmlkLCB0aGlzLmdldEltZygpKTtcbiAgICAgIHRoaXMuZXYudHJpZ2dlcignYm9hcmQ6c2F2ZScgKyB0aGlzLnN0b3JhZ2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN0b3JhZ2Uuc2xpY2UoMSksIHRoaXMuZ2V0SW1nKCkpO1xuICAgIH1cbiAgfSxcblxuICByZXN0b3JlV2ViU3RvcmFnZTogZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3dbdGhpcy5zdG9yYWdlXSAmJiB3aW5kb3dbdGhpcy5zdG9yYWdlXS5nZXRJdGVtKCdkcmF3aW5nLWJvYXJkLScgKyB0aGlzLmlkKSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRJbWcod2luZG93W3RoaXMuc3RvcmFnZV0uZ2V0SXRlbSgnZHJhd2luZy1ib2FyZC0nICsgdGhpcy5pZCkpO1xuICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDpyZXN0b3JlJyArIHRoaXMuc3RvcmFnZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuc3RvcmFnZS5zbGljZSgxKSwgd2luZG93W3RoaXMuc3RvcmFnZV0uZ2V0SXRlbSgnZHJhd2luZy1ib2FyZC0nICsgdGhpcy5pZCkpO1xuICAgIH1cbiAgfSxcblxuICBjbGVhcldlYlN0b3JhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93W3RoaXMuc3RvcmFnZV0gJiYgd2luZG93W3RoaXMuc3RvcmFnZV0uZ2V0SXRlbSgnZHJhd2luZy1ib2FyZC0nICsgdGhpcy5pZCkgIT09IG51bGwpIHtcbiAgICAgIHdpbmRvd1t0aGlzLnN0b3JhZ2VdLnJlbW92ZUl0ZW0oJ2RyYXdpbmctYm9hcmQtJyArIHRoaXMuaWQpO1xuICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDpjbGVhcicgKyB0aGlzLnN0b3JhZ2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN0b3JhZ2Uuc2xpY2UoMSkpO1xuICAgIH1cbiAgfSxcblxuICBfZ2V0U3RvcmFnZTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5vcHRzLndlYlN0b3JhZ2UgfHwgISh0aGlzLm9wdHMud2ViU3RvcmFnZSA9PT0gJ3Nlc3Npb24nIHx8IHRoaXMub3B0cy53ZWJTdG9yYWdlID09PSAnbG9jYWwnKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLm9wdHMud2ViU3RvcmFnZSArICdTdG9yYWdlJztcbiAgfSxcblxuICAvKipcbiAgICogQ3VzdG9tIGFkZGl0aW9uIHRvIGFkZCBzdXBwb3J0IGZvciBhIGN1c3RvbSBcbiAgICogZXZlbnQgbmFtZWQgdG91Y2hkcmFnZHJvcCB3aGljaCBwcm92aWRlcyBzdXBwb3J0XG4gICAqIGZvciBkcm9wcGluZyBpbWFnZXMgb24gdGhpcyBjYW52YXMgdmlhIHRvdWNoIGV2ZW50c1xuICAgKi9cbiAgaW5pdFRvdWNoRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZygncmVnaXN0ZXJpbmcgY2FudmFzIHRvdWNoIGV2ZW50IHN1cHBvcnQnKTtcbiAgICB0aGlzLmRvbS4kY2FudmFzLm9uKCd0b3VjaGRyYWdkcm9wJywgJC5wcm94eSh0aGlzLl9vblRvdWNoRHJhZ0Ryb3AsIHRoaXMpKTtcbiAgfSxcblxuICAvKipcbiAgKiBDdXN0b20gYWRkaXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yIGEgY3VzdG9tIFxuICAqIGV2ZW50IG5hbWVkIHRvdWNoZHJhZ2Ryb3Agd2hpY2ggcHJvdmlkZXMgc3VwcG9ydFxuICAqIGZvciBkcm9wcGluZyBpbWFnZXMgb24gdGhpcyBjYW52YXMgdmlhIHRvdWNoIGV2ZW50c1xuICAqXG4gICogUmVmZXJlbmNlczpcbiAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdG91Y2hlbmRcbiAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hcbiAgKi9cbiAgX29uVG91Y2hEcmFnRHJvcDogZnVuY3Rpb24gKGUpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdvbiBjYW52YXMgdG91Y2hkcmFnZHJvcCBkZXRhaWxzLi4uJyk7XG5cbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGpRdWVyeSBjaGFuZ2VzIHRoZSBldmVudCBkYXRhXG4gICAgZSA9IGUub3JpZ2luYWxFdmVudCA/IGUub3JpZ2luYWxFdmVudCA6IGU7IC8vIG9yaWdpbmFsIGNvZGVcblxuICAgIFxuICAgIHZhciBjbGllbnRSZWN0cyA9IGUuZGV0YWlsLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvL2NvbnNvbGUubG9nKCdjYW52YXMgY2xpZW50IHJlY3QnKTtcbiAgICAvL2NvbnNvbGUubG9nKGNsaWVudFJlY3RzKTtcbiAgICBcblxuICAgIC8qIFxuICAgICAqIFRoZSBjb29yZGludGVzIHdoZXJlIHRoaXMgaW1hZ2Ugd2FzIGRyYWdnZWQgdW50byBcbiAgICAgKiBUaGVzZSBjb29yZGluYXRlcyBhbG9uZyB3aXRoIHRoZSBpbWFnZSBzaXplIHdpbGwgYmUgdXNlZCBcbiAgICAgKiB0byBzZXQgdGhlIGltYWdlIHRvIHRoZSBjb3JyZWN0IGxvY2F0aW9uIGluIHRoZSBjYW52YXNcbiAgICAgKi9cbiAgICB2YXIgY29vcmRzID0ge1xuICAgICAgeDogZS5kZXRhaWwudG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIGNsaWVudFJlY3RzLmxlZnQsXG4gICAgICB5OiBlLmRldGFpbC50b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gY2xpZW50UmVjdHMudG9wXG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coJ3RvdWNoZHJhZ2Ryb3AgaW1nIG9mZnNldCBjb29yZHM6ICcgKyBKU09OLnN0cmluZ2lmeShjb29yZHMpKTtcblxuICAgIC8qXG4gICAgdmFyIG9yaWdpbmFsQ29vcmRzID0ge1xuICAgICAgeDogZS5kZXRhaWwudG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCxcbiAgICAgIHk6IGUuZGV0YWlsLnRvdWNoRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVlcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ3RvdWNoZHJhZ2Ryb3AgaW1nIGNvb3JkczogJyArIEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsQ29vcmRzKSk7XG4gICAgKi9cblxuICAgIHZhciBlbW9qaSA9IGUuZGV0YWlsLmltZztcblxuICAgIC8vIG5ldyBiZWhhdmlvciB0byBhY2NvdW50IGZvciBkcmFnZ2VkIGltYWdlc1xuICAgIHZhciBpbWdTcmMgPSBlbW9qaS5kYXRhVXJsO1xuXG4gICAgLyogXG4gICAgICogSWYgdGhlIGltYWdlIHdhcyByZXNpemUgdGhlcmUgd291bGQgYmUgYSBjdXN0b20gXG4gICAgICogaW1hZ2Ugc2l6ZSBlbnRyeSBhZGRlZCBpbiB0aGUgZHJhZ3N0YXJ0IFxuICAgICAqIGV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICB2YXIgaW1nU2l6ZSA9IGVtb2ppLmF0dHJpYnV0ZXM7XG5cbiAgICBpZiAoaW1nU3JjKSB7XG5cbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBjYWxsYmFjazogJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5zYXZlV2ViU3RvcmFnZSgpOyAgLy8gY3VzdG9tIGFkZGl0aW9uIC0gb3JpZ2luYWwgZG9lcyBub3Qgc2F2ZSBkcm9wcGVkIGltYWdlc1xuICAgICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkoKTtcbiAgICAgICAgfSwgdGhpcyksXG4gICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHMsXG4gICAgICAgIHNpemU6IGVtb2ppLmF0dHJpYnV0ZXMgPyBlbW9qaS5hdHRyaWJ1dGVzIDogbnVsbFxuICAgICAgfTtcblxuICAgICAgdmFyIGNvbW1hbmQgPSAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRJbWcoaW1nU3JjLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDppbWFnZURyb3BwZWQnLCBpbWdTcmMpO1xuICAgICAgICB0aGlzLmV2LnRyaWdnZXIoJ2JvYXJkOnVzZXJBY3Rpb24nKTtcbiAgICAgIH0sIHRoaXMpXG5cbiAgICAgIGNvbW1hbmQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERyb3AgYW4gaW1hZ2Ugb24gdGhlIGNhbnZhcyB0byBkcmF3IG9uIGl0XG4gICAqL1xuICBpbml0RHJvcEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5vcHRzLmRyb3BwYWJsZSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHRoaXMuZG9tLiRjYW52YXMub24oJ2RyYWdvdmVyIGRyYWdlbnRlciBkcm9wJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRvbS4kY2FudmFzLm9uKCdkcm9wJywgJC5wcm94eSh0aGlzLl9vbkNhbnZhc0Ryb3AsIHRoaXMpKTtcbiAgfSxcblxuICBfb25DYW52YXNEcm9wOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgLypcbiAgICBjb25zb2xlLmxvZygnb24gY2FudmFzIGRyb3AgZGV0YWlscy4uLicpO1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdvcmlnaW5hbCBldmVudDogJyk7XG4gICAgICBjb25zb2xlLmxvZyhlLm9yaWdpbmFsRXZlbnQpO1xuICAgIH1cbiAgICAqL1xuICAgIFxuXG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBqUXVlcnkgY2hhbmdlcyB0aGUgZXZlbnQgZGF0YVxuICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQgPyBlLm9yaWdpbmFsRXZlbnQgOiBlOyAvLyBvcmlnaW5hbCBjb2RlXG5cbiAgICAvKlxuICAgIHZhciBjbGllbnRSZWN0cyA9IGUuc3JjRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGNsaWVudCByZWN0Jyk7XG4gICAgY29uc29sZS5sb2coY2xpZW50UmVjdHMpO1xuICAgICovXG5cbiAgICAvKiBcbiAgICAgKiBUaGUgY29vcmRpbnRlcyB3aGVyZSB0aGlzIGltYWdlIHdhcyBkcmFnZ2VkIHVudG8gXG4gICAgICogVGhlc2UgY29vcmRpbmF0ZXMgYWxvbmcgd2l0aCB0aGUgaW1hZ2Ugc2l6ZSB3aWxsIGJlIHVzZWQgXG4gICAgICogdG8gc2V0IHRoZSBpbWFnZSB0byB0aGUgY29ycmVjdCBsb2NhdGlvbiBpbiB0aGUgY2FudmFzXG4gICAgICogXG4gICAgICogVGhpcyBpcyBhY3R1YWxseSBhIE1vdXNlRXZlbnQgcHJvcGVydHkgd2hpY2ggRHJhZ0V2ZW50c1xuICAgICAqIHVzZS4uLlxuICAgICAqIFxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L29mZnNldFhcbiAgICAgKi9cbiAgICB2YXIgY29vcmRzID0ge1xuICAgICAgeDogZS5vZmZzZXRYLFxuICAgICAgeTogZS5vZmZzZXRZXG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coJ2Ryb3AgZXZlbnQgaW1nIG9mZnNldCBjb29yZHM6ICcgKyBKU09OLnN0cmluZ2lmeShjb29yZHMpKTtcblxuICAgIC8qXG4gICAgdmFyIG9yaWdpbmFsQ29vcmRzID0ge1xuICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgeTogZS5jbGllbnRZXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdkcm9wIGV2ZW50IGltZyBjb29yZHM6ICcgKyBKU09OLnN0cmluZ2lmeShvcmlnaW5hbENvb3JkcykpO1xuICAgICovXG5cbiAgICB2YXIgZW1vamkgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdlbW9qaScpO1xuICAgIGVtb2ppID0gSlNPTi5wYXJzZShlbW9qaSk7XG5cbiAgICAvLyBuZXcgYmVoYXZpb3IgdG8gYWNjb3VudCBmb3IgZHJhZ2dlZCBpbWFnZXNcbiAgICB2YXIgaW1nU3JjID0gZW1vamkuZGF0YVVybDtcblxuICAgIC8qIFxuICAgICAqIElmIHRoZSBpbWFnZSB3YXMgcmVzaXplIHRoZXJlIHdvdWxkIGJlIGEgY3VzdG9tIFxuICAgICAqIGltYWdlIHNpemUgZW50cnkgYWRkZWQgaW4gdGhlIGRyYWdzdGFydCBcbiAgICAgKiBldmVudCBoYW5kbGVyXG4gICAgICovXG4gICAgdmFyIGltZ1NpemUgPSBlbW9qaS5hdHRyaWJ1dGVzO1xuXG4gICAgaWYgKGltZ1NyYykge1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgY2FsbGJhY2s6ICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuc2F2ZVdlYlN0b3JhZ2UoKTsgIC8vIGN1c3RvbSBhZGRpdGlvbiAtIG9yaWdpbmFsIGRvZXMgbm90IHNhdmUgZHJvcHBlZCBpbWFnZXNcbiAgICAgICAgICB0aGlzLnNhdmVIaXN0b3J5KCk7XG4gICAgICAgIH0sIHRoaXMpLFxuICAgICAgICBjb29yZGluYXRlczogY29vcmRzLFxuICAgICAgICBzaXplOiBlbW9qaS5hdHRyaWJ1dGVzID8gZW1vamkuYXR0cmlidXRlcyA6IG51bGxcbiAgICAgIH07XG5cbiAgICAgIHZhciBjb21tYW5kID0gJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0SW1nKGltZ1NyYywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZXYudHJpZ2dlcignYm9hcmQ6aW1hZ2VEcm9wcGVkJywgaW1nU3JjKTtcbiAgICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDp1c2VyQWN0aW9uJyk7XG4gICAgICB9LCB0aGlzKVxuXG4gICAgICBjb21tYW5kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gb3JpZ2luYWwgYmVoYXZpb3JcbiAgICB2YXIgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBpZiAoIWZpbGVzIHx8ICFmaWxlcy5sZW5ndGggfHwgZmlsZXNbMF0udHlwZS5pbmRleE9mKCdpbWFnZScpID09IC0xIHx8ICF3aW5kb3cuRmlsZVJlYWRlcilcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZnIucmVhZEFzRGF0YVVSTChmaWxlc1swXSk7XG4gICAgZnIub25sb2FkID0gJC5wcm94eShmdW5jdGlvbiAoZXYpIHtcbiAgICAgIHRoaXMuc2V0SW1nKGV2LnRhcmdldC5yZXN1bHQsIHtcbiAgICAgICAgY2FsbGJhY2s6ICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuc2F2ZVdlYlN0b3JhZ2UoKTsgLy8gY3VzdG9tIGFkZGl0aW9uIC0gb3JpZ2luYWwgZG9lcyBub3Qgc2F2ZSBkcm9wcGVkIGltYWdlc1xuICAgICAgICAgIHRoaXMuc2F2ZUhpc3RvcnkoKTtcbiAgICAgICAgfSwgdGhpcyksXG4gICAgICAgIGNvb3JkaW5hdGU6IGNvb3Jkc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmV2LnRyaWdnZXIoJ2JvYXJkOmltYWdlRHJvcHBlZCcsIGV2LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDp1c2VyQWN0aW9uJyk7XG4gICAgfSwgdGhpcyk7XG4gIH0sXG5cblxuXG4gIC8qKlxuICAgKiBzZXQgYW5kIGdldCBjdXJyZW50IGRyYXdpbmcgbW9kZVxuICAgKlxuICAgKiBwb3NzaWJsZSBtb2RlcyBhcmUgXCJwZW5jaWxcIiAoZHJhdyBub3JtYWxseSksIFwiZXJhc2VyXCIgKGRyYXcgdHJhbnNwYXJlbnQsIGxpa2UsIGVyYXNlLCB5b3Uga25vdyksIFwiZmlsbGVyXCIgKHBhaW50IGNhbilcbiAgICovXG5cbiAgc2V0TW9kZTogZnVuY3Rpb24gKG5ld01vZGUsIHNpbGVudCkge1xuICAgIHNpbGVudCA9IHNpbGVudCB8fCBmYWxzZTtcbiAgICBuZXdNb2RlID0gbmV3TW9kZSB8fCAncGVuY2lsJztcblxuICAgIHRoaXMuZXYudW5iaW5kKCdib2FyZDpzdGFydERyYXdpbmcnLCAkLnByb3h5KHRoaXMuZmlsbCwgdGhpcykpO1xuXG4gICAgaWYgKHRoaXMub3B0cy5lcmFzZXJDb2xvciA9PT0gXCJ0cmFuc3BhcmVudFwiKVxuICAgICAgdGhpcy5jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gbmV3TW9kZSA9PT0gXCJlcmFzZXJcIiA/IFwiZGVzdGluYXRpb24tb3V0XCIgOiBcInNvdXJjZS1vdmVyXCI7XG4gICAgZWxzZSB7XG4gICAgICBpZiAobmV3TW9kZSA9PT0gXCJlcmFzZXJcIikge1xuICAgICAgICBpZiAodGhpcy5vcHRzLmVyYXNlckNvbG9yID09PSBcImJhY2tncm91bmRcIiAmJiBEcmF3aW5nQm9hcmQuVXRpbHMuaXNDb2xvcih0aGlzLm9wdHMuYmFja2dyb3VuZCkpXG4gICAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLm9wdHMuYmFja2dyb3VuZDtcbiAgICAgICAgZWxzZSBpZiAoRHJhd2luZ0JvYXJkLlV0aWxzLmlzQ29sb3IodGhpcy5vcHRzLmVyYXNlckNvbG9yKSlcbiAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMub3B0cy5lcmFzZXJDb2xvcjtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMubW9kZSB8fCB0aGlzLm1vZGUgPT09IFwiZXJhc2VyXCIpIHtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3TW9kZSA9PT0gXCJmaWxsZXJcIilcbiAgICAgICAgdGhpcy5ldi5iaW5kKCdib2FyZDpzdGFydERyYXdpbmcnLCAkLnByb3h5KHRoaXMuZmlsbCwgdGhpcykpO1xuICAgIH1cbiAgICB0aGlzLm1vZGUgPSBuZXdNb2RlO1xuICAgIGlmICghc2lsZW50KVxuICAgICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDptb2RlJywgdGhpcy5tb2RlKTtcbiAgfSxcblxuICBnZXRNb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZSB8fCBcInBlbmNpbFwiO1xuICB9LFxuXG4gIHNldENvbG9yOiBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgY29sb3IgPSBjb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgIGlmICghRHJhd2luZ0JvYXJkLlV0aWxzLmlzQ29sb3IoY29sb3IpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICBpZiAodGhpcy5vcHRzLmVyYXNlckNvbG9yICE9PSBcInRyYW5zcGFyZW50XCIgJiYgdGhpcy5tb2RlID09PSBcImVyYXNlclwiKSB7XG4gICAgICB2YXIgc2V0U3Ryb2tlU3R5bGUgPSBmdW5jdGlvbiAobW9kZSkge1xuICAgICAgICBpZiAobW9kZSAhPT0gXCJlcmFzZXJcIilcbiAgICAgICAgICB0aGF0LnN0cm9rZVN0eWxlID0gdGhhdC5jb2xvcjtcbiAgICAgICAgdGhhdC5ldi51bmJpbmQoJ2JvYXJkOm1vZGUnLCBzZXRTdHJva2VTdHlsZSk7XG4gICAgICB9O1xuICAgICAgdGhpcy5ldi5iaW5kKCdib2FyZDptb2RlJywgc2V0U3Ryb2tlU3R5bGUpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaWxscyBhbiBhcmVhIHdpdGggdGhlIGN1cnJlbnQgc3Ryb2tlIGNvbG9yLlxuICAgKi9cbiAgZmlsbDogZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAodGhpcy5nZXRJbWcoKSA9PT0gdGhpcy5ibGFua0NhbnZhcykge1xuICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3R4LmNhbnZhcy53aWR0aCwgdGhpcy5jdHguY2FudmFzLmhlaWdodCk7XG4gICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jdHguY2FudmFzLndpZHRoLCB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaW1nID0gdGhpcy5jdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgLy8gY29uc3RhbnRzIGlkZW50aWZ5aW5nIHBpeGVscyBjb21wb25lbnRzXG4gICAgdmFyIElOREVYID0gMCxcbiAgICAgIFggPSAxLFxuICAgICAgWSA9IDIsXG4gICAgICBDT0xPUiA9IDM7XG5cbiAgICAvLyB0YXJnZXQgY29sb3IgY29tcG9uZW50c1xuICAgIHZhciBzdHJva2UgPSB0aGlzLmN0eC5zdHJva2VTdHlsZTtcbiAgICB2YXIgciA9IHBhcnNlSW50KHN0cm9rZS5zdWJzdHIoMSwgMiksIDE2KTtcbiAgICB2YXIgZyA9IHBhcnNlSW50KHN0cm9rZS5zdWJzdHIoMywgMiksIDE2KTtcbiAgICB2YXIgYiA9IHBhcnNlSW50KHN0cm9rZS5zdWJzdHIoNSwgMiksIDE2KTtcblxuICAgIC8vIHN0YXJ0aW5nIHBvaW50XG4gICAgdmFyIHN0YXJ0ID0gRHJhd2luZ0JvYXJkLlV0aWxzLnBpeGVsQXQoaW1nLCBwYXJzZUludChlLmNvb3Jkcy54LCAxMCksIHBhcnNlSW50KGUuY29vcmRzLnksIDEwKSk7XG4gICAgdmFyIHN0YXJ0Q29sb3IgPSBzdGFydFtDT0xPUl07XG4gICAgdmFyIHRvbGVyYW5jZSA9IHRoaXMub3B0cy5maWxsVG9sZXJhbmNlO1xuICAgIHZhciB1c2VIYWNrID0gdGhpcy5vcHRzLmZpbGxIYWNrOyAvL3NlZSBodHRwczovL2dpdGh1Yi5jb20vTGVpbWkvZHJhd2luZ2JvYXJkLmpzL3B1bGwvMzhcblxuICAgIC8vIG5vIG5lZWQgdG8gY29udGludWUgaWYgc3RhcnRpbmcgYW5kIHRhcmdldCBjb2xvcnMgYXJlIHRoZSBzYW1lXG4gICAgaWYgKERyYXdpbmdCb2FyZC5VdGlscy5jb21wYXJlQ29sb3JzKHN0YXJ0Q29sb3IsIERyYXdpbmdCb2FyZC5VdGlscy5SR0JUb0ludChyLCBnLCBiKSwgdG9sZXJhbmNlKSlcbiAgICAgIHJldHVybjtcblxuICAgIC8vIHBpeGVscyB0byBldmFsdWF0ZVxuICAgIHZhciBxdWV1ZSA9IFtzdGFydF07XG5cbiAgICAvLyBsb29wIHZhcnNcbiAgICB2YXIgcGl4ZWwsIHgsIHk7XG4gICAgdmFyIG1heFggPSBpbWcud2lkdGggLSAxO1xuICAgIHZhciBtYXhZID0gaW1nLmhlaWdodCAtIDE7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQaXhlbENvbG9yKHBpeGVsKSB7XG4gICAgICBpbWcuZGF0YVtwaXhlbFtJTkRFWF1dID0gcjtcbiAgICAgIGltZy5kYXRhW3BpeGVsW0lOREVYXSArIDFdID0gZztcbiAgICAgIGltZy5kYXRhW3BpeGVsW0lOREVYXSArIDJdID0gYjtcbiAgICB9XG5cbiAgICB3aGlsZSAoKHBpeGVsID0gcXVldWUucG9wKCkpKSB7XG4gICAgICBpZiAodXNlSGFjaylcbiAgICAgICAgdXBkYXRlUGl4ZWxDb2xvcihwaXhlbCk7XG5cbiAgICAgIGlmIChEcmF3aW5nQm9hcmQuVXRpbHMuY29tcGFyZUNvbG9ycyhwaXhlbFtDT0xPUl0sIHN0YXJ0Q29sb3IsIHRvbGVyYW5jZSkpIHtcbiAgICAgICAgaWYgKCF1c2VIYWNrKVxuICAgICAgICAgIHVwZGF0ZVBpeGVsQ29sb3IocGl4ZWwpO1xuICAgICAgICBpZiAocGl4ZWxbWF0gPiAwKSAvLyB3ZXN0XG4gICAgICAgICAgcXVldWUucHVzaChEcmF3aW5nQm9hcmQuVXRpbHMucGl4ZWxBdChpbWcsIHBpeGVsW1hdIC0gMSwgcGl4ZWxbWV0pKTtcbiAgICAgICAgaWYgKHBpeGVsW1hdIDwgbWF4WCkgLy8gZWFzdFxuICAgICAgICAgIHF1ZXVlLnB1c2goRHJhd2luZ0JvYXJkLlV0aWxzLnBpeGVsQXQoaW1nLCBwaXhlbFtYXSArIDEsIHBpeGVsW1ldKSk7XG4gICAgICAgIGlmIChwaXhlbFtZXSA+IDApIC8vIG5vcnRoXG4gICAgICAgICAgcXVldWUucHVzaChEcmF3aW5nQm9hcmQuVXRpbHMucGl4ZWxBdChpbWcsIHBpeGVsW1hdLCBwaXhlbFtZXSAtIDEpKTtcbiAgICAgICAgaWYgKHBpeGVsW1ldIDwgbWF4WSkgLy8gc291dGhcbiAgICAgICAgICBxdWV1ZS5wdXNoKERyYXdpbmdCb2FyZC5VdGlscy5waXhlbEF0KGltZywgcGl4ZWxbWF0sIHBpeGVsW1ldICsgMSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3R4LnB1dEltYWdlRGF0YShpbWcsIDAsIDApO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIERyYXdpbmcgaGFuZGxpbmcsIHdpdGggbW91c2Ugb3IgdG91Y2hcbiAgICovXG5cbiAgaW5pdERyYXdFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzRHJhd2luZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNNb3VzZUhvdmVyaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jb29yZHMgPSB7fTtcbiAgICB0aGlzLmNvb3Jkcy5vbGQgPSB0aGlzLmNvb3Jkcy5jdXJyZW50ID0gdGhpcy5jb29yZHMub2xkTWlkID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuXG4gICAgdGhpcy5kb20uJGNhbnZhcy5vbignbW91c2Vkb3duIHRvdWNoc3RhcnQnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9vbklucHV0U3RhcnQoZSwgdGhpcy5fZ2V0SW5wdXRDb29yZHMoZSkpO1xuICAgIH0sIHRoaXMpKTtcblxuICAgIHRoaXMuZG9tLiRjYW52YXMub24oJ21vdXNlbW92ZSB0b3VjaG1vdmUnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9vbklucHV0TW92ZShlLCB0aGlzLl9nZXRJbnB1dENvb3JkcyhlKSk7XG4gICAgfSwgdGhpcykpO1xuXG4gICAgdGhpcy5kb20uJGNhbnZhcy5vbignbW91c2Vtb3ZlJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuXG4gICAgfSwgdGhpcykpO1xuXG4gICAgdGhpcy5kb20uJGNhbnZhcy5vbignbW91c2V1cCB0b3VjaGVuZCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX29uSW5wdXRTdG9wKGUsIHRoaXMuX2dldElucHV0Q29vcmRzKGUpKTtcbiAgICB9LCB0aGlzKSk7XG5cbiAgICB0aGlzLmRvbS4kY2FudmFzLm9uKCdtb3VzZW92ZXInLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9vbk1vdXNlT3ZlcihlLCB0aGlzLl9nZXRJbnB1dENvb3JkcyhlKSk7XG4gICAgfSwgdGhpcykpO1xuXG4gICAgdGhpcy5kb20uJGNhbnZhcy5vbignbW91c2VvdXQnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9vbk1vdXNlT3V0KGUsIHRoaXMuX2dldElucHV0Q29vcmRzKGUpKTtcblxuICAgIH0sIHRoaXMpKTtcblxuICAgICQoJ2JvZHknKS5vbignbW91c2V1cCB0b3VjaGVuZCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuaXNEcmF3aW5nID0gZmFsc2U7XG4gICAgfSwgdGhpcykpO1xuXG4gICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHJlcXVlc3RBbmltYXRpb25GcmFtZSgkLnByb3h5KHRoaXMuZHJhdywgdGhpcykpO1xuICB9LFxuXG4gIGRyYXc6IGZ1bmN0aW9uICgpIHtcbiAgICAvL2lmIHRoZSBwZW5jaWwgc2l6ZSBpcyBiaWcgKD4xMCksIHRoZSBzbWFsbCBjcm9zc2hhaXIgbWFrZXMgYSBmcmllbmQ6IGEgY2lyY2xlIG9mIHRoZSBzaXplIG9mIHRoZSBwZW5jaWxcbiAgICAvL3RvZG86IGhhdmUgdGhlIGNpcmNsZSB3b3JrcyBvbiBldmVyeSBicm93c2VyIC0gaXQgY3VycmVudGx5IHNob3VsZCBiZSBhZGRlZCBvbmx5IHdoZW4gQ1NTIHBvaW50ZXItZXZlbnRzIGFyZSBzdXBwb3J0ZWRcbiAgICAvL3dlIGFzc3VtZSB0aGF0IGlmIHJlcXVlc3RBbmltYXRpb25GcmFtZSBpcyBzdXBwb3J0ZWQsIHBvaW50ZXItZXZlbnRzIGlzIHRvbywgYnV0IHRoaXMgaXMgdGVycmliYWQuXG4gICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgdGhpcy5jdHgubGluZVdpZHRoID4gMTAgJiYgdGhpcy5pc01vdXNlSG92ZXJpbmcpIHtcbiAgICAgIHRoaXMuZG9tLiRjdXJzb3IuY3NzKHtcbiAgICAgICAgd2lkdGg6IHRoaXMuY3R4LmxpbmVXaWR0aCArICdweCcsXG4gICAgICAgIGhlaWdodDogdGhpcy5jdHgubGluZVdpZHRoICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gRHJhd2luZ0JvYXJkLlV0aWxzLnRwbChcInRyYW5zbGF0ZVgoe3t4fX1weCkgdHJhbnNsYXRlWSh7e3l9fXB4KVwiLCB7XG4gICAgICAgIHg6IHRoaXMuY29vcmRzLmN1cnJlbnQueCAtICh0aGlzLmN0eC5saW5lV2lkdGggLyAyKSxcbiAgICAgICAgeTogdGhpcy5jb29yZHMuY3VycmVudC55IC0gKHRoaXMuY3R4LmxpbmVXaWR0aCAvIDIpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZG9tLiRjdXJzb3IuY3NzKHtcbiAgICAgICAgJ3RyYW5zZm9ybSc6IHRyYW5zZm9ybSxcbiAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogdHJhbnNmb3JtLFxuICAgICAgICAnLW1zLXRyYW5zZm9ybSc6IHRyYW5zZm9ybVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRvbS4kY3Vyc29yLnJlbW92ZUNsYXNzKCdkcmF3aW5nLWJvYXJkLXV0aWxzLWhpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvbS4kY3Vyc29yLmFkZENsYXNzKCdkcmF3aW5nLWJvYXJkLXV0aWxzLWhpZGRlbicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRHJhd2luZykge1xuICAgICAgdmFyIGN1cnJlbnRNaWQgPSB0aGlzLl9nZXRNaWRJbnB1dENvb3Jkcyh0aGlzLmNvb3Jkcy5jdXJyZW50KTtcbiAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgdGhpcy5jdHgubW92ZVRvKGN1cnJlbnRNaWQueCwgY3VycmVudE1pZC55KTtcbiAgICAgIHRoaXMuY3R4LnF1YWRyYXRpY0N1cnZlVG8odGhpcy5jb29yZHMub2xkLngsIHRoaXMuY29vcmRzLm9sZC55LCB0aGlzLmNvb3Jkcy5vbGRNaWQueCwgdGhpcy5jb29yZHMub2xkTWlkLnkpO1xuICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG5cbiAgICAgIHRoaXMuY29vcmRzLm9sZCA9IHRoaXMuY29vcmRzLmN1cnJlbnQ7XG4gICAgICB0aGlzLmNvb3Jkcy5vbGRNaWQgPSBjdXJyZW50TWlkO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9LCB0aGlzKSk7XG4gIH0sXG5cbiAgX29uSW5wdXRTdGFydDogZnVuY3Rpb24gKGUsIGNvb3Jkcykge1xuICAgIHRoaXMuY29vcmRzLmN1cnJlbnQgPSB0aGlzLmNvb3Jkcy5vbGQgPSBjb29yZHM7XG4gICAgdGhpcy5jb29yZHMub2xkTWlkID0gdGhpcy5fZ2V0TWlkSW5wdXRDb29yZHMoY29vcmRzKTtcbiAgICB0aGlzLmlzRHJhd2luZyA9IHRydWU7XG5cbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHRoaXMuZHJhdygpO1xuXG4gICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDpzdGFydERyYXdpbmcnLCB7XG4gICAgICBlOiBlLFxuICAgICAgY29vcmRzOiBjb29yZHNcbiAgICB9KTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSxcblxuICBfb25JbnB1dE1vdmU6IGZ1bmN0aW9uIChlLCBjb29yZHMpIHtcbiAgICB0aGlzLmNvb3Jkcy5jdXJyZW50ID0gY29vcmRzO1xuICAgIHRoaXMuZXYudHJpZ2dlcignYm9hcmQ6ZHJhd2luZycsIHtcbiAgICAgIGU6IGUsXG4gICAgICBjb29yZHM6IGNvb3Jkc1xuICAgIH0pO1xuXG4gICAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB0aGlzLmRyYXcoKTtcblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LFxuXG4gIF9vbklucHV0U3RvcDogZnVuY3Rpb24gKGUsIGNvb3Jkcykge1xuICAgIGlmICh0aGlzLmlzRHJhd2luZyAmJiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoID09PSAwKSkge1xuICAgICAgdGhpcy5pc0RyYXdpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5zYXZlV2ViU3RvcmFnZSgpO1xuICAgICAgdGhpcy5zYXZlSGlzdG9yeSgpO1xuXG4gICAgICB0aGlzLmV2LnRyaWdnZXIoJ2JvYXJkOnN0b3BEcmF3aW5nJywge1xuICAgICAgICBlOiBlLFxuICAgICAgICBjb29yZHM6IGNvb3Jkc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmV2LnRyaWdnZXIoJ2JvYXJkOnVzZXJBY3Rpb24nKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuXG4gIF9vbk1vdXNlT3ZlcjogZnVuY3Rpb24gKGUsIGNvb3Jkcykge1xuICAgIHRoaXMuaXNNb3VzZUhvdmVyaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNvb3Jkcy5vbGQgPSB0aGlzLl9nZXRJbnB1dENvb3JkcyhlKTtcbiAgICB0aGlzLmNvb3Jkcy5vbGRNaWQgPSB0aGlzLl9nZXRNaWRJbnB1dENvb3Jkcyh0aGlzLmNvb3Jkcy5vbGQpO1xuXG4gICAgdGhpcy5ldi50cmlnZ2VyKCdib2FyZDptb3VzZU92ZXInLCB7XG4gICAgICBlOiBlLFxuICAgICAgY29vcmRzOiBjb29yZHNcbiAgICB9KTtcbiAgfSxcblxuICBfb25Nb3VzZU91dDogZnVuY3Rpb24gKGUsIGNvb3Jkcykge1xuICAgIHRoaXMuaXNNb3VzZUhvdmVyaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmV2LnRyaWdnZXIoJ2JvYXJkOm1vdXNlT3V0Jywge1xuICAgICAgZTogZSxcbiAgICAgIGNvb3JkczogY29vcmRzXG4gICAgfSk7XG4gIH0sXG5cbiAgX2dldElucHV0Q29vcmRzOiBmdW5jdGlvbiAoZSkge1xuICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQgPyBlLm9yaWdpbmFsRXZlbnQgOiBlO1xuICAgIHZhclxuICAgICAgcmVjdCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgd2lkdGggPSB0aGlzLmRvbS4kY2FudmFzLndpZHRoKCksXG4gICAgICBoZWlnaHQgPSB0aGlzLmRvbS4kY2FudmFzLmhlaWdodCgpO1xuICAgIHZhciB4LCB5O1xuICAgIGlmIChlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICB4ID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgeSA9IGUudG91Y2hlc1swXS5wYWdlWTtcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IGUucGFnZVg7XG4gICAgICB5ID0gZS5wYWdlWTtcbiAgICB9XG4gICAgeCA9IHggLSB0aGlzLmRvbS4kY2FudmFzLm9mZnNldCgpLmxlZnQ7XG4gICAgeSA9IHkgLSB0aGlzLmRvbS4kY2FudmFzLm9mZnNldCgpLnRvcDtcbiAgICB4ICo9ICh3aWR0aCAvIHJlY3Qud2lkdGgpO1xuICAgIHkgKj0gKGhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9O1xuICB9LFxuXG4gIF9nZXRNaWRJbnB1dENvb3JkczogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB0aGlzLmNvb3Jkcy5vbGQueCArIGNvb3Jkcy54ID4+IDEsXG4gICAgICB5OiB0aGlzLmNvb3Jkcy5vbGQueSArIGNvb3Jkcy55ID4+IDFcbiAgICB9O1xuICB9XG59O1xuXG5EcmF3aW5nQm9hcmQuQ29udHJvbCA9IGZ1bmN0aW9uIChkcmF3aW5nQm9hcmQsIG9wdHMpIHtcbiAgdGhpcy5ib2FyZCA9IGRyYXdpbmdCb2FyZDtcbiAgdGhpcy5vcHRzID0gJC5leHRlbmQoe30sIHRoaXMuZGVmYXVsdHMsIG9wdHMpO1xuXG4gIHRoaXMuJGVsID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuYWRkQ2xhc3MoJ2RyYXdpbmctYm9hcmQtY29udHJvbCcpO1xuICBpZiAodGhpcy5uYW1lKVxuICAgIHRoaXMuJGVsLmFkZENsYXNzKCdkcmF3aW5nLWJvYXJkLWNvbnRyb2wtJyArIHRoaXMubmFtZSk7XG5cbiAgdGhpcy5ib2FyZC5ldi5iaW5kKCdib2FyZDpyZXNldCcsICQucHJveHkodGhpcy5vbkJvYXJkUmVzZXQsIHRoaXMpKTtcblxuICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5EcmF3aW5nQm9hcmQuQ29udHJvbC5wcm90b3R5cGUgPSB7XG5cbiAgbmFtZTogJycsXG5cbiAgZGVmYXVsdHM6IHt9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcblxuICB9LFxuXG4gIGFkZFRvQm9hcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmJvYXJkLmFkZENvbnRyb2wodGhpcyk7XG4gIH0sXG5cbiAgb25Cb2FyZFJlc2V0OiBmdW5jdGlvbiAob3B0cykge1xuXG4gIH1cblxufTtcblxuLy9leHRlbmQgZGlyZWN0bHkgdGFrZW4gZnJvbSBiYWNrYm9uZS5qc1xuRHJhd2luZ0JvYXJkLkNvbnRyb2wuZXh0ZW5kID0gZnVuY3Rpb24gKHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzO1xuICB2YXIgY2hpbGQ7XG4gIGlmIChwcm90b1Byb3BzICYmIHByb3RvUHJvcHMuaGFzT3duUHJvcGVydHkoJ2NvbnN0cnVjdG9yJykpIHtcbiAgICBjaGlsZCA9IHByb3RvUHJvcHMuY29uc3RydWN0b3I7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuICAkLmV4dGVuZChjaGlsZCwgcGFyZW50LCBzdGF0aWNQcm9wcyk7XG4gIHZhciBTdXJyb2dhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICB9O1xuICBTdXJyb2dhdGUucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcbiAgY2hpbGQucHJvdG90eXBlID0gbmV3IFN1cnJvZ2F0ZSgpO1xuICBpZiAocHJvdG9Qcm9wcykgJC5leHRlbmQoY2hpbGQucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTtcbiAgcmV0dXJuIGNoaWxkO1xufTtcbkRyYXdpbmdCb2FyZC5Db250cm9sLkNvbG9yID0gRHJhd2luZ0JvYXJkLkNvbnRyb2wuZXh0ZW5kKHtcbiAgbmFtZTogJ2NvbG9ycycsXG5cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW5pdFRlbXBsYXRlKCk7XG5cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy4kZWwub24oJ2NsaWNrJywgJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXBpY2tlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY29sb3IgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtY29sb3InKTtcbiAgICAgIHRoYXQuYm9hcmQuc2V0Q29sb3IoY29sb3IpO1xuICAgICAgdGhhdC4kZWwuZmluZCgnLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtY3VycmVudCcpXG4gICAgICAgIC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBjb2xvcilcbiAgICAgICAgLmF0dHIoJ2RhdGEtY29sb3InLCBjb2xvcik7XG5cbiAgICAgIHRoYXQuYm9hcmQuZXYudHJpZ2dlcignY29sb3I6Y2hhbmdlZCcsIGNvbG9yKTtcbiAgICAgIHRoYXQuJGVsLmZpbmQoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXJhaW5ib3dzJykuYWRkQ2xhc3MoJ2RyYXdpbmctYm9hcmQtdXRpbHMtaGlkZGVuJyk7XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICcuZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1jdXJyZW50JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoYXQuJGVsLmZpbmQoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXJhaW5ib3dzJykudG9nZ2xlQ2xhc3MoJ2RyYXdpbmctYm9hcmQtdXRpbHMtaGlkZGVuJyk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICB2YXIgJHJlbGF0ZWRCdXR0b24gPSAkdGFyZ2V0Lmhhc0NsYXNzKCdkcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLWN1cnJlbnQnKSA/ICR0YXJnZXQgOiAkdGFyZ2V0LmNsb3Nlc3QoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLWN1cnJlbnQnKTtcbiAgICAgIHZhciAkbXlCdXR0b24gPSB0aGF0LiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1jdXJyZW50Jyk7XG4gICAgICB2YXIgJHBvcHVwID0gdGhhdC4kZWwuZmluZCgnLmRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtcmFpbmJvd3MnKTtcbiAgICAgIGlmICgoISRyZWxhdGVkQnV0dG9uLmxlbmd0aCB8fCAkcmVsYXRlZEJ1dHRvbi5nZXQoMCkgIT09ICRteUJ1dHRvbi5nZXQoMCkpICYmICEkcG9wdXAuaGFzQ2xhc3MoJ2RyYXdpbmctYm9hcmQtdXRpbHMtaGlkZGVuJykpXG4gICAgICAgICRwb3B1cC5hZGRDbGFzcygnZHJhd2luZy1ib2FyZC11dGlscy1oaWRkZW4nKTtcbiAgICB9KTtcbiAgfSxcblxuICBpbml0VGVtcGxhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHBsID0gJzxkaXYgY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2wtaW5uZXJcIj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1jdXJyZW50XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB7e2NvbG9yfX1cIiBkYXRhLWNvbG9yPVwie3tjb2xvcn19XCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY29udHJvbC1jb2xvcnMtcmFpbmJvd3NcIj57e3JhaW5ib3dzfX08L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nO1xuICAgIHZhciBvbmVDb2xvclRwbCA9ICc8ZGl2IGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1waWNrZXJcIiBkYXRhLWNvbG9yPVwie3tjb2xvcn19XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB7e2NvbG9yfX1cIj48L2Rpdj4nO1xuICAgIHZhciByYWluYm93cyA9ICcnO1xuICAgICQuZWFjaChbMC43NSwgMC41LCAwLjI1XSwgJC5wcm94eShmdW5jdGlvbiAoa2V5LCB2YWwpIHtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciBhZGRpdGlvbmFsQ29sb3IgPSBudWxsO1xuICAgICAgcmFpbmJvd3MgKz0gJzxkaXYgY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLXJhaW5ib3dcIj4nO1xuICAgICAgaWYgKHZhbCA9PSAwLjI1KSBhZGRpdGlvbmFsQ29sb3IgPSB0aGlzLl9yZ2JhKDAsIDAsIDAsIDEpO1xuICAgICAgaWYgKHZhbCA9PSAwLjUpIGFkZGl0aW9uYWxDb2xvciA9IHRoaXMuX3JnYmEoMTUwLCAxNTAsIDE1MCwgMSk7XG4gICAgICBpZiAodmFsID09IDAuNzUpIGFkZGl0aW9uYWxDb2xvciA9IHRoaXMuX3JnYmEoMjU1LCAyNTUsIDI1NSwgMSk7XG4gICAgICByYWluYm93cyArPSBEcmF3aW5nQm9hcmQuVXRpbHMudHBsKG9uZUNvbG9yVHBsLCB7XG4gICAgICAgIGNvbG9yOiBhZGRpdGlvbmFsQ29sb3IudG9TdHJpbmcoKVxuICAgICAgfSk7XG4gICAgICB3aGlsZSAoaSA8PSAzMzApIHtcbiAgICAgICAgcmFpbmJvd3MgKz0gRHJhd2luZ0JvYXJkLlV0aWxzLnRwbChvbmVDb2xvclRwbCwge1xuICAgICAgICAgIGNvbG9yOiB0aGlzLl9oc2wyUmdiYSh0aGlzLl9oc2woaSAtIDYwLCAxLCB2YWwpKS50b1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgICAgICBpICs9IDMwO1xuICAgICAgfVxuICAgICAgcmFpbmJvd3MgKz0gJzwvZGl2Pic7XG4gICAgfSwgdGhpcykpO1xuXG4gICAgdGhpcy4kZWwuYXBwZW5kKCQoRHJhd2luZ0JvYXJkLlV0aWxzLnRwbCh0cGwsIHtcbiAgICAgIGNvbG9yOiB0aGlzLmJvYXJkLmNvbG9yLFxuICAgICAgcmFpbmJvd3M6IHJhaW5ib3dzXG4gICAgfSkpKTtcbiAgICB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jb250cm9sLWNvbG9ycy1yYWluYm93cycpLmFkZENsYXNzKCdkcmF3aW5nLWJvYXJkLXV0aWxzLWhpZGRlbicpO1xuICB9LFxuXG4gIG9uQm9hcmRSZXNldDogZnVuY3Rpb24gKG9wdHMpIHtcbiAgICB0aGlzLmJvYXJkLnNldENvbG9yKHRoaXMuJGVsLmZpbmQoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtY29sb3JzLWN1cnJlbnQnKS5hdHRyKCdkYXRhLWNvbG9yJykpO1xuICB9LFxuXG4gIF9yZ2JhOiBmdW5jdGlvbiAociwgZywgYiwgYSkge1xuICAgIHJldHVybiB7XG4gICAgICByOiByLFxuICAgICAgZzogZyxcbiAgICAgIGI6IGIsXG4gICAgICBhOiBhLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIiArIHIgKyBcIiwgXCIgKyBnICsgXCIsIFwiICsgYiArIFwiLCBcIiArIGEgKyBcIilcIjtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuXG4gIF9oc2w6IGZ1bmN0aW9uIChoLCBzLCBsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGg6IGgsXG4gICAgICBzOiBzLFxuICAgICAgbDogbCxcbiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImhzbChcIiArIGggKyBcIiwgXCIgKyBzICogMTAwICsgXCIlLCBcIiArIGwgKiAxMDAgKyBcIiUpXCI7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcblxuICBfaGV4MlJnYmE6IGZ1bmN0aW9uIChoZXgpIHtcbiAgICB2YXIgbnVtID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygxKSwgMTYpO1xuICAgIHJldHVybiB0aGlzLl9yZ2JhKG51bSA+PiAxNiwgbnVtID4+IDggJiAyNTUsIG51bSAmIDI1NSwgMSk7XG4gIH0sXG5cbiAgLy9jb252ZXJzaW9uIGZ1bmN0aW9uIChtb2RpZmllZCBhIGJpdCkgdGFrZW4gZnJvbSBodHRwOi8vbWppamFja3Nvbi5jb20vMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0XG4gIF9oc2wyUmdiYTogZnVuY3Rpb24gKGhzbCkge1xuICAgIHZhciBoID0gaHNsLmggLyAzNjAsXG4gICAgICBzID0gaHNsLnMsXG4gICAgICBsID0gaHNsLmwsXG4gICAgICByLCBnLCBiO1xuXG4gICAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICBpZiAodCA8IDApIHQgKz0gMTtcbiAgICAgIGlmICh0ID4gMSkgdCAtPSAxO1xuICAgICAgaWYgKHQgPCAxIC8gNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgICBpZiAodCA8IDEgLyAyKSByZXR1cm4gcTtcbiAgICAgIGlmICh0IDwgMiAvIDMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBpZiAocyA9PT0gMCkge1xuICAgICAgciA9IGcgPSBiID0gbDsgLy8gYWNocm9tYXRpY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICAgIHIgPSBNYXRoLmZsb29yKChodWUycmdiKHAsIHEsIGggKyAxIC8gMykpICogMjU1KTtcbiAgICAgIGcgPSBNYXRoLmZsb29yKChodWUycmdiKHAsIHEsIGgpKSAqIDI1NSk7XG4gICAgICBiID0gTWF0aC5mbG9vcigoaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpKSAqIDI1NSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZ2JhKHIsIGcsIGIsIDEpO1xuICB9XG59KTtcbkRyYXdpbmdCb2FyZC5Db250cm9sLkRyYXdpbmdNb2RlID0gRHJhd2luZ0JvYXJkLkNvbnRyb2wuZXh0ZW5kKHtcblxuICBuYW1lOiAnZHJhd2luZ21vZGUnLFxuXG4gIGRlZmF1bHRzOiB7XG4gICAgcGVuY2lsOiB0cnVlLFxuICAgIGVyYXNlcjogdHJ1ZSxcbiAgICBmaWxsZXI6IHRydWVcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLnByZXZNb2RlID0gdGhpcy5ib2FyZC5nZXRNb2RlKCk7XG5cbiAgICAkLmVhY2goW1wicGVuY2lsXCIsIFwiZXJhc2VyXCIsIFwiZmlsbGVyXCJdLCAkLnByb3h5KGZ1bmN0aW9uIChrLCB2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMub3B0c1t2YWx1ZV0pIHtcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKCc8YnV0dG9uIGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLWRyYXdpbmdtb2RlLScgKyB2YWx1ZSArICctYnV0dG9uXCIgZGF0YS1tb2RlPVwiJyArIHZhbHVlICsgJ1wiPjwvYnV0dG9uPicpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpKTtcblxuICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICdidXR0b25bZGF0YS1tb2RlXScsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB2YWx1ZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLW1vZGUnKTtcbiAgICAgIHZhciBtb2RlID0gdGhpcy5ib2FyZC5nZXRNb2RlKCk7XG4gICAgICBpZiAobW9kZSAhPT0gdmFsdWUpIHRoaXMucHJldk1vZGUgPSBtb2RlO1xuICAgICAgdmFyIG5ld01vZGUgPSBtb2RlID09PSB2YWx1ZSA/IHRoaXMucHJldk1vZGUgOiB2YWx1ZTtcbiAgICAgIHRoaXMuYm9hcmQuc2V0TW9kZShuZXdNb2RlKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCB0aGlzKSk7XG5cbiAgICB0aGlzLmJvYXJkLmV2LmJpbmQoJ2JvYXJkOm1vZGUnLCAkLnByb3h5KGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICB0aGlzLnRvZ2dsZUJ1dHRvbnMobW9kZSk7XG4gICAgfSwgdGhpcykpO1xuXG4gICAgdGhpcy50b2dnbGVCdXR0b25zKHRoaXMuYm9hcmQuZ2V0TW9kZSgpKTtcbiAgfSxcblxuICB0b2dnbGVCdXR0b25zOiBmdW5jdGlvbiAobW9kZSkge1xuICAgIHRoaXMuJGVsLmZpbmQoJ2J1dHRvbltkYXRhLW1vZGVdJykuZWFjaChmdW5jdGlvbiAoaywgaXRlbSkge1xuICAgICAgdmFyICRpdGVtID0gJChpdGVtKTtcbiAgICAgICRpdGVtLnRvZ2dsZUNsYXNzKCdhY3RpdmUnLCBtb2RlID09PSAkaXRlbS5hdHRyKCdkYXRhLW1vZGUnKSk7XG4gICAgfSk7XG4gIH1cblxufSk7XG5cbkRyYXdpbmdCb2FyZC5Db250cm9sLk5hdmlnYXRpb24gPSBEcmF3aW5nQm9hcmQuQ29udHJvbC5leHRlbmQoe1xuXG4gIG5hbWU6ICduYXZpZ2F0aW9uJyxcblxuICBkZWZhdWx0czoge1xuICAgIGJhY2s6IHRydWUsXG4gICAgZm9yd2FyZDogdHJ1ZSxcbiAgICByZXNldDogdHJ1ZVxuICB9LFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSAnJztcbiAgICBpZiAodGhpcy5vcHRzLmJhY2spIGVsICs9ICc8YnV0dG9uIGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLW5hdmlnYXRpb24tYmFja1wiPiZsYXJyOzwvYnV0dG9uPic7XG4gICAgaWYgKHRoaXMub3B0cy5mb3J3YXJkKSBlbCArPSAnPGJ1dHRvbiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY29udHJvbC1uYXZpZ2F0aW9uLWZvcndhcmRcIj4mcmFycjs8L2J1dHRvbj4nO1xuICAgIGlmICh0aGlzLm9wdHMucmVzZXQpIGVsICs9ICc8YnV0dG9uIGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLW5hdmlnYXRpb24tcmVzZXRcIj4mdGltZXM7PC9idXR0b24+JztcbiAgICB0aGlzLiRlbC5hcHBlbmQoZWwpO1xuXG4gICAgaWYgKHRoaXMub3B0cy5iYWNrKSB7XG4gICAgICB2YXIgJGJhY2sgPSB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jb250cm9sLW5hdmlnYXRpb24tYmFjaycpO1xuICAgICAgdGhpcy5ib2FyZC5ldi5iaW5kKCdoaXN0b3J5TmF2aWdhdGlvbicsICQucHJveHkodGhpcy51cGRhdGVCYWNrLCB0aGlzLCAkYmFjaykpO1xuICAgICAgdGhpcy4kZWwub24oJ2NsaWNrJywgJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtbmF2aWdhdGlvbi1iYWNrJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmJvYXJkLmdvQmFja0luSGlzdG9yeSgpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9LCB0aGlzKSk7XG5cbiAgICAgIHRoaXMudXBkYXRlQmFjaygkYmFjayk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0cy5mb3J3YXJkKSB7XG4gICAgICB2YXIgJGZvcndhcmQgPSB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jb250cm9sLW5hdmlnYXRpb24tZm9yd2FyZCcpO1xuICAgICAgdGhpcy5ib2FyZC5ldi5iaW5kKCdoaXN0b3J5TmF2aWdhdGlvbicsICQucHJveHkodGhpcy51cGRhdGVGb3J3YXJkLCB0aGlzLCAkZm9yd2FyZCkpO1xuICAgICAgdGhpcy4kZWwub24oJ2NsaWNrJywgJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtbmF2aWdhdGlvbi1mb3J3YXJkJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLmJvYXJkLmdvRm9ydGhJbkhpc3RvcnkoKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSwgdGhpcykpO1xuXG4gICAgICB0aGlzLnVwZGF0ZUZvcndhcmQoJGZvcndhcmQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdHMucmVzZXQpIHtcbiAgICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICcuZHJhd2luZy1ib2FyZC1jb250cm9sLW5hdmlnYXRpb24tcmVzZXQnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMuYm9hcmQucmVzZXQoe1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sIHRoaXMpKTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlQmFjazogZnVuY3Rpb24gKCRiYWNrKSB7XG4gICAgaWYgKHRoaXMuYm9hcmQuaGlzdG9yeS5jYW5VbmRvKCkpIHtcbiAgICAgICRiYWNrLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRiYWNrLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZUZvcndhcmQ6IGZ1bmN0aW9uICgkZm9yd2FyZCkge1xuICAgIGlmICh0aGlzLmJvYXJkLmhpc3RvcnkuY2FuUmVkbygpKSB7XG4gICAgICAkZm9yd2FyZC5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZm9yd2FyZC5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxufSk7XG5EcmF3aW5nQm9hcmQuQ29udHJvbC5TaXplID0gRHJhd2luZ0JvYXJkLkNvbnRyb2wuZXh0ZW5kKHtcblxuICBuYW1lOiAnc2l6ZScsXG5cbiAgZGVmYXVsdHM6IHtcbiAgICB0eXBlOiBcImF1dG9cIixcbiAgICBkcm9wZG93blZhbHVlczogWzEsIDMsIDYsIDEwLCAyMCwgMzAsIDQwLCA1MF0sXG4gICAgbWluOiAxLFxuICAgIG1heDogNTBcbiAgfSxcblxuICB0eXBlczogWydkcm9wZG93bicsICdyYW5nZSddLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5vcHRzLnR5cGUgPT0gXCJhdXRvXCIpXG4gICAgICB0aGlzLm9wdHMudHlwZSA9IHRoaXMuX2lIYXNSYW5nZUlucHV0KCkgPyAncmFuZ2UnIDogJ2Ryb3Bkb3duJztcbiAgICB2YXIgdHBsID0gJC5pbkFycmF5KHRoaXMub3B0cy50eXBlLCB0aGlzLnR5cGVzKSA+IC0xID8gdGhpc1snXycgKyB0aGlzLm9wdHMudHlwZSArICdUZW1wbGF0ZSddKCkgOiBmYWxzZTtcbiAgICBpZiAoIXRwbCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgdGhpcy52YWwgPSB0aGlzLmJvYXJkLm9wdHMuc2l6ZTtcblxuICAgIHRoaXMuJGVsLmFwcGVuZCgkKHRwbCkpO1xuICAgIHRoaXMuJGVsLmF0dHIoJ2RhdGEtZHJhd2luZy1ib2FyZC10eXBlJywgdGhpcy5vcHRzLnR5cGUpO1xuICAgIHRoaXMudXBkYXRlVmlldygpO1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMub3B0cy50eXBlID09IFwicmFuZ2VcIikge1xuICAgICAgdGhpcy4kZWwub24oJ2NoYW5nZScsICcuZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtcmFuZ2UtaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGF0LnZhbCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIHRoYXQudXBkYXRlVmlldygpO1xuXG4gICAgICAgIHRoYXQuYm9hcmQuZXYudHJpZ2dlcignc2l6ZTpjaGFuZ2VkJywgdGhhdC52YWwpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdHMudHlwZSA9PSBcImRyb3Bkb3duXCIpIHtcbiAgICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICcuZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24tY3VycmVudCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLWRyb3Bkb3duJykudG9nZ2xlQ2xhc3MoJ2RyYXdpbmctYm9hcmQtdXRpbHMtaGlkZGVuJyk7XG4gICAgICB9LCB0aGlzKSk7XG5cbiAgICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICdbZGF0YS1zaXplXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoYXQudmFsID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhLXNpemUnKSwgMCk7XG4gICAgICAgIHRoYXQudXBkYXRlVmlldygpO1xuXG4gICAgICAgIHRoYXQuYm9hcmQuZXYudHJpZ2dlcignc2l6ZTpjaGFuZ2VkJywgdGhhdC52YWwpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBfcmFuZ2VUZW1wbGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0cGwgPSAnPGRpdiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY29udHJvbC1pbm5lclwiIHRpdGxlPVwie3tzaXplfX1cIj4nICtcbiAgICAgICc8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwie3ttaW59fVwiIG1heD1cInt7bWF4fX1cIiB2YWx1ZT1cInt7c2l6ZX19XCIgc3RlcD1cIjFcIiBjbGFzcz1cImRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLXJhbmdlLWlucHV0XCI+JyArXG4gICAgICAnPHNwYW4gY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1yYW5nZS1jdXJyZW50XCI+PC9zcGFuPicgK1xuICAgICAgJzwvZGl2Pic7XG4gICAgcmV0dXJuIERyYXdpbmdCb2FyZC5VdGlscy50cGwodHBsLCB7XG4gICAgICBtaW46IHRoaXMub3B0cy5taW4sXG4gICAgICBtYXg6IHRoaXMub3B0cy5tYXgsXG4gICAgICBzaXplOiB0aGlzLmJvYXJkLm9wdHMuc2l6ZVxuICAgIH0pO1xuICB9LFxuXG4gIF9kcm9wZG93blRlbXBsYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRwbCA9ICc8ZGl2IGNsYXNzPVwiZHJhd2luZy1ib2FyZC1jb250cm9sLWlubmVyXCIgdGl0bGU9XCJ7e3NpemV9fVwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1kcm9wZG93bi1jdXJyZW50XCI+PHNwYW4+PC9zcGFuPjwvZGl2PicgK1xuICAgICAgJzx1bCBjbGFzcz1cImRyYXdpbmctYm9hcmQtY29udHJvbC1zaXplLWRyb3Bkb3duXCI+JztcbiAgICAkLmVhY2godGhpcy5vcHRzLmRyb3Bkb3duVmFsdWVzLCBmdW5jdGlvbiAoaSwgc2l6ZSkge1xuICAgICAgdHBsICs9IERyYXdpbmdCb2FyZC5VdGlscy50cGwoXG4gICAgICAgICc8bGkgZGF0YS1zaXplPVwie3tzaXplfX1cIj48c3BhbiBzdHlsZT1cIndpZHRoOiB7e3NpemV9fXB4OyBoZWlnaHQ6IHt7c2l6ZX19cHg7IGJvcmRlci1yYWRpdXM6IHt7c2l6ZX19cHg7XCI+PC9zcGFuPjwvbGk+Jywge1xuICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0cGwgKz0gJzwvdWw+PC9kaXY+JztcbiAgICByZXR1cm4gdHBsO1xuICB9LFxuXG4gIG9uQm9hcmRSZXNldDogZnVuY3Rpb24gKG9wdHMpIHtcbiAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgfSxcblxuICB1cGRhdGVWaWV3OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbCA9IHRoaXMudmFsO1xuICAgIHRoaXMuYm9hcmQuY3R4LmxpbmVXaWR0aCA9IHZhbDtcblxuICAgIHRoaXMuJGVsLmZpbmQoJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtc2l6ZS1yYW5nZS1jdXJyZW50LCAuZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24tY3VycmVudCBzcGFuJykuY3NzKHtcbiAgICAgIHdpZHRoOiB2YWwgKyAncHgnLFxuICAgICAgaGVpZ2h0OiB2YWwgKyAncHgnLFxuICAgICAgYm9yZGVyUmFkaXVzOiB2YWwgKyAncHgnLFxuICAgICAgbWFyZ2luTGVmdDogLTEgKiB2YWwgLyAyICsgJ3B4JyxcbiAgICAgIG1hcmdpblRvcDogLTEgKiB2YWwgLyAyICsgJ3B4J1xuICAgIH0pO1xuXG4gICAgdGhpcy4kZWwuZmluZCgnLmRyYXdpbmctYm9hcmQtY29udHJvbC1pbm5lcicpLmF0dHIoJ3RpdGxlJywgdmFsKTtcblxuICAgIGlmICh0aGlzLm9wdHMudHlwZSA9PSAnZHJvcGRvd24nKSB7XG4gICAgICB2YXIgY2xvc2VzdCA9IG51bGw7XG4gICAgICAkLmVhY2godGhpcy5vcHRzLmRyb3Bkb3duVmFsdWVzLCBmdW5jdGlvbiAoaSwgc2l6ZSkge1xuICAgICAgICBpZiAoY2xvc2VzdCA9PT0gbnVsbCB8fCBNYXRoLmFicyhzaXplIC0gdmFsKSA8IE1hdGguYWJzKGNsb3Nlc3QgLSB2YWwpKVxuICAgICAgICAgIGNsb3Nlc3QgPSBzaXplO1xuICAgICAgfSk7XG4gICAgICB0aGlzLiRlbC5maW5kKCcuZHJhd2luZy1ib2FyZC1jb250cm9sLXNpemUtZHJvcGRvd24nKS5hZGRDbGFzcygnZHJhd2luZy1ib2FyZC11dGlscy1oaWRkZW4nKTtcbiAgICB9XG4gIH0sXG5cbiAgX2lIYXNSYW5nZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlucHV0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JyksXG4gICAgICBzbWlsZSA9ICc6KScsXG4gICAgICBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtVHlwZSA9ICdyYW5nZScsXG4gICAgICBhdmFpbGFibGU7XG4gICAgaW5wdXRFbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsIGlucHV0RWxlbVR5cGUpO1xuICAgIGF2YWlsYWJsZSA9IGlucHV0RWxlbS50eXBlICE9PSAndGV4dCc7XG4gICAgaW5wdXRFbGVtLnZhbHVlID0gc21pbGU7XG4gICAgaW5wdXRFbGVtLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW47JztcbiAgICBpZiAoL15yYW5nZSQvLnRlc3QoaW5wdXRFbGVtVHlwZSkgJiYgaW5wdXRFbGVtLnN0eWxlLldlYmtpdEFwcGVhcmFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZG9jRWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dEVsZW0pO1xuICAgICAgZGVmYXVsdFZpZXcgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICAgIGF2YWlsYWJsZSA9IGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUgJiZcbiAgICAgICAgZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dEVsZW0sIG51bGwpLldlYmtpdEFwcGVhcmFuY2UgIT09ICd0ZXh0ZmllbGQnICYmXG4gICAgICAgIChpbnB1dEVsZW0ub2Zmc2V0SGVpZ2h0ICE9PSAwKTtcbiAgICAgIGRvY0VsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtKTtcbiAgICB9XG4gICAgcmV0dXJuICEhYXZhaWxhYmxlO1xuICB9XG59KTtcbkRyYXdpbmdCb2FyZC5Db250cm9sLkRvd25sb2FkID0gRHJhd2luZ0JvYXJkLkNvbnRyb2wuZXh0ZW5kKHtcblxuICBuYW1lOiAnZG93bmxvYWQnLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRlbC5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCJkcmF3aW5nLWJvYXJkLWNvbnRyb2wtZG93bmxvYWQtYnV0dG9uXCI+PC9idXR0b24+Jyk7XG4gICAgdGhpcy4kZWwub24oJ2NsaWNrJywgJy5kcmF3aW5nLWJvYXJkLWNvbnRyb2wtZG93bmxvYWQtYnV0dG9uJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5ib2FyZC5kb3dubG9hZEltZygpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sIHRoaXMpKTtcbiAgfVxuXG59KTtcblxuLy9jb25zb2xlLmxvZyhTaW1wbGVVbmRvKTtcblxuLy9leHBvcnRzXG4vLyBub2RlIG1vZHVsZVxuaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHNbXCJTaW1wbGVVbmRvXCJdID0gd2luZG93LlNpbXBsZVVuZG87XG4gIG1vZHVsZS5leHBvcnRzW1wiRHJhd2luZ0JvYXJkXCJdID0gd2luZG93LkRyYXdpbmdCb2FyZDtcblxufVxuXG4vLyBicm93c2VyIGdsb2JhbFxuaWYgKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LlNpbXBsZVVuZG8gPSBTaW1wbGVVbmRvO1xuICB3aW5kb3cuRHJhd2luZ0JvYXJkID0gRHJhd2luZ0JvYXJkO1xufVxuXG4vKlxuICAvL2V4cG9ydHNcbiAgLy8gbm9kZSBtb2R1bGVcbiAgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFNpbXBsZVVuZG87XG4gIH1cblxuICAvLyBicm93c2VyIGdsb2JhbFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5TaW1wbGVVbmRvID0gU2ltcGxlVW5kbztcbiAgfVxuICAqL1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYXBwL21vZHVsZXMvZ2FtZWxvb3AvY2FudmFzL2RyYXdpbmdib2FyZC5qc1xuLy8gbW9kdWxlIGlkID0gODc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///878\n");

/***/ })

});